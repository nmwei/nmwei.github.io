1:"$Sreact.fragment"
2:I[1478,["545","static/chunks/c16f53c3-5b47b7f1ae12d8f6.js","874","static/chunks/874-7cca39d2e0ddd8b8.js","430","static/chunks/430-27ea613f983ffbaf.js","177","static/chunks/app/layout-4f2fc603b9b897e8.js"],"ThemeProviders"]
3:I[9243,["545","static/chunks/c16f53c3-5b47b7f1ae12d8f6.js","874","static/chunks/874-7cca39d2e0ddd8b8.js","430","static/chunks/430-27ea613f983ffbaf.js","177","static/chunks/app/layout-4f2fc603b9b897e8.js"],""]
4:I[7392,["545","static/chunks/c16f53c3-5b47b7f1ae12d8f6.js","874","static/chunks/874-7cca39d2e0ddd8b8.js","430","static/chunks/430-27ea613f983ffbaf.js","177","static/chunks/app/layout-4f2fc603b9b897e8.js"],"KBarSearchProvider"]
5:I[6874,["874","static/chunks/874-7cca39d2e0ddd8b8.js","63","static/chunks/63-2b4206848ffc60fb.js","909","static/chunks/app/blog/%5B...slug%5D/page-28d33eed3f173442.js"],""]
6:I[4159,["545","static/chunks/c16f53c3-5b47b7f1ae12d8f6.js","874","static/chunks/874-7cca39d2e0ddd8b8.js","430","static/chunks/430-27ea613f983ffbaf.js","177","static/chunks/app/layout-4f2fc603b9b897e8.js"],"KBarButton"]
7:I[1762,["545","static/chunks/c16f53c3-5b47b7f1ae12d8f6.js","874","static/chunks/874-7cca39d2e0ddd8b8.js","430","static/chunks/430-27ea613f983ffbaf.js","177","static/chunks/app/layout-4f2fc603b9b897e8.js"],"default"]
8:I[7298,["545","static/chunks/c16f53c3-5b47b7f1ae12d8f6.js","874","static/chunks/874-7cca39d2e0ddd8b8.js","430","static/chunks/430-27ea613f983ffbaf.js","177","static/chunks/app/layout-4f2fc603b9b897e8.js"],"default"]
9:I[7555,[],""]
a:I[1295,[],""]
c:I[9665,[],"OutletBoundary"]
f:I[9665,[],"ViewportBoundary"]
11:I[9665,[],"MetadataBoundary"]
13:I[6614,[],""]
:HL["/_next/static/media/7cba1811e3c25a15-s.p.woff2","font",{"crossOrigin":"","type":"font/woff2"}]
:HL["/_next/static/css/f71128b9ac16cc11.css","style"]
:HL["/_next/static/css/5fa3e5bae12b17db.css","style"]
:HL["/_next/static/css/206c8cd9f1135cc1.css","style"]
0:{"P":null,"b":"zD_bYF5SZMVS-oUQR0xRK","p":"","c":["","blog","Webpack","Webpack4-0%E8%BF%9B%E9%98%B6"],"i":false,"f":[[["",{"children":["blog",{"children":[["slug","Webpack/Webpack4-0%E8%BF%9B%E9%98%B6","c"],{"children":["__PAGE__",{}]}]}]},"$undefined","$undefined",true],["",["$","$1","c",{"children":[[["$","link","0",{"rel":"stylesheet","href":"/_next/static/css/f71128b9ac16cc11.css","precedence":"next","crossOrigin":"$undefined","nonce":"$undefined"}],["$","link","1",{"rel":"stylesheet","href":"/_next/static/css/5fa3e5bae12b17db.css","precedence":"next","crossOrigin":"$undefined","nonce":"$undefined"}]],["$","html",null,{"lang":"zh-cn","className":"__variable_bc0dcf scroll-smooth","suppressHydrationWarning":true,"children":[["$","link",null,{"rel":"apple-touch-icon","sizes":"76x76","href":"/static/favicons/apple-touch-icon.png"}],["$","link",null,{"rel":"icon","type":"image/png","sizes":"32x32","href":"/static/favicons/favicon-32x32.png"}],["$","link",null,{"rel":"icon","type":"image/png","sizes":"16x16","href":"/static/favicons/favicon-16x16.png"}],["$","link",null,{"rel":"manifest","href":"/static/favicons/site.webmanifest"}],["$","link",null,{"rel":"mask-icon","href":"/static/favicons/safari-pinned-tab.svg","color":"#5bbad5"}],["$","meta",null,{"name":"msapplication-TileColor","content":"#000000"}],["$","meta",null,{"name":"theme-color","media":"(prefers-color-scheme: light)","content":"#fff"}],["$","meta",null,{"name":"theme-color","media":"(prefers-color-scheme: dark)","content":"#000"}],["$","link",null,{"rel":"alternate","type":"application/rss+xml","href":"/feed.xml"}],["$","body",null,{"className":"bg-white pl-[calc(100vw-100%)] text-black antialiased dark:bg-gray-950 dark:text-white","children":["$","$L2",null,{"children":[["$undefined","$undefined","$undefined",["$","$L3",null,{"async":true,"defer":true,"src":"https://analytics.umami.is/script.js"}],"$undefined","$undefined"],["$","section",null,{"className":"mx-auto max-w-3xl px-4 sm:px-6 xl:max-w-5xl xl:px-0","children":[["$","$L4",null,{"kbarConfig":{"searchDocumentsPath":"/search.json"},"children":[["$","header",null,{"className":"flex items-center w-full bg-white dark:bg-gray-950 justify-between py-10","children":[["$","$L5",null,{"className":"break-words","href":"/","aria-label":"我的博客","children":["$","div",null,{"className":"flex items-center justify-between","children":[["$","div",null,{"className":"mr-3","children":["$","svg",null,{"xmlns":"http://www.w3.org/2000/svg","xmlnsXlink":"http://www.w3.org/1999/xlink","width":53.87,"height":43.61,"viewBox":"344.564 330.278 111.737 91.218","children":[["$","defs",null,{"children":[["$","linearGradient",null,{"id":"logo_svg__b","x1":420.97,"x2":420.97,"y1":331.28,"y2":418.5,"gradientUnits":"userSpaceOnUse","children":[["$","stop",null,{"offset":"0%","style":{"stopColor":"#06b6d4","stopOpacity":1}}],["$","stop",null,{"offset":"100%","style":{"stopColor":"#67e8f9","stopOpacity":1}}]]}],["$","linearGradient",null,{"id":"logo_svg__d","x1":377.89,"x2":377.89,"y1":331.28,"y2":418.5,"gradientUnits":"userSpaceOnUse","children":[["$","stop",null,{"offset":"0%","style":{"stopColor":"#06b6d4","stopOpacity":1}}],["$","stop",null,{"offset":"100%","style":{"stopColor":"#67e8f9","stopOpacity":1}}]]}],["$","path",null,{"id":"logo_svg__a","d":"M453.3 331.28v28.57l-64.66 58.65v-30.08z"}],["$","path",null,{"id":"logo_svg__c","d":"M410.23 331.28v28.57l-64.67 58.65v-30.08z"}]]}],["$","use",null,{"xlinkHref":"#logo_svg__a","fill":"url(#logo_svg__b)"}],["$","use",null,{"xlinkHref":"#logo_svg__c","fill":"url(#logo_svg__d)"}]]}]}],["$","div",null,{"className":"hidden h-6 text-2xl font-semibold sm:block","children":"我的博客"}]]}]}],["$","div",null,{"className":"flex items-center space-x-4 leading-5 sm:-mr-6 sm:space-x-6","children":[["$","div",null,{"className":"no-scrollbar hidden max-w-40 items-center gap-x-4 overflow-x-auto sm:flex md:max-w-72 lg:max-w-96","children":[["$","$L5","博客",{"className":"hover:text-primary-500 dark:hover:text-primary-400 m-1 font-medium text-gray-900 dark:text-gray-100","href":"/blog","children":"博客"}],["$","$L5","标签",{"className":"hover:text-primary-500 dark:hover:text-primary-400 m-1 font-medium text-gray-900 dark:text-gray-100","href":"/tags","children":"标签"}],["$","$L5","项目",{"className":"hover:text-primary-500 dark:hover:text-primary-400 m-1 font-medium text-gray-900 dark:text-gray-100","href":"/projects","children":"项目"}],["$","$L5","关于",{"className":"hover:text-primary-500 dark:hover:text-primary-400 m-1 font-medium text-gray-900 dark:text-gray-100","href":"/about","children":"关于"}]]}],["$","$L6",null,{"aria-label":"Search","children":["$","svg",null,{"xmlns":"http://www.w3.org/2000/svg","fill":"none","viewBox":"0 0 24 24","strokeWidth":1.5,"stroke":"currentColor","className":"hover:text-primary-500 dark:hover:text-primary-400 h-6 w-6 text-gray-900 dark:text-gray-100","children":["$","path",null,{"strokeLinecap":"round","strokeLinejoin":"round","d":"M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"}]}]}],["$","$L7",null,{}],["$","$L8",null,{}]]}]]}],["$","main",null,{"className":"mb-auto","children":["$","$L9",null,{"parallelRouterKey":"children","error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$La",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":[["$","div",null,{"className":"flex flex-col items-start justify-start md:mt-24 md:flex-row md:items-center md:justify-center md:space-x-6","children":[["$","div",null,{"className":"space-x-2 pt-6 pb-8 md:space-y-5","children":["$","h1",null,{"className":"text-6xl leading-9 font-extrabold tracking-tight text-gray-900 md:border-r-2 md:px-6 md:text-8xl md:leading-14 dark:text-gray-100","children":"404"}]}],["$","div",null,{"className":"max-w-md","children":[["$","p",null,{"className":"mb-4 text-xl leading-normal font-bold md:text-2xl","children":"Sorry we couldn't find this page."}],["$","p",null,{"className":"mb-8","children":"But dont worry, you can find plenty of other things on our homepage."}],["$","$L5",null,{"className":"focus:shadow-outline-blue inline rounded-lg border border-transparent bg-blue-600 px-4 py-2 text-sm leading-5 font-medium text-white shadow-xs transition-colors duration-150 hover:bg-blue-700 focus:outline-hidden dark:hover:bg-blue-500","href":"/","children":"Back to homepage"}]]}]]}],[]],"forbidden":"$undefined","unauthorized":"$undefined"}]}]]}],["$","footer",null,{"children":["$","div",null,{"className":"mt-16 flex flex-col items-center","children":[["$","div",null,{"className":"mb-3 flex space-x-4","children":[["$","a",null,{"className":"text-sm text-gray-500 transition hover:text-gray-600","target":"_blank","rel":"noopener noreferrer","href":"mailto:254060001@qq.com","children":[["$","span",null,{"className":"sr-only","children":"mail"}],["$","svg",null,{"xmlns":"http://www.w3.org/2000/svg","viewBox":"0 0 20 20","className":"hover:text-primary-500 dark:hover:text-primary-400 fill-current text-gray-700 dark:text-gray-200 h-6 w-6","children":[["$","title",null,{"children":"Mail"}],["$","path",null,{"d":"M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z"}],["$","path",null,{"d":"M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z"}]]}]]}],["$","a",null,{"className":"text-sm text-gray-500 transition hover:text-gray-600","target":"_blank","rel":"noopener noreferrer","href":"https://github.com","children":[["$","span",null,{"className":"sr-only","children":"github"}],["$","svg",null,{"xmlns":"http://www.w3.org/2000/svg","viewBox":"0 0 24 24","className":"hover:text-primary-500 dark:hover:text-primary-400 fill-current text-gray-700 dark:text-gray-200 h-6 w-6","children":[["$","title",null,{"children":"GitHub"}],["$","path",null,{"d":"M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"}]]}]]}],null,null,null,null,null,null,null,null,null]}],["$","div",null,{"className":"mb-2 flex space-x-2 text-sm text-gray-500 dark:text-gray-400","children":[["$","div",null,{"children":"倪梦威"}],["$","div",null,{"children":" • "}],["$","div",null,{"children":"© 2025"}],["$","div",null,{"children":" • "}],["$","$L5",null,{"className":"break-words","href":"/","children":"我的博客"}]]}],false]}]}]]}]]}]}]]}]]}],{"children":["blog",["$","$1","c",{"children":[null,["$","$L9",null,{"parallelRouterKey":"children","error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$La",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","forbidden":"$undefined","unauthorized":"$undefined"}]]}],{"children":[["slug","Webpack/Webpack4-0%E8%BF%9B%E9%98%B6","c"],["$","$1","c",{"children":[null,["$","$L9",null,{"parallelRouterKey":"children","error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$La",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","forbidden":"$undefined","unauthorized":"$undefined"}]]}],{"children":["__PAGE__",["$","$1","c",{"children":["$Lb","$undefined",[["$","link","0",{"rel":"stylesheet","href":"/_next/static/css/206c8cd9f1135cc1.css","precedence":"next","crossOrigin":"$undefined","nonce":"$undefined"}]],["$","$Lc",null,{"children":["$Ld","$Le",null]}]]}],{},null,false]},null,false]},null,false]},null,false],["$","$1","h",{"children":[null,["$","$1","CqCnJrvxrLAeWaFyL1WGO",{"children":[["$","$Lf",null,{"children":"$L10"}],["$","meta",null,{"name":"next-size-adjust","content":""}]]}],["$","$L11",null,{"children":"$L12"}]]}],false]],"m":"$undefined","G":["$13","$undefined"],"s":false,"S":true}
14:I[1839,["874","static/chunks/874-7cca39d2e0ddd8b8.js","63","static/chunks/63-2b4206848ffc60fb.js","909","static/chunks/app/blog/%5B...slug%5D/page-28d33eed3f173442.js"],"default"]
15:I[3063,["874","static/chunks/874-7cca39d2e0ddd8b8.js","63","static/chunks/63-2b4206848ffc60fb.js","909","static/chunks/app/blog/%5B...slug%5D/page-28d33eed3f173442.js"],"Image"]
16:I[2100,["874","static/chunks/874-7cca39d2e0ddd8b8.js","63","static/chunks/63-2b4206848ffc60fb.js","909","static/chunks/app/blog/%5B...slug%5D/page-28d33eed3f173442.js"],"default"]
17:I[1449,["874","static/chunks/874-7cca39d2e0ddd8b8.js","63","static/chunks/63-2b4206848ffc60fb.js","909","static/chunks/app/blog/%5B...slug%5D/page-28d33eed3f173442.js"],"default"]
b:[["$","script",null,{"type":"application/ld+json","dangerouslySetInnerHTML":{"__html":"{\"@context\":\"https://schema.org\",\"@type\":\"BlogPosting\",\"headline\":\"Webpack4-0进阶\",\"datePublished\":\"2019-04-08T00:00:00.000Z\",\"dateModified\":\"2019-04-08T00:00:00.000Z\",\"description\":\"Webpack4-0进阶相关文章\",\"image\":\"/static/images/webpack.jpg\",\"url\":\"https://nmwei.github.io/blog/Webpack/Webpack4-0进阶\",\"author\":[{\"@type\":\"Person\",\"name\":\"倪梦威\"}]}"}}],["$","section",null,{"className":"mx-auto max-w-3xl px-4 sm:px-6 xl:max-w-5xl xl:px-0","children":[["$","$L14",null,{}],["$","article",null,{"children":["$","div",null,{"className":"xl:divide-y xl:divide-gray-200 xl:dark:divide-gray-700","children":[["$","header",null,{"className":"pt-6 xl:pb-6","children":["$","div",null,{"className":"space-y-1 text-center","children":[["$","dl",null,{"className":"space-y-10","children":["$","div",null,{"children":[["$","dt",null,{"className":"sr-only","children":"Published on"}],["$","dd",null,{"className":"text-base leading-6 font-medium text-gray-500 dark:text-gray-400","children":["$","time",null,{"dateTime":"2019-04-08T00:00:00.000Z","children":"2019年4月8日星期一"}]}]]}]}],["$","div",null,{"children":["$","h1",null,{"className":"text-3xl leading-9 font-extrabold tracking-tight text-gray-900 sm:text-4xl sm:leading-10 md:text-5xl md:leading-14 dark:text-gray-100","children":"Webpack4-0进阶"}]}]]}]}],["$","div",null,{"className":"grid-rows-[auto_1fr] divide-y divide-gray-200 pb-8 xl:grid xl:grid-cols-4 xl:gap-x-6 xl:divide-y-0 dark:divide-gray-700","children":[["$","dl",null,{"className":"pt-6 pb-10 xl:border-b xl:border-gray-200 xl:pt-11 xl:dark:border-gray-700","children":[["$","dt",null,{"className":"sr-only","children":"Authors"}],["$","dd",null,{"children":["$","ul",null,{"className":"flex flex-wrap justify-center gap-4 sm:space-x-12 xl:block xl:space-y-8 xl:space-x-0","children":[["$","li","倪梦威",{"className":"flex items-center space-x-2","children":[["$","$L15",null,{"src":"/static/images/avatar.png","width":38,"height":38,"alt":"avatar","className":"h-10 w-10 rounded-full"}],["$","dl",null,{"className":"text-sm leading-5 font-medium whitespace-nowrap","children":[["$","dt",null,{"className":"sr-only","children":"Name"}],["$","dd",null,{"className":"text-gray-900 dark:text-gray-100","children":"倪梦威"}],["$","dt",null,{"className":"sr-only","children":"Twitter"}],["$","dd",null,{"children":null}]]}]]}]]}]}]]}],["$","div",null,{"className":"divide-y divide-gray-200 xl:col-span-3 xl:row-span-2 xl:pb-0 dark:divide-gray-700","children":[["$","div",null,{"className":"prose dark:prose-invert max-w-none pt-10 pb-8","children":[["$","h1",null,{"className":"content-header","id":"1-tree-shaking","children":[["$","a",null,{"className":"break-words","href":"#1-tree-shaking","aria-hidden":"true","tabIndex":"-1","children":["$","span",null,{"className":"content-header-link","children":["$","svg",null,{"className":"h-5 linkicon w-5","fill":"currentColor","viewBox":"0 0 20 20","xmlns":"http://www.w3.org/2000/svg","children":[["$","path",null,{"d":"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z"}],["$","path",null,{"d":"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z"}]]}]}]}],"1. Tree Shaking"]}],["$","h2",null,{"className":"content-header","id":"11-js-tree-shaking","children":[["$","a",null,{"className":"break-words","href":"#11-js-tree-shaking","aria-hidden":"true","tabIndex":"-1","children":["$","span",null,{"className":"content-header-link","children":["$","svg",null,{"className":"h-5 linkicon w-5","fill":"currentColor","viewBox":"0 0 20 20","xmlns":"http://www.w3.org/2000/svg","children":[["$","path",null,{"d":"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z"}],["$","path",null,{"d":"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z"}]]}]}]}],"1.1 JS Tree Shaking"]}],["$","h3",null,{"className":"content-header","id":"111-本地代码tree-shaking","children":[["$","a",null,{"className":"break-words","href":"#111-本地代码tree-shaking","aria-hidden":"true","tabIndex":"-1","children":["$","span",null,{"className":"content-header-link","children":["$","svg",null,{"className":"h-5 linkicon w-5","fill":"currentColor","viewBox":"0 0 20 20","xmlns":"http://www.w3.org/2000/svg","children":[["$","path",null,{"d":"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z"}],["$","path",null,{"d":"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z"}]]}]}]}],"1.1.1 本地代码Tree Shaking"]}],["$","ol",null,{"children":["$","li",null,{"children":"一个简单的打包示例"}]}],["$","p",null,{"children":["(1) 打包入口代码 ",["$","code",null,{"children":"src/index.js"}]]}],["$","$L16",null,{"className":"language-js","children":["$","code",null,{"className":"language-js code-highlight","children":[["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword module","children":"import"}]," ",["$","span",null,{"className":"token imports","children":[["$","span",null,{"className":"token punctuation","children":"{"}]," add ",["$","span",null,{"className":"token punctuation","children":"}"}]]}]," ",["$","span",null,{"className":"token keyword module","children":"from"}]," ",["$","span",null,{"className":"token string","children":"'./math'"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token function","children":"add"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token number","children":"1"}],["$","span",null,{"className":"token punctuation","children":","}],["$","span",null,{"className":"token number","children":"5"}],["$","span",null,{"className":"token punctuation","children":")"}],"\n"]}]]}]}],["$","p",null,{"children":["$","code",null,{"children":"src/math.js"}]}],["$","$L16",null,{"className":"language-js","children":["$","code",null,{"className":"language-js code-highlight","children":[["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword module","children":"export"}]," ",["$","span",null,{"className":"token keyword","children":"const"}]," ",["$","span",null,{"className":"token function function-variable","children":"add"}]," ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token parameter","children":["a",["$","span",null,{"className":"token punctuation","children":","}]," b"]}],["$","span",null,{"className":"token punctuation","children":")"}]," ",["$","span",null,{"className":"token operator arrow","children":"=>"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token class-name console","children":"console"}],["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access function method","children":"log"}],["$","span",null,{"className":"token punctuation","children":"("}],"a ",["$","span",null,{"className":"token operator","children":"+"}]," b",["$","span",null,{"className":"token punctuation","children":")"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}],["$","span",null,{"className":"code-line","children":"\n"}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword module","children":"export"}]," ",["$","span",null,{"className":"token keyword","children":"const"}]," ",["$","span",null,{"className":"token function function-variable","children":"minus"}]," ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token parameter","children":["a",["$","span",null,{"className":"token punctuation","children":","}]," b"]}],["$","span",null,{"className":"token punctuation","children":")"}]," ",["$","span",null,{"className":"token operator arrow","children":"=>"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token class-name console","children":"console"}],["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access function method","children":"log"}],["$","span",null,{"className":"token punctuation","children":"("}],"a ",["$","span",null,{"className":"token operator","children":"-"}]," b",["$","span",null,{"className":"token punctuation","children":")"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}]]}]}],["$","p",null,{"children":["(2) 打包输出 ",["$","code",null,{"children":"npm run bundle"}]]}],["$","$L16",null,{"className":"language-js","children":["$","code",null,{"className":"language-js code-highlight","children":[["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token comment","children":"//..."}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token comment","children":"/*! exports provided: add, minus */"}],"\n"]}],["$","span",null,{"className":"code-line","children":["$","span",null,{"className":"token comment doc-comment","children":["/***/ (function(module, __webpack_exports__, __webpack_require__) ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}]}],["$","span",null,{"className":"code-line","children":["$","span",null,{"className":"token comment doc-comment","children":"\n"}]}],["$","span",null,{"className":"code-line","children":["$","span",null,{"className":"token comment doc-comment","children":"\"use strict\";\n"}]}],["$","span",null,{"className":"code-line","children":["$","span",null,{"className":"token comment doc-comment","children":"__webpack_require__.r(__webpack_exports__);\n"}]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token comment doc-comment","children":"/* harmony export (binding) */"}]," __webpack_require__",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access function method","children":"d"}],["$","span",null,{"className":"token punctuation","children":"("}],"__webpack_exports__",["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token string","children":"\"add\""}],["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token keyword","children":"function"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token punctuation","children":")"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}]," ",["$","span",null,{"className":"token keyword control-flow","children":"return"}]," add",["$","span",null,{"className":"token punctuation","children":";"}]," ",["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token comment","children":"/* harmony export (binding) */"}]," __webpack_require__",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access function method","children":"d"}],["$","span",null,{"className":"token punctuation","children":"("}],"__webpack_exports__",["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token string","children":"\"minus\""}],["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token keyword","children":"function"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token punctuation","children":")"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}]," ",["$","span",null,{"className":"token keyword control-flow","children":"return"}]," minus",["$","span",null,{"className":"token punctuation","children":";"}]," ",["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword","children":"const"}]," ",["$","span",null,{"className":"token function function-variable","children":"add"}]," ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token parameter","children":["a",["$","span",null,{"className":"token punctuation","children":","}]," b"]}],["$","span",null,{"className":"token punctuation","children":")"}]," ",["$","span",null,{"className":"token operator arrow","children":"=>"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token class-name console","children":"console"}],["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access function method","children":"log"}],["$","span",null,{"className":"token punctuation","children":"("}],"a ",["$","span",null,{"className":"token operator","children":"+"}]," b",["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword","children":"const"}]," ",["$","span",null,{"className":"token function function-variable","children":"minus"}]," ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token parameter","children":["a",["$","span",null,{"className":"token punctuation","children":","}]," b"]}],["$","span",null,{"className":"token punctuation","children":")"}]," ",["$","span",null,{"className":"token operator arrow","children":"=>"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token class-name console","children":"console"}],["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access function method","children":"log"}],["$","span",null,{"className":"token punctuation","children":"("}],"a ",["$","span",null,{"className":"token operator","children":"-"}]," b",["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token comment","children":"//..."}],"\n"]}]]}]}],["$","p",null,{"children":["(3) 问题分析 ",["$","code",null,{"children":"src/index.js"}],"仅引入了",["$","code",null,{"children":"add"}],"方法，但是却打包了",["$","code",null,{"children":"add"}],"方法和",["$","code",null,{"children":"minus"}],"方法。 2. ",["$","code",null,{"children":"Tree Shaking"}]," ",["$","a",null,{"className":"break-words","target":"_blank","rel":"noopener noreferrer","href":"https://webpack.docschina.org/guides/tree-shaking/","children":"tree shaking"}]," 是一个术语，通常用于描述移除 ",["$","code",null,{"children":"JavaScript"}]," 上下文中的未引用代码(",["$","code",null,{"children":"dead-code"}],")。"]}],["$","blockquote",null,{"children":["$","p",null,{"children":[["$","code",null,{"children":"webpack 2.0"}],"及之后版本支持",["$","code",null,{"children":"Tree Shaking"}],"。 ",["$","code",null,{"children":"webpack 3.X"}],["$","a",null,{"className":"break-words","target":"_blank","rel":"noopener noreferrer","href":"https://www.jianshu.com/p/1943cfe750d1","children":"版本"}],"开启",["$","code",null,{"children":"Tree Shaking"}],"方式与 ",["$","code",null,{"children":"webpack 4.X"}],"不同。 ",["$","code",null,{"children":"Tree Shaking"}],"只支持",["$","code",null,{"children":"ES Module"}],"模块引入方式。不支持",["$","code",null,{"children":"commonjs"}],"模块引入方式。"]}]}],["$","ol",null,{"start":"3","children":["$","li",null,{"children":[["$","code",null,{"children":"development"}],"模式开启",["$","code",null,{"children":"Tree Shaking"}]]}]}],["$","p",null,{"children":["(1) 编辑打包配置文件 ",["$","code",null,{"children":"webpack.dev.config.js"}]]}],["$","$L16",null,{"className":"language-js","children":["$","code",null,{"className":"language-js code-highlight","children":[["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token property literal-property","children":"optimization"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["   ",["$","span",null,{"className":"token property literal-property","children":"usedExports"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token boolean","children":"true"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}]]}]}],["$","p",null,{"children":["(2) 将文件标记为",["$","code",null,{"children":"side-effect-free"}],"(无副作用) 编辑",["$","code",null,{"children":"package.json"}]]}],["$","$L16",null,{"className":"language-js","children":["$","code",null,{"className":"language-js code-highlight","children":["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token property string-property","children":"\"sideEffects\""}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token punctuation","children":"["}],["$","span",null,{"className":"token string","children":"\"*.css\""}],["$","span",null,{"className":"token punctuation","children":"]"}],"\n"]}]}]}],["$","blockquote",null,{"children":["$","p",null,{"children":[["$","code",null,{"children":"side-effect-free"}],"数组中标记的文件即使没有通过",["$","code",null,{"children":"ES Module"}],"，也会被打包输出。如果没有文件设置为",["$","code",null,{"children":"side-effect-free"}],"，则",["$","code",null,{"children":"sideEffects"}],"值设置为",["$","code",null,{"children":"false"}],"。"]}]}],["$","p",null,{"children":"(3) 打包输出"}],["$","$L16",null,{"className":"language-js","children":["$","code",null,{"className":"language-js code-highlight","children":[["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token comment","children":"/*! exports provided: add, minus */"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token comment","children":"/*! exports used: add */"}],"\n"]}],["$","span",null,{"className":"code-line","children":["$","span",null,{"className":"token comment doc-comment","children":["/***/ (function(module, __webpack_exports__, __webpack_require__) ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}]}],["$","span",null,{"className":"code-line","children":["$","span",null,{"className":"token comment doc-comment","children":"\n"}]}],["$","span",null,{"className":"code-line","children":["$","span",null,{"className":"token comment doc-comment","children":"\"use strict\";\n"}]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token comment doc-comment","children":"/* harmony export (binding) */"}]," __webpack_require__",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access function method","children":"d"}],["$","span",null,{"className":"token punctuation","children":"("}],"__webpack_exports__",["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token string","children":"\"a\""}],["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token keyword","children":"function"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token punctuation","children":")"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}]," ",["$","span",null,{"className":"token keyword control-flow","children":"return"}]," add",["$","span",null,{"className":"token punctuation","children":";"}]," ",["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token comment","children":"/* unused harmony export minus */"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword","children":"const"}]," ",["$","span",null,{"className":"token function function-variable","children":"add"}]," ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token parameter","children":["a",["$","span",null,{"className":"token punctuation","children":","}]," b"]}],["$","span",null,{"className":"token punctuation","children":")"}]," ",["$","span",null,{"className":"token operator arrow","children":"=>"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token class-name console","children":"console"}],["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access function method","children":"log"}],["$","span",null,{"className":"token punctuation","children":"("}],"a ",["$","span",null,{"className":"token operator","children":"+"}]," b",["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword","children":"const"}]," ",["$","span",null,{"className":"token function function-variable","children":"minus"}]," ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token parameter","children":["a",["$","span",null,{"className":"token punctuation","children":","}]," b"]}],["$","span",null,{"className":"token punctuation","children":")"}]," ",["$","span",null,{"className":"token operator arrow","children":"=>"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token class-name console","children":"console"}],["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access function method","children":"log"}],["$","span",null,{"className":"token punctuation","children":"("}],"a ",["$","span",null,{"className":"token operator","children":"-"}]," b",["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":"\n"}],["$","span",null,{"className":"code-line","children":["$","span",null,{"className":"token comment doc-comment","children":"/***/\n"}]}]]}]}],["$","ol",null,{"start":"4","children":["$","li",null,{"children":[["$","code",null,{"children":"production"}],"模式开启",["$","code",null,{"children":"Tree Shaking"}]," 生产模式自动开启",["$","code",null,{"children":"Tree Shaking"}],"，无需设置",["$","code",null,{"children":"optimization"}],"。"]}]}],["$","blockquote",null,{"children":["$","p",null,{"children":[["$","code",null,{"children":"Tree Shaking"}],"开启的关键在于",["$","code",null,{"children":"JavaScript"}],"代码压缩。在",["$","code",null,{"children":"webpack3.X"}],"版本中，通过",["$","code",null,{"children":"UglifyJsPlugin"}],"插件进行",["$","code",null,{"children":"JavaScript"}],"代码压缩。在",["$","code",null,{"children":"webpack4.X"}],"版本中，",["$","code",null,{"children":"mode: production"}],"生产模式默认进行",["$","code",null,{"children":"JavaScript"}],"代码压缩。"]}]}],["$","ol",null,{"start":"5","children":["$","li",null,{"children":["结论 你可以将应用程序想象成一棵树。绿色表示实际用到的 ",["$","code",null,{"children":"source code"}],"(源码) 和",["$","code",null,{"children":"library"}],"(库)，是树上绿色的树叶。灰色表示未引用代码，是秋天树上枯萎的树叶。为了除去死去的树叶，你必须摇动这棵树，使它们落下。"]}]}],["$","blockquote",null,{"children":["$","p",null,{"children":["在以",["$","code",null,{"children":"import { add } from './math'"}],"的方式引入模块时，",["$","code",null,{"children":"Tree Shaking"}],"能够将",["$","code",null,{"children":"'./math'"}],"中未被引入的模块过滤掉。"]}]}],["$","h3",null,{"className":"content-header","id":"112--lodash-tree-shaking","children":[["$","a",null,{"className":"break-words","href":"#112--lodash-tree-shaking","aria-hidden":"true","tabIndex":"-1","children":["$","span",null,{"className":"content-header-link","children":["$","svg",null,{"className":"h-5 linkicon w-5","fill":"currentColor","viewBox":"0 0 20 20","xmlns":"http://www.w3.org/2000/svg","children":[["$","path",null,{"d":"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z"}],["$","path",null,{"d":"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z"}]]}]}]}],"1.1.2 Lodash Tree Shaking"]}],["$","ol",null,{"children":["$","li",null,{"children":["编辑打包入口文件 ",["$","code",null,{"children":"src/index.js"}]]}]}],["$","$L16",null,{"className":"language-js","children":["$","code",null,{"className":"language-js code-highlight","children":[["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword module","children":"import"}]," ",["$","span",null,{"className":"token imports","children":[["$","span",null,{"className":"token punctuation","children":"{"}]," join ",["$","span",null,{"className":"token punctuation","children":"}"}]]}]," ",["$","span",null,{"className":"token keyword module","children":"from"}]," ",["$","span",null,{"className":"token string","children":"'lodash'"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token class-name console","children":"console"}],["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access function method","children":"log"}],["$","span",null,{"className":"token punctuation","children":"("}],"_",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access function method","children":"join"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token punctuation","children":"["}],["$","span",null,{"className":"token string","children":"'1'"}],["$","span",null,{"className":"token punctuation","children":","}],["$","span",null,{"className":"token string","children":"'2'"}],["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token string","children":"'3'"}],["$","span",null,{"className":"token punctuation","children":"]"}],["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token string","children":"'-'"}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":")"}],"\n"]}]]}]}],["$","ol",null,{"start":"2","children":["$","li",null,{"children":"打包输出"}]}],["$","$L16",null,{"className":"language-js","children":["$","code",null,{"className":"language-js code-highlight","children":[["$","span",null,{"className":"code-line","children":["     ",["$","span",null,{"className":"token maybe-class-name","children":"Asset"}],"       ",["$","span",null,{"className":"token maybe-class-name","children":"Size"}],"  ",["$","span",null,{"className":"token maybe-class-name","children":"Chunks"}],"             ",["$","span",null,{"className":"token maybe-class-name","children":"Chunk"}]," ",["$","span",null,{"className":"token maybe-class-name","children":"Names"}],"\n"]}],["$","span",null,{"className":"code-line","children":["index",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access","children":"html"}],"  ",["$","span",null,{"className":"token number","children":"199"}]," bytes          ",["$","span",null,{"className":"token punctuation","children":"["}],"emitted",["$","span",null,{"className":"token punctuation","children":"]"}],"  \n"]}],["$","span",null,{"className":"code-line","children":["   main",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access","children":"js"}],"   ",["$","span",null,{"className":"token number","children":"70.3"}]," ",["$","span",null,{"className":"token maybe-class-name","children":"KiB"}],"       ",["$","span",null,{"className":"token number","children":"0"}],"  ",["$","span",null,{"className":"token punctuation","children":"["}],"emitted",["$","span",null,{"className":"token punctuation","children":"]"}],"  app\n"]}]]}]}],["$","p",null,{"children":["只用到了",["$","code",null,{"children":"lodash"}],"中的",["$","code",null,{"children":"join"}],"方法，",["$","code",null,{"children":"main.js"}],"包大小为",["$","code",null,{"children":"0.3 KiB"}],"。很明显。",["$","code",null,{"children":"Tree Shaking"}],"并没有生效。 3. 安装依赖 ",["$","code",null,{"children":"npm i babel-plugin-lodash -D"}]," 4. 编辑打包配置文件 ",["$","code",null,{"children":"webapck.dev.config.js"}]]}],["$","$L16",null,{"className":"language-js","children":["$","code",null,{"className":"language-js code-highlight","children":[["$","span",null,{"className":"code-line","children":["      ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["        ",["$","span",null,{"className":"token property literal-property","children":"test"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token regex","children":[["$","span",null,{"className":"token regex-delimiter","children":"/"}],["$","span",null,{"className":"token language-regex regex-source","children":[["$","span",null,{"className":"token escape special-escape","children":"\\."}],"js",["$","span",null,{"className":"token function anchor","children":"$$"}]]}],["$","span",null,{"className":"token regex-delimiter","children":"/"}]]}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["        ",["$","span",null,{"className":"token property literal-property","children":"exclude"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token regex","children":[["$","span",null,{"className":"token regex-delimiter","children":"/"}],["$","span",null,{"className":"token language-regex regex-source","children":"node_modules"}],["$","span",null,{"className":"token regex-delimiter","children":"/"}]]}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["        ",["$","span",null,{"className":"token property literal-property","children":"loader"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token string","children":"\"babel-loader\""}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["        ",["$","span",null,{"className":"token property literal-property","children":"options"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["          ",["$","span",null,{"className":"token property literal-property","children":"presets"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token punctuation","children":"["}],"\n"]}],["$","span",null,{"className":"code-line","children":["            ",["$","span",null,{"className":"token punctuation","children":"["}]," ",["$","span",null,{"className":"token string","children":"\"@babel/preset-env\""}],["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],["$","span",null,{"className":"token property string-property","children":"\"useBuiltIns\""}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token string","children":"\"usage\""}],["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token property string-property","children":"\"corejs\""}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token number","children":"2"}],["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":"]"}],"\n"]}],["$","span",null,{"className":"code-line","children":["          ",["$","span",null,{"className":"token punctuation","children":"]"}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["          ",["$","span",null,{"className":"token property literal-property","children":"plugins"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token punctuation","children":"["}],"\n"]}],["$","span",null,{"className":"code-line","children":["            ",["$","span",null,{"className":"token string","children":"\"lodash\""}]," ",["$","span",null,{"className":"token comment","children":"//对lodash进行Tree Shaking"}],"\n"]}],["$","span",null,{"className":"code-line","children":["          ",["$","span",null,{"className":"token punctuation","children":"]"}],"\n"]}],["$","span",null,{"className":"code-line","children":["        ",["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}],["$","span",null,{"className":"code-line","children":["      ",["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}]]}]}],["$","ol",null,{"start":"5","children":["$","li",null,{"children":"打包输出"}]}],["$","$L16",null,{"className":"language-js","children":["$","code",null,{"className":"language-js code-highlight","children":[["$","span",null,{"className":"code-line","children":["     ",["$","span",null,{"className":"token maybe-class-name","children":"Asset"}],"       ",["$","span",null,{"className":"token maybe-class-name","children":"Size"}],"  ",["$","span",null,{"className":"token maybe-class-name","children":"Chunks"}],"             ",["$","span",null,{"className":"token maybe-class-name","children":"Chunk"}]," ",["$","span",null,{"className":"token maybe-class-name","children":"Names"}],"\n"]}],["$","span",null,{"className":"code-line","children":["index",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access","children":"html"}],"  ",["$","span",null,{"className":"token number","children":"199"}]," bytes          ",["$","span",null,{"className":"token punctuation","children":"["}],"emitted",["$","span",null,{"className":"token punctuation","children":"]"}],"  \n"]}],["$","span",null,{"className":"code-line","children":["   main",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access","children":"js"}],"   ",["$","span",null,{"className":"token number","children":"1.08"}]," ",["$","span",null,{"className":"token maybe-class-name","children":"KiB"}],"       ",["$","span",null,{"className":"token number","children":"0"}],"  ",["$","span",null,{"className":"token punctuation","children":"["}],"emitted",["$","span",null,{"className":"token punctuation","children":"]"}],"  app\n"]}]]}]}],["$","p",null,{"children":["经过",["$","code",null,{"children":"Tree Shaking"}],"后，",["$","code",null,{"children":"main.js"}],"包大小为",["$","code",null,{"children":"1.08 KiB"}],"。"]}],["$","blockquote",null,{"children":["$","p",null,{"children":["使用",["$","code",null,{"children":"babel-plugin-lodash"}],"插件后，即使使用",["$","code",null,{"children":"import lodash from 'lodash'"}],"方式引入",["$","code",null,{"children":"lodash"}],"，",["$","code",null,{"children":"Tree Shaking"}],"仍然生效。"]}]}],["$","h2",null,{"className":"content-header","id":"12-css-tree-shaking","children":[["$","a",null,{"className":"break-words","href":"#12-css-tree-shaking","aria-hidden":"true","tabIndex":"-1","children":["$","span",null,{"className":"content-header-link","children":["$","svg",null,{"className":"h-5 linkicon w-5","fill":"currentColor","viewBox":"0 0 20 20","xmlns":"http://www.w3.org/2000/svg","children":[["$","path",null,{"d":"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z"}],["$","path",null,{"d":"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z"}]]}]}]}],"1.2 CSS Tree Shaking"]}],["$","ol",null,{"children":[["$","li",null,{"children":["安装依赖 ",["$","code",null,{"children":"npm i -D purifycss-webpack purify-css glob-all"}]]}],["$","li",null,{"children":["编辑打包配置文件 ",["$","code",null,{"children":"webpack.dev.config.js"}]]}]]}],["$","$L16",null,{"className":"language-js","children":["$","code",null,{"className":"language-js code-highlight","children":[["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword","children":"const"}]," ",["$","span",null,{"className":"token maybe-class-name","children":"PurifyCSS"}]," ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token function","children":"require"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token string","children":"'purifycss-webpack'"}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword","children":"const"}]," glob ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token function","children":"require"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token string","children":"'glob-all'"}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":["module",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access","children":"exports"}]," ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token comment","children":"//..."}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token property literal-property","children":"plugins"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token punctuation","children":"["}],"\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token keyword","children":"new"}]," ",["$","span",null,{"className":"token class-name","children":"PurifyCSS"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["      ",["$","span",null,{"className":"token property literal-property","children":"paths"}],["$","span",null,{"className":"token operator","children":":"}]," glob",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access function method","children":"sync"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token punctuation","children":"["}],"\n"]}],["$","span",null,{"className":"code-line","children":["        path",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access function method","children":"join"}],["$","span",null,{"className":"token punctuation","children":"("}],"__dirname",["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token string","children":"'./src/*.js'"}],["$","span",null,{"className":"token punctuation","children":")"}],"\n"]}],["$","span",null,{"className":"code-line","children":["      ",["$","span",null,{"className":"token punctuation","children":"]"}],["$","span",null,{"className":"token punctuation","children":")"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":")"}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token punctuation","children":"]"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}]]}]}],["$","ol",null,{"start":"3","children":["$","li",null,{"children":["打包输出 生成的",["$","code",null,{"children":"css"}],"文件不包含",["$","code",null,{"children":"./src/*.js"}],"中使用不到的样式。"]}]}],["$","blockquote",null,{"children":["$","p",null,{"children":[["$","code",null,{"children":"purify-css"}],"和",["$","code",null,{"children":"css modules"}],"不可以同时使用。"]}]}],["$","h1",null,{"className":"content-header","id":"2-webpack-merge","children":[["$","a",null,{"className":"break-words","href":"#2-webpack-merge","aria-hidden":"true","tabIndex":"-1","children":["$","span",null,{"className":"content-header-link","children":["$","svg",null,{"className":"h-5 linkicon w-5","fill":"currentColor","viewBox":"0 0 20 20","xmlns":"http://www.w3.org/2000/svg","children":[["$","path",null,{"d":"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z"}],["$","path",null,{"d":"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z"}]]}]}]}],"2. webpack-merge"]}],["$","ol",null,{"children":[["$","li",null,{"children":["安装依赖 ",["$","code",null,{"children":"npm i webpack-merge -D"}]]}],["$","li",null,{"children":["打包配置文件 (1) ",["$","code",null,{"children":"build/webpack.base.config.js"}]]}]]}],["$","$L16",null,{"className":"language-js","children":["$","code",null,{"className":"language-js code-highlight","children":[["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword","children":"const"}]," path ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token function","children":"require"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token string","children":"'path'"}],["$","span",null,{"className":"token punctuation","children":")"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword","children":"const"}]," ",["$","span",null,{"className":"token maybe-class-name","children":"HtmlWebpackPlugin"}]," ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token function","children":"require"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token string","children":"'html-webpack-plugin'"}],["$","span",null,{"className":"token punctuation","children":")"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword","children":"const"}]," ",["$","span",null,{"className":"token maybe-class-name","children":"CleanWebpackPlugin"}]," ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token function","children":"require"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token string","children":"'clean-webpack-plugin'"}],["$","span",null,{"className":"token punctuation","children":")"}],"\n"]}],["$","span",null,{"className":"code-line","children":"\n"}],["$","span",null,{"className":"code-line","children":["module",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access","children":"exports"}]," ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token property literal-property","children":"entry"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token property literal-property","children":"app"}],["$","span",null,{"className":"token operator","children":":"}]," path",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access function method","children":"resolve"}],["$","span",null,{"className":"token punctuation","children":"("}],"__dirname",["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token string","children":"'../src/index.js'"}],["$","span",null,{"className":"token punctuation","children":")"}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token property literal-property","children":"output"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token property literal-property","children":"publicPath"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token string","children":"''"}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token property literal-property","children":"filename"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token string","children":"'[name].bundle.js'"}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token property literal-property","children":"path"}],["$","span",null,{"className":"token operator","children":":"}]," path",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access function method","children":"resolve"}],["$","span",null,{"className":"token punctuation","children":"("}],"__dirname",["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token string","children":"'../dist'"}],["$","span",null,{"className":"token punctuation","children":")"}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token property literal-property","children":"module"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token property literal-property","children":"rules"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token punctuation","children":"["}],"\n"]}],["$","span",null,{"className":"code-line","children":["      ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["        ",["$","span",null,{"className":"token property literal-property","children":"test"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token regex","children":[["$","span",null,{"className":"token regex-delimiter","children":"/"}],["$","span",null,{"className":"token language-regex regex-source","children":[["$","span",null,{"className":"token escape special-escape","children":"\\."}],"js",["$","span",null,{"className":"token function anchor","children":"$$"}]]}],["$","span",null,{"className":"token regex-delimiter","children":"/"}]]}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["        ",["$","span",null,{"className":"token property literal-property","children":"exclude"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token regex","children":[["$","span",null,{"className":"token regex-delimiter","children":"/"}],["$","span",null,{"className":"token language-regex regex-source","children":"node_modules"}],["$","span",null,{"className":"token regex-delimiter","children":"/"}]]}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["        ",["$","span",null,{"className":"token property literal-property","children":"loader"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token string","children":"\"babel-loader\""}],"\n"]}],["$","span",null,{"className":"code-line","children":["      ",["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["      ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["        ",["$","span",null,{"className":"token property literal-property","children":"test"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token regex","children":[["$","span",null,{"className":"token regex-delimiter","children":"/"}],["$","span",null,{"className":"token language-regex regex-source","children":[["$","span",null,{"className":"token escape special-escape","children":"\\."}],"css",["$","span",null,{"className":"token function anchor","children":"$$"}]]}],["$","span",null,{"className":"token regex-delimiter","children":"/"}]]}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["        ",["$","span",null,{"className":"token property literal-property","children":"use"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token punctuation","children":"["}],"\n"]}],["$","span",null,{"className":"code-line","children":["          ",["$","span",null,{"className":"token string","children":"'style-loader'"}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["          ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["            ",["$","span",null,{"className":"token property literal-property","children":"loader"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token string","children":"'css-loader'"}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["            ",["$","span",null,{"className":"token property literal-property","children":"options"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["              ",["$","span",null,{"className":"token property literal-property","children":"modules"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token boolean","children":"true"}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["              ",["$","span",null,{"className":"token property literal-property","children":"localIdentName"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token string","children":"'[path][name]__[local]--[hash:base64:5]'"}],"\n"]}],["$","span",null,{"className":"code-line","children":["            ",["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}],["$","span",null,{"className":"code-line","children":["          ",["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["          ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["            ",["$","span",null,{"className":"token property literal-property","children":"loader"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token string","children":"'postcss-loader'"}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["            ",["$","span",null,{"className":"token property literal-property","children":"options"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["              ",["$","span",null,{"className":"token property literal-property","children":"ident"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token string","children":"'postcss'"}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["              ",["$","span",null,{"className":"token property literal-property","children":"plugins"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token punctuation","children":"["}]," ",["$","span",null,{"className":"token function","children":"require"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token string","children":"'autoprefixer'"}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":"]"}],"\n"]}],["$","span",null,{"className":"code-line","children":["            ",["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}],["$","span",null,{"className":"code-line","children":["          ",["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}],["$","span",null,{"className":"code-line","children":["        ",["$","span",null,{"className":"token punctuation","children":"]"}],"\n"]}],["$","span",null,{"className":"code-line","children":["      ",["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["      ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["        ",["$","span",null,{"className":"token property literal-property","children":"test"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token regex","children":[["$","span",null,{"className":"token regex-delimiter","children":"/"}],["$","span",null,{"className":"token language-regex regex-source","children":[["$","span",null,{"className":"token escape special-escape","children":"\\."}],"scss",["$","span",null,{"className":"token function anchor","children":"$$"}]]}],["$","span",null,{"className":"token regex-delimiter","children":"/"}]]}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["        ",["$","span",null,{"className":"token property literal-property","children":"use"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token punctuation","children":"["}],"\n"]}],["$","span",null,{"className":"code-line","children":["          ",["$","span",null,{"className":"token string","children":"\"style-loader\""}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["          ",["$","span",null,{"className":"token string","children":"\"css-loader\""}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["          ",["$","span",null,{"className":"token string","children":"\"sass-loader\""}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["          ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["            ",["$","span",null,{"className":"token property literal-property","children":"loader"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token string","children":"'postcss-loader'"}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["            ",["$","span",null,{"className":"token property literal-property","children":"options"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["              ",["$","span",null,{"className":"token property literal-property","children":"ident"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token string","children":"'postcss'"}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["              ",["$","span",null,{"className":"token property literal-property","children":"plugins"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token punctuation","children":"["}]," ",["$","span",null,{"className":"token function","children":"require"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token string","children":"'autoprefixer'"}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":"]"}],"\n"]}],["$","span",null,{"className":"code-line","children":["            ",["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}],["$","span",null,{"className":"code-line","children":["          ",["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}],["$","span",null,{"className":"code-line","children":["        ",["$","span",null,{"className":"token punctuation","children":"]"}],"\n"]}],["$","span",null,{"className":"code-line","children":["      ",["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["      ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["        ",["$","span",null,{"className":"token property literal-property","children":"test"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token regex","children":[["$","span",null,{"className":"token regex-delimiter","children":"/"}],["$","span",null,{"className":"token language-regex regex-source","children":[["$","span",null,{"className":"token escape special-escape","children":"\\."}],"html",["$","span",null,{"className":"token function anchor","children":"$$"}]]}],["$","span",null,{"className":"token regex-delimiter","children":"/"}]]}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["        ",["$","span",null,{"className":"token property literal-property","children":"use"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token punctuation","children":"["}],"\n"]}],["$","span",null,{"className":"code-line","children":["          ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["            ",["$","span",null,{"className":"token property literal-property","children":"loader"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token string","children":"\"html-loader\""}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["            ",["$","span",null,{"className":"token property literal-property","children":"options"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["              ",["$","span",null,{"className":"token property literal-property","children":"attrs"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token punctuation","children":"["}],["$","span",null,{"className":"token string","children":"':src'"}],["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token string","children":"':data-src'"}],["$","span",null,{"className":"token punctuation","children":"]"}],"\n"]}],["$","span",null,{"className":"code-line","children":["            ",["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}],["$","span",null,{"className":"code-line","children":["          ",["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}],["$","span",null,{"className":"code-line","children":["        ",["$","span",null,{"className":"token punctuation","children":"]"}],"\n"]}],["$","span",null,{"className":"code-line","children":["      ",["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["      ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["        ",["$","span",null,{"className":"token property literal-property","children":"test"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token regex","children":[["$","span",null,{"className":"token regex-delimiter","children":"/"}],["$","span",null,{"className":"token language-regex regex-source","children":[["$","span",null,{"className":"token escape special-escape","children":"\\."}],["$","span",null,{"className":"token punctuation group","children":"("}],"eot",["$","span",null,{"className":"token keyword alternation","children":"|"}],"ttf",["$","span",null,{"className":"token keyword alternation","children":"|"}],"svg",["$","span",null,{"className":"token keyword alternation","children":"|"}],"woff",["$","span",null,{"className":"token punctuation group","children":")"}],["$","span",null,{"className":"token function anchor","children":"$$"}]]}],["$","span",null,{"className":"token regex-delimiter","children":"/"}]]}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["        ",["$","span",null,{"className":"token property literal-property","children":"use"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["          ",["$","span",null,{"className":"token property literal-property","children":"loader"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token string","children":"\"file-loader\""}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["          ",["$","span",null,{"className":"token property literal-property","children":"options"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["            ",["$","span",null,{"className":"token property literal-property","children":"name"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token string","children":"'[name]-[hash:5].[ext]'"}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["            ",["$","span",null,{"className":"token property literal-property","children":"outputPath"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token string","children":"'font/'"}],"\n"]}],["$","span",null,{"className":"code-line","children":["          ",["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}],["$","span",null,{"className":"code-line","children":["        ",["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}],["$","span",null,{"className":"code-line","children":["      ",["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["      ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["        ",["$","span",null,{"className":"token property literal-property","children":"test"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token regex","children":[["$","span",null,{"className":"token regex-delimiter","children":"/"}],["$","span",null,{"className":"token language-regex regex-source","children":[["$","span",null,{"className":"token escape special-escape","children":"\\."}],["$","span",null,{"className":"token punctuation group","children":"("}],"png",["$","span",null,{"className":"token keyword alternation","children":"|"}],"svg",["$","span",null,{"className":"token keyword alternation","children":"|"}],"jpg",["$","span",null,{"className":"token keyword alternation","children":"|"}],"gif",["$","span",null,{"className":"token punctuation group","children":")"}],["$","span",null,{"className":"token function anchor","children":"$$"}]]}],["$","span",null,{"className":"token regex-delimiter","children":"/"}]]}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["        ",["$","span",null,{"className":"token property literal-property","children":"use"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["          ",["$","span",null,{"className":"token property literal-property","children":"loader"}],["$","span",null,{"className":"token operator","children":":"}],["$","span",null,{"className":"token string","children":"'url-loader'"}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["          ",["$","span",null,{"className":"token property literal-property","children":"options"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["            ",["$","span",null,{"className":"token property literal-property","children":"name"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token string","children":"'[name]-[hash:5].[ext]'"}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["            ",["$","span",null,{"className":"token property literal-property","children":"outputPath"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token string","children":"'images/'"}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["            ",["$","span",null,{"className":"token property literal-property","children":"limit"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token number","children":"4096"}],"\n"]}],["$","span",null,{"className":"code-line","children":["          ",["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}],["$","span",null,{"className":"code-line","children":["        ",["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}],["$","span",null,{"className":"code-line","children":["      ",["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token punctuation","children":"]"}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token property literal-property","children":"plugins"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token punctuation","children":"["}],"\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token keyword","children":"new"}]," ",["$","span",null,{"className":"token class-name","children":"HtmlWebpackPlugin"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["      ",["$","span",null,{"className":"token property literal-property","children":"template"}],["$","span",null,{"className":"token operator","children":":"}]," path",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access function method","children":"resolve"}],["$","span",null,{"className":"token punctuation","children":"("}],"__dirname",["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token string","children":"'../src/index.html'"}],["$","span",null,{"className":"token punctuation","children":")"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token keyword","children":"new"}]," ",["$","span",null,{"className":"token class-name","children":"CleanWebpackPlugin"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token punctuation","children":")"}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token punctuation","children":"]"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}]]}]}],["$","p",null,{"children":["(2) ",["$","code",null,{"children":"build/webpack.dev.config.js"}]]}],["$","$L16",null,{"className":"language-js","children":["$","code",null,{"className":"language-js code-highlight","children":[["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword","children":"const"}]," webpack ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token function","children":"require"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token string","children":"'webpack'"}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword","children":"const"}]," merge ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token function","children":"require"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token string","children":"'webpack-merge'"}],["$","span",null,{"className":"token punctuation","children":")"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword","children":"const"}]," baseConfig ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token function","children":"require"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token string","children":"'./webpack.base.config'"}],["$","span",null,{"className":"token punctuation","children":")"}],"\n"]}],["$","span",null,{"className":"code-line","children":"\n"}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword","children":"const"}]," devConfig ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token property literal-property","children":"mode"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token string","children":"\"development\""}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token property literal-property","children":"devtool"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token string","children":"'cheap-module-eval-source-map'"}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token property literal-property","children":"optimization"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token property literal-property","children":"usedExports"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token boolean","children":"true"}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token property literal-property","children":"devServer"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token property literal-property","children":"open"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token boolean","children":"true"}],["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token comment","children":"//浏览器自动打开"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token property literal-property","children":"port"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token number","children":"9000"}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token property literal-property","children":"contentBase"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token string","children":"'./dist'"}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token property literal-property","children":"hot"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token boolean","children":"true"}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token comment","children":"//hotOnly: true"}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token property literal-property","children":"plugins"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token punctuation","children":"["}],"\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token keyword","children":"new"}]," ",["$","span",null,{"className":"token class-name","children":["webpack",["$","span",null,{"className":"token punctuation","children":"."}],"HotModuleReplacementPlugin"]}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token punctuation","children":")"}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token punctuation","children":"]"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}],["$","span",null,{"className":"code-line","children":"\n"}],["$","span",null,{"className":"code-line","children":["module",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access","children":"exports"}]," ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token function","children":"merge"}],["$","span",null,{"className":"token punctuation","children":"("}],"baseConfig",["$","span",null,{"className":"token punctuation","children":","}]," devConfig",["$","span",null,{"className":"token punctuation","children":")"}],"\n"]}]]}]}],["$","p",null,{"children":["(3) ",["$","code",null,{"children":"build/webpack.prod.config.js"}]]}],["$","$L16",null,{"className":"language-js","children":["$","code",null,{"className":"language-js code-highlight","children":[["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword","children":"const"}]," merge ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token function","children":"require"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token string","children":"'webpack-merge'"}],["$","span",null,{"className":"token punctuation","children":")"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword","children":"const"}]," baseConfig ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token function","children":"require"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token string","children":"'./webpack.base.config'"}],["$","span",null,{"className":"token punctuation","children":")"}],"\n"]}],["$","span",null,{"className":"code-line","children":"\n"}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword","children":"const"}]," prodConfig ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token property literal-property","children":"mode"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token string","children":"\"production\""}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token property literal-property","children":"devtool"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token string","children":"'cheap-module-source-map'"}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}],["$","span",null,{"className":"code-line","children":"\n"}],["$","span",null,{"className":"code-line","children":["module",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access","children":"exports"}]," ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token function","children":"merge"}],["$","span",null,{"className":"token punctuation","children":"("}],"baseConfig",["$","span",null,{"className":"token punctuation","children":","}]," prodConfig",["$","span",null,{"className":"token punctuation","children":")"}],"\n"]}]]}]}],["$","blockquote",null,{"children":["$","p",null,{"children":[["$","code",null,{"children":"webpack-merge"}],"可以对",["$","code",null,{"children":"module.rules"}],"进行合并，但无法对单个",["$","code",null,{"children":"rule"}],"中的",["$","code",null,{"children":"loader"}],"进行合并。"]}]}],["$","ol",null,{"start":"3","children":["$","li",null,{"children":["创建打包命令 ",["$","code",null,{"children":"package.json"}]]}]}],["$","$L16",null,{"className":"language-js","children":["$","code",null,{"className":"language-js code-highlight","children":[["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token property string-property","children":"\"scripts\""}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token property string-property","children":"\"build\""}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token string","children":"\"webpack --config ./build/webpack.prod.config.js\""}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token property string-property","children":"\"dev\""}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token string","children":"\"webpack --config ./build/webpack.dev.config.js\""}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token property string-property","children":"\"start\""}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token string","children":"\"webpack-dev-server --config ./build/webpack.dev.config.js\""}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}]]}]}],["$","h1",null,{"className":"content-header","id":"3-js代码分割code-splitting","children":[["$","a",null,{"className":"break-words","href":"#3-js代码分割code-splitting","aria-hidden":"true","tabIndex":"-1","children":["$","span",null,{"className":"content-header-link","children":["$","svg",null,{"className":"h-5 linkicon w-5","fill":"currentColor","viewBox":"0 0 20 20","xmlns":"http://www.w3.org/2000/svg","children":[["$","path",null,{"d":"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z"}],["$","path",null,{"d":"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z"}]]}]}]}],"3. js代码分割(Code Splitting)"]}],["$","h2",null,{"className":"content-header","id":"31-单独文件打包输出的缺点","children":[["$","a",null,{"className":"break-words","href":"#31-单独文件打包输出的缺点","aria-hidden":"true","tabIndex":"-1","children":["$","span",null,{"className":"content-header-link","children":["$","svg",null,{"className":"h-5 linkicon w-5","fill":"currentColor","viewBox":"0 0 20 20","xmlns":"http://www.w3.org/2000/svg","children":[["$","path",null,{"d":"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z"}],["$","path",null,{"d":"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z"}]]}]}]}],"3.1 单独文件打包输出的缺点"]}],["$","ol",null,{"children":[["$","li",null,{"children":["安装",["$","code",null,{"children":"lodash"}]," ",["$","code",null,{"children":"npm i --save lodash"}]]}],["$","li",null,{"children":["编辑",["$","code",null,{"children":"src/index.js"}]]}]]}],["$","$L16",null,{"className":"language-js","children":["$","code",null,{"className":"language-js code-highlight","children":[["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword module","children":"import"}]," ",["$","span",null,{"className":"token imports","children":"_"}]," ",["$","span",null,{"className":"token keyword module","children":"from"}]," ",["$","span",null,{"className":"token string","children":"'lodash'"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token class-name console","children":"console"}],["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access function method","children":"log"}],["$","span",null,{"className":"token punctuation","children":"("}],"_",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access function method","children":"join"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token punctuation","children":"["}],["$","span",null,{"className":"token string","children":"'1'"}],["$","span",null,{"className":"token punctuation","children":","}],["$","span",null,{"className":"token string","children":"'2'"}],["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token string","children":"'3'"}],["$","span",null,{"className":"token punctuation","children":"]"}],["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token string","children":"'-'"}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":")"}],"\n"]}]]}]}],["$","ol",null,{"start":"3","children":["$","li",null,{"children":"打包分析"}]}],["$","$L16",null,{"className":"language-js","children":["$","code",null,{"className":"language-js code-highlight","children":[["$","span",null,{"className":"code-line","children":["        ",["$","span",null,{"className":"token maybe-class-name","children":"Asset"}],"       ",["$","span",null,{"className":"token maybe-class-name","children":"Size"}],"  ",["$","span",null,{"className":"token maybe-class-name","children":"Chunks"}],"             ",["$","span",null,{"className":"token maybe-class-name","children":"Chunk"}]," ",["$","span",null,{"className":"token maybe-class-name","children":"Names"}],"\n"]}],["$","span",null,{"className":"code-line","children":["app",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access","children":"bundle"}],["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access","children":"js"}],"   ",["$","span",null,{"className":"token number","children":"1.38"}]," ",["$","span",null,{"className":"token maybe-class-name","children":"MiB"}],"     app  ",["$","span",null,{"className":"token punctuation","children":"["}],"emitted",["$","span",null,{"className":"token punctuation","children":"]"}],"  app\n"]}],["$","span",null,{"className":"code-line","children":["   index",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access","children":"html"}],"  ",["$","span",null,{"className":"token number","children":"221"}]," bytes          ",["$","span",null,{"className":"token punctuation","children":"["}],"emitted",["$","span",null,{"className":"token punctuation","children":"]"}],"  \n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token maybe-class-name","children":"Entrypoint"}]," app ",["$","span",null,{"className":"token operator","children":"="}]," app",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access","children":"bundle"}],["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access","children":"js"}],"\n"]}]]}]}],["$","blockquote",null,{"children":["$","p",null,{"children":["将",["$","code",null,{"children":"lodash"}],"和业务代码打包到一个文件",["$","code",null,{"children":"app.bundle.js"}],"。页面加载",["$","code",null,{"children":"js"}],"耗时时间久。页面代码更新时，",["$","code",null,{"children":"app.bundle.js"}],"全量更新。"]}]}],["$","h2",null,{"className":"content-header","id":"32-多入口实现分包","children":[["$","a",null,{"className":"break-words","href":"#32-多入口实现分包","aria-hidden":"true","tabIndex":"-1","children":["$","span",null,{"className":"content-header-link","children":["$","svg",null,{"className":"h-5 linkicon w-5","fill":"currentColor","viewBox":"0 0 20 20","xmlns":"http://www.w3.org/2000/svg","children":[["$","path",null,{"d":"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z"}],["$","path",null,{"d":"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z"}]]}]}]}],"3.2 多入口实现分包"]}],["$","ol",null,{"children":["$","li",null,{"children":"编辑打包配置文件"}]}],["$","$L16",null,{"className":"language-js","children":["$","code",null,{"className":"language-js code-highlight","children":[["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token property literal-property","children":"entry"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token property literal-property","children":"lodash"}],["$","span",null,{"className":"token operator","children":":"}]," path",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access function method","children":"resolve"}],["$","span",null,{"className":"token punctuation","children":"("}],"__dirname",["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token string","children":"'../src/lodash.js'"}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token property literal-property","children":"app"}],["$","span",null,{"className":"token operator","children":":"}]," path",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access function method","children":"resolve"}],["$","span",null,{"className":"token punctuation","children":"("}],"__dirname",["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token string","children":"'../src/index.js'"}],["$","span",null,{"className":"token punctuation","children":")"}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}]]}]}],["$","ol",null,{"start":"2","children":["$","li",null,{"children":["编辑",["$","code",null,{"children":"src/lodash.js"}]]}]}],["$","$L16",null,{"className":"language-js","children":["$","code",null,{"className":"language-js code-highlight","children":[["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword module","children":"import"}]," ",["$","span",null,{"className":"token imports","children":"lodash"}]," ",["$","span",null,{"className":"token keyword module","children":"from"}]," ",["$","span",null,{"className":"token string","children":"'lodash'"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token dom variable","children":"window"}],["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access","children":"lodash"}]," ",["$","span",null,{"className":"token operator","children":"="}]," lodash\n"]}]]}]}],["$","ol",null,{"start":"3","children":["$","li",null,{"children":["编辑",["$","code",null,{"children":"src/index.js"}]]}]}],["$","$L16",null,{"className":"language-js","children":["$","code",null,{"className":"language-js code-highlight","children":["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token class-name console","children":"console"}],["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access function method","children":"log"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token dom variable","children":"window"}],["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access","children":"lodash"}],["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access function method","children":"join"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token punctuation","children":"["}],["$","span",null,{"className":"token string","children":"'1'"}],["$","span",null,{"className":"token punctuation","children":","}],["$","span",null,{"className":"token string","children":"'2'"}],["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token string","children":"'3'"}],["$","span",null,{"className":"token punctuation","children":"]"}],["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token string","children":"'-'"}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":")"}],"\n"]}]}]}],["$","ol",null,{"start":"4","children":["$","li",null,{"children":"打包分析"}]}],["$","$L16",null,{"className":"language-js","children":["$","code",null,{"className":"language-js code-highlight","children":[["$","span",null,{"className":"code-line","children":["           ",["$","span",null,{"className":"token maybe-class-name","children":"Asset"}],"       ",["$","span",null,{"className":"token maybe-class-name","children":"Size"}],"  ",["$","span",null,{"className":"token maybe-class-name","children":"Chunks"}],"             ",["$","span",null,{"className":"token maybe-class-name","children":"Chunk"}]," ",["$","span",null,{"className":"token maybe-class-name","children":"Names"}],"\n"]}],["$","span",null,{"className":"code-line","children":["   app",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access","children":"bundle"}],["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access","children":"js"}],"   ",["$","span",null,{"className":"token number","children":"29.1"}]," ",["$","span",null,{"className":"token maybe-class-name","children":"KiB"}],"     app  ",["$","span",null,{"className":"token punctuation","children":"["}],"emitted",["$","span",null,{"className":"token punctuation","children":"]"}],"  app\n"]}],["$","span",null,{"className":"code-line","children":["      index",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access","children":"html"}],"  ",["$","span",null,{"className":"token number","children":"284"}]," bytes          ",["$","span",null,{"className":"token punctuation","children":"["}],"emitted",["$","span",null,{"className":"token punctuation","children":"]"}],"  \n"]}],["$","span",null,{"className":"code-line","children":["lodash",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access","children":"bundle"}],["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access","children":"js"}],"   ",["$","span",null,{"className":"token number","children":"1.38"}]," ",["$","span",null,{"className":"token maybe-class-name","children":"MiB"}],"  lodash  ",["$","span",null,{"className":"token punctuation","children":"["}],"emitted",["$","span",null,{"className":"token punctuation","children":"]"}],"  lodash\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token maybe-class-name","children":"Entrypoint"}]," lodash ",["$","span",null,{"className":"token operator","children":"="}]," lodash",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access","children":"bundle"}],["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access","children":"js"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token maybe-class-name","children":"Entrypoint"}]," app ",["$","span",null,{"className":"token operator","children":"="}]," app",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access","children":"bundle"}],["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access","children":"js"}],"\n"]}]]}]}],["$","blockquote",null,{"children":["$","p",null,{"children":[["$","code",null,{"children":"entry"}],"为多入口时，入口文件顺序即是",["$","code",null,{"children":"html"}],"模板引入对应输出文件的顺序。",["$","strong",null,{"children":"不同入口文件之间没有依赖关系"}],"。"]}]}],["$","h2",null,{"className":"content-header","id":"33-splitchunksplugin配置","children":[["$","a",null,{"className":"break-words","href":"#33-splitchunksplugin配置","aria-hidden":"true","tabIndex":"-1","children":["$","span",null,{"className":"content-header-link","children":["$","svg",null,{"className":"h-5 linkicon w-5","fill":"currentColor","viewBox":"0 0 20 20","xmlns":"http://www.w3.org/2000/svg","children":[["$","path",null,{"d":"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z"}],["$","path",null,{"d":"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z"}]]}]}]}],"3.3 SplitChunksPlugin配置"]}],["$","h3",null,{"className":"content-header","id":"331-同步代码分割","children":[["$","a",null,{"className":"break-words","href":"#331-同步代码分割","aria-hidden":"true","tabIndex":"-1","children":["$","span",null,{"className":"content-header-link","children":["$","svg",null,{"className":"h-5 linkicon w-5","fill":"currentColor","viewBox":"0 0 20 20","xmlns":"http://www.w3.org/2000/svg","children":[["$","path",null,{"d":"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z"}],["$","path",null,{"d":"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z"}]]}]}]}],"3.3.1 同步代码分割"]}],["$","ol",null,{"children":["$","li",null,{"children":["通过",["$","a",null,{"className":"break-words","target":"_blank","rel":"noopener noreferrer","href":"https://webpack.docschina.org/plugins/split-chunks-plugin/","children":["$","code",null,{"children":"SplitChunksPlugin"}]}],"实现同步代码分割。"]}]}],["$","blockquote",null,{"children":["$","p",null,{"children":[["$","code",null,{"children":"webpack 4+"}],"支持",["$","code",null,{"children":"SplitChunksPlugin"}],"。"]}]}],["$","ol",null,{"start":"2","children":["$","li",null,{"children":["编辑打包配置文件 ",["$","code",null,{"children":"webpack.base.config.js"}]]}]}],["$","$L16",null,{"className":"language-js","children":["$","code",null,{"className":"language-js code-highlight","children":[["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token property literal-property","children":"optimization"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token property literal-property","children":"splitChunks"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["      ",["$","span",null,{"className":"token property literal-property","children":"chunks"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token string","children":"\"all\""}],"\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}]]}]}],["$","ol",null,{"start":"3","children":["$","li",null,{"children":["编辑",["$","code",null,{"children":"src/index.js"}]]}]}],["$","$L16",null,{"className":"language-js","children":["$","code",null,{"className":"language-js code-highlight","children":[["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword module","children":"import"}]," ",["$","span",null,{"className":"token imports","children":"_"}]," ",["$","span",null,{"className":"token keyword module","children":"from"}]," ",["$","span",null,{"className":"token string","children":"'lodash'"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token class-name console","children":"console"}],["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access function method","children":"log"}],["$","span",null,{"className":"token punctuation","children":"("}],"_",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access function method","children":"join"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token punctuation","children":"["}],["$","span",null,{"className":"token string","children":"'1'"}],["$","span",null,{"className":"token punctuation","children":","}],["$","span",null,{"className":"token string","children":"'2'"}],["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token string","children":"'3'"}],["$","span",null,{"className":"token punctuation","children":"]"}],["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token string","children":"'-'"}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":")"}],"\n"]}]]}]}],["$","ol",null,{"start":"4","children":["$","li",null,{"children":["打包分析 ",["$","code",null,{"children":"npm run dev"}]]}]}],["$","$L16",null,{"className":"language-js","children":["$","code",null,{"className":"language-js code-highlight","children":[["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token maybe-class-name","children":"Built"}]," at",["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token number","children":"04"}],["$","span",null,{"className":"token operator","children":"/"}],["$","span",null,{"className":"token number","children":"12"}],["$","span",null,{"className":"token operator","children":"/"}],["$","span",null,{"className":"token number","children":"2019"}]," ",["$","span",null,{"className":"token number","children":"9"}],["$","span",null,{"className":"token operator","children":":"}],["$","span",null,{"className":"token number","children":"37"}],["$","span",null,{"className":"token operator","children":":"}],["$","span",null,{"className":"token number","children":"25"}]," ",["$","span",null,{"className":"token constant","children":"AM"}],"\n"]}],["$","span",null,{"className":"code-line","children":["                ",["$","span",null,{"className":"token maybe-class-name","children":"Asset"}],"       ",["$","span",null,{"className":"token maybe-class-name","children":"Size"}],"       ",["$","span",null,{"className":"token maybe-class-name","children":"Chunks"}],"             ",["$","span",null,{"className":"token maybe-class-name","children":"Chunk"}]," ",["$","span",null,{"className":"token maybe-class-name","children":"Names"}],"\n"]}],["$","span",null,{"className":"code-line","children":["        app",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access","children":"bundle"}],["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access","children":"js"}],"   ",["$","span",null,{"className":"token number","children":"32.4"}]," ",["$","span",null,{"className":"token maybe-class-name","children":"KiB"}],"          app  ",["$","span",null,{"className":"token punctuation","children":"["}],"emitted",["$","span",null,{"className":"token punctuation","children":"]"}],"  app\n"]}],["$","span",null,{"className":"code-line","children":["           index",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access","children":"html"}],"  ",["$","span",null,{"className":"token number","children":"289"}]," bytes               ",["$","span",null,{"className":"token punctuation","children":"["}],"emitted",["$","span",null,{"className":"token punctuation","children":"]"}],"  \n"]}],["$","span",null,{"className":"code-line","children":["vendors",["$","span",null,{"className":"token operator","children":"~"}],"app",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access","children":"bundle"}],["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access","children":"js"}],"   ",["$","span",null,{"className":"token number","children":"1.35"}]," ",["$","span",null,{"className":"token maybe-class-name","children":"MiB"}],"  vendors",["$","span",null,{"className":"token operator","children":"~"}],"app  ",["$","span",null,{"className":"token punctuation","children":"["}],"emitted",["$","span",null,{"className":"token punctuation","children":"]"}],"  vendors",["$","span",null,{"className":"token operator","children":"~"}],"app\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token maybe-class-name","children":"Entrypoint"}]," app ",["$","span",null,{"className":"token operator","children":"="}]," vendors",["$","span",null,{"className":"token operator","children":"~"}],"app",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access","children":"bundle"}],["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access","children":"js"}]," app",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access","children":"bundle"}],["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access","children":"js"}],"\n"]}]]}]}],["$","p",null,{"children":[["$","code",null,{"children":"lodash"}],"打包输出代码被分割到",["$","code",null,{"children":"vendors~app.bundle.js"}],"文件中。"]}],["$","blockquote",null,{"children":["$","p",null,{"children":[["$","code",null,{"children":"chunk"}],"表示打包输出模块，打包输出几个文件，",["$","code",null,{"children":"chunks"}],"就有几个。 同步代码分割可以通过",["$","strong",null,{"children":"浏览器缓存"}],"功能提升第二次页面加载速度。"]}]}],["$","ol",null,{"start":"5","children":["$","li",null,{"children":"指定代码分割打包输出文件名"}]}],["$","p",null,{"children":"(1) 编辑打包配置文件"}],["$","$L16",null,{"className":"language-js","children":["$","code",null,{"className":"language-js code-highlight","children":[["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token property literal-property","children":"output"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token comment","children":"//..."}],"\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token property literal-property","children":"chunkFilename"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token string","children":"'[name].chunk.js'"}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token comment","children":"//..."}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}]]}]}],["$","blockquote",null,{"children":["$","p",null,{"children":["在",["$","code",null,{"children":"html"}],"页面中直接引入的资源文件(",["$","code",null,{"children":"js"}],"、",["$","code",null,{"children":"css"}],")命名以 ",["$","code",null,{"children":"filename"}],"为规则。间接引用的资源文件命名以",["$","code",null,{"children":"chunkFilename"}],"为规则"]}]}],["$","p",null,{"children":["(2) 打包分析 ",["$","code",null,{"children":"npm run dev"}]]}],["$","$L16",null,{"className":"language-js","children":["$","code",null,{"className":"language-js code-highlight","children":[["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token maybe-class-name","children":"Built"}]," at",["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token number","children":"04"}],["$","span",null,{"className":"token operator","children":"/"}],["$","span",null,{"className":"token number","children":"12"}],["$","span",null,{"className":"token operator","children":"/"}],["$","span",null,{"className":"token number","children":"2019"}]," ",["$","span",null,{"className":"token number","children":"9"}],["$","span",null,{"className":"token operator","children":":"}],["$","span",null,{"className":"token number","children":"39"}],["$","span",null,{"className":"token operator","children":":"}],["$","span",null,{"className":"token number","children":"07"}]," ",["$","span",null,{"className":"token constant","children":"AM"}],"\n"]}],["$","span",null,{"className":"code-line","children":["               ",["$","span",null,{"className":"token maybe-class-name","children":"Asset"}],"       ",["$","span",null,{"className":"token maybe-class-name","children":"Size"}],"       ",["$","span",null,{"className":"token maybe-class-name","children":"Chunks"}],"             ",["$","span",null,{"className":"token maybe-class-name","children":"Chunk"}]," ",["$","span",null,{"className":"token maybe-class-name","children":"Names"}],"\n"]}],["$","span",null,{"className":"code-line","children":["       app",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access","children":"bundle"}],["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access","children":"js"}],"   ",["$","span",null,{"className":"token number","children":"32.4"}]," ",["$","span",null,{"className":"token maybe-class-name","children":"KiB"}],"          app  ",["$","span",null,{"className":"token punctuation","children":"["}],"emitted",["$","span",null,{"className":"token punctuation","children":"]"}],"  app\n"]}],["$","span",null,{"className":"code-line","children":["          index",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access","children":"html"}],"  ",["$","span",null,{"className":"token number","children":"288"}]," bytes               ",["$","span",null,{"className":"token punctuation","children":"["}],"emitted",["$","span",null,{"className":"token punctuation","children":"]"}],"  \n"]}],["$","span",null,{"className":"code-line","children":["vendors",["$","span",null,{"className":"token operator","children":"~"}],"app",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access","children":"chunk"}],["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access","children":"js"}],"   ",["$","span",null,{"className":"token number","children":"1.35"}]," ",["$","span",null,{"className":"token maybe-class-name","children":"MiB"}],"  vendors",["$","span",null,{"className":"token operator","children":"~"}],"app  ",["$","span",null,{"className":"token punctuation","children":"["}],"emitted",["$","span",null,{"className":"token punctuation","children":"]"}],"  vendors",["$","span",null,{"className":"token operator","children":"~"}],"app\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token maybe-class-name","children":"Entrypoint"}]," app ",["$","span",null,{"className":"token operator","children":"="}]," vendors",["$","span",null,{"className":"token operator","children":"~"}],"app",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access","children":"chunk"}],["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access","children":"js"}]," app",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access","children":"bundle"}],["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access","children":"js"}],"\n"]}]]}]}],["$","h3",null,{"className":"content-header","id":"332-异步代码分割","children":[["$","a",null,{"className":"break-words","href":"#332-异步代码分割","aria-hidden":"true","tabIndex":"-1","children":["$","span",null,{"className":"content-header-link","children":["$","svg",null,{"className":"h-5 linkicon w-5","fill":"currentColor","viewBox":"0 0 20 20","xmlns":"http://www.w3.org/2000/svg","children":[["$","path",null,{"d":"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z"}],["$","path",null,{"d":"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z"}]]}]}]}],"3.3.2 异步代码分割"]}],["$","ol",null,{"children":[["$","li",null,{"children":["使用",["$","a",null,{"className":"break-words","target":"_blank","rel":"noopener noreferrer","href":"https://babel.docschina.org/docs/en/babel-plugin-syntax-dynamic-import","children":["$","code",null,{"children":"@babel/plugin-syntax-dynamic-import"}]}],"实现代码分割"]}],["$","li",null,{"children":["安装依赖 ",["$","code",null,{"children":"npm i @babel/plugin-syntax-dynamic-import -D"}]]}],["$","li",null,{"children":["编辑",["$","code",null,{"children":"babel"}],"配置"]}]]}],["$","$L16",null,{"className":"language-js","children":["$","code",null,{"className":"language-js code-highlight","children":[["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token property string-property","children":"\"plugins\""}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token punctuation","children":"["}],"\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token string","children":"\"@babel/plugin-syntax-dynamic-import\""}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token punctuation","children":"]"}],"\n"]}]]}]}],["$","ol",null,{"start":"4","children":["$","li",null,{"children":["编辑",["$","code",null,{"children":"src/index.js"}]]}]}],["$","$L16",null,{"className":"language-js","children":["$","code",null,{"className":"language-js code-highlight","children":[["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword module","children":"import"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token string","children":"'lodash'"}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access function method","children":"then"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token parameter","children":[["$","span",null,{"className":"token punctuation","children":"{"}],["$","span",null,{"className":"token keyword module","children":"default"}]," ",["$","span",null,{"className":"token operator","children":":"}]," _",["$","span",null,{"className":"token punctuation","children":"}"}]]}],["$","span",null,{"className":"token punctuation","children":")"}]," ",["$","span",null,{"className":"token operator arrow","children":"=>"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token class-name console","children":"console"}],["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access function method","children":"log"}],["$","span",null,{"className":"token punctuation","children":"("}],"_",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access function method","children":"join"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token punctuation","children":"["}],["$","span",null,{"className":"token string","children":"'1'"}],["$","span",null,{"className":"token punctuation","children":","}],["$","span",null,{"className":"token string","children":"'2'"}],["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token string","children":"'3'"}],["$","span",null,{"className":"token punctuation","children":"]"}],["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token string","children":"'-'"}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":")"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":")"}],"\n"]}]]}]}],["$","ol",null,{"start":"5","children":["$","li",null,{"children":["打包分析 ",["$","code",null,{"children":"npm run dev"}]]}]}],["$","$L16",null,{"className":"language-js","children":["$","code",null,{"className":"language-js code-highlight","children":[["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token maybe-class-name","children":"Built"}]," at",["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token number","children":"04"}],["$","span",null,{"className":"token operator","children":"/"}],["$","span",null,{"className":"token number","children":"12"}],["$","span",null,{"className":"token operator","children":"/"}],["$","span",null,{"className":"token number","children":"2019"}]," ",["$","span",null,{"className":"token number","children":"9"}],["$","span",null,{"className":"token operator","children":":"}],["$","span",null,{"className":"token number","children":"29"}],["$","span",null,{"className":"token operator","children":":"}],["$","span",null,{"className":"token number","children":"30"}]," ",["$","span",null,{"className":"token constant","children":"AM"}],"\n"]}],["$","span",null,{"className":"code-line","children":["        ",["$","span",null,{"className":"token maybe-class-name","children":"Asset"}],"       ",["$","span",null,{"className":"token maybe-class-name","children":"Size"}],"  ",["$","span",null,{"className":"token maybe-class-name","children":"Chunks"}],"             ",["$","span",null,{"className":"token maybe-class-name","children":"Chunk"}]," ",["$","span",null,{"className":"token maybe-class-name","children":"Names"}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token number","children":"0"}],["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access","children":"bundle"}],["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access","children":"js"}],"   ",["$","span",null,{"className":"token number","children":"1.35"}]," ",["$","span",null,{"className":"token maybe-class-name","children":"MiB"}],"       ",["$","span",null,{"className":"token number","children":"0"}],"  ",["$","span",null,{"className":"token punctuation","children":"["}],"emitted",["$","span",null,{"className":"token punctuation","children":"]"}],"  \n"]}],["$","span",null,{"className":"code-line","children":["app",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access","children":"bundle"}],["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access","children":"js"}],"   ",["$","span",null,{"className":"token number","children":"33.8"}]," ",["$","span",null,{"className":"token maybe-class-name","children":"KiB"}],"     app  ",["$","span",null,{"className":"token punctuation","children":"["}],"emitted",["$","span",null,{"className":"token punctuation","children":"]"}],"  app\n"]}],["$","span",null,{"className":"code-line","children":["   index",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access","children":"html"}],"  ",["$","span",null,{"className":"token number","children":"221"}]," bytes          ",["$","span",null,{"className":"token punctuation","children":"["}],"emitted",["$","span",null,{"className":"token punctuation","children":"]"}],"  \n"]}]]}]}],["$","blockquote",null,{"children":["$","p",null,{"children":[["$","code",null,{"children":"webpack"}],"会自动对通过",["$","code",null,{"children":"import()"}],"方法异步加载的模块进行代码分割。 异步代码分割既可以通过",["$","strong",null,{"children":"浏览器缓存"}],"功能提升第二次页面加载速度，又可以通过",["$","strong",null,{"children":"懒加载"}],"的方式提升首次页面加载速度。"]}]}],["$","ol",null,{"start":"6","children":["$","li",null,{"children":"指定代码分割打包输出文件名"}]}],["$","$L16",null,{"className":"language-js","children":["$","code",null,{"className":"language-js code-highlight","children":[["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword module","children":"import"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token comment","children":"/* webpackChunkName: \"lodash\" */"}],["$","span",null,{"className":"token string","children":"'lodash'"}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access function method","children":"then"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token parameter","children":[["$","span",null,{"className":"token punctuation","children":"{"}],["$","span",null,{"className":"token keyword module","children":"default"}]," ",["$","span",null,{"className":"token operator","children":":"}]," _",["$","span",null,{"className":"token punctuation","children":"}"}]]}],["$","span",null,{"className":"token punctuation","children":")"}]," ",["$","span",null,{"className":"token operator arrow","children":"=>"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token comment","children":"//..."}],"\n"]}]]}]}],["$","blockquote",null,{"children":["$","p",null,{"children":[["$","code",null,{"children":"import()"}],"方法代码分割的底层还是通过",["$","code",null,{"children":"SplitChunksPlugin"}],"实现的，",["$","code",null,{"children":"splitChunks"}],"配置参数同样会影响",["$","code",null,{"children":"import()"}],"方法代码分割情况。"]}]}],["$","h3",null,{"className":"content-header","id":"333-splitchunksplugin配置参数","children":[["$","a",null,{"className":"break-words","href":"#333-splitchunksplugin配置参数","aria-hidden":"true","tabIndex":"-1","children":["$","span",null,{"className":"content-header-link","children":["$","svg",null,{"className":"h-5 linkicon w-5","fill":"currentColor","viewBox":"0 0 20 20","xmlns":"http://www.w3.org/2000/svg","children":[["$","path",null,{"d":"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z"}],["$","path",null,{"d":"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z"}]]}]}]}],"3.3.3 SplitChunksPlugin配置参数"]}],["$","ol",null,{"children":["$","li",null,{"children":[["$","code",null,{"children":"optimization.splitChunks"}],"默认配置项"]}]}],["$","$L16",null,{"className":"language-js","children":["$","code",null,{"className":"language-js code-highlight","children":[["$","span",null,{"className":"code-line","children":["module",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access","children":"exports"}]," ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token comment","children":"//..."}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token property literal-property","children":"optimization"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token property literal-property","children":"splitChunks"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["      ",["$","span",null,{"className":"token property literal-property","children":"chunks"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token string","children":"'async'"}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["      ",["$","span",null,{"className":"token property literal-property","children":"minSize"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token number","children":"30000"}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["      ",["$","span",null,{"className":"token property literal-property","children":"maxSize"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token number","children":"0"}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["      ",["$","span",null,{"className":"token property literal-property","children":"minChunks"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token number","children":"1"}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["      ",["$","span",null,{"className":"token property literal-property","children":"maxAsyncRequests"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token number","children":"5"}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["      ",["$","span",null,{"className":"token property literal-property","children":"maxInitialRequests"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token number","children":"3"}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["      ",["$","span",null,{"className":"token property literal-property","children":"automaticNameDelimiter"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token string","children":"'~'"}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["      ",["$","span",null,{"className":"token property literal-property","children":"name"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token boolean","children":"true"}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["      ",["$","span",null,{"className":"token property literal-property","children":"cacheGroups"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["        ",["$","span",null,{"className":"token property literal-property","children":"vendors"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["          ",["$","span",null,{"className":"token property literal-property","children":"test"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token regex","children":[["$","span",null,{"className":"token regex-delimiter","children":"/"}],["$","span",null,{"className":"token language-regex regex-source","children":[["$","span",null,{"className":"token char-class","children":[["$","span",null,{"className":"token punctuation char-class-punctuation","children":"["}],["$","span",null,{"className":"token escape special-escape","children":"\\\\"}],"/",["$","span",null,{"className":"token punctuation char-class-punctuation","children":"]"}]]}],"node_modules",["$","span",null,{"className":"token char-class","children":[["$","span",null,{"className":"token punctuation char-class-punctuation","children":"["}],["$","span",null,{"className":"token escape special-escape","children":"\\\\"}],"/",["$","span",null,{"className":"token punctuation char-class-punctuation","children":"]"}]]}]]}],["$","span",null,{"className":"token regex-delimiter","children":"/"}]]}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["          ",["$","span",null,{"className":"token property literal-property","children":"priority"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token operator","children":"-"}],["$","span",null,{"className":"token number","children":"10"}],"\n"]}],["$","span",null,{"className":"code-line","children":["        ",["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["        ",["$","span",null,{"className":"token keyword module","children":"default"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["          ",["$","span",null,{"className":"token property literal-property","children":"minChunks"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token number","children":"2"}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["          ",["$","span",null,{"className":"token property literal-property","children":"priority"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token operator","children":"-"}],["$","span",null,{"className":"token number","children":"20"}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["          ",["$","span",null,{"className":"token property literal-property","children":"reuseExistingChunk"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token boolean","children":"true"}],"\n"]}],["$","span",null,{"className":"code-line","children":["        ",["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}],["$","span",null,{"className":"code-line","children":["      ",["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}]]}]}],["$","blockquote",null,{"children":["$","p",null,{"children":[["$","code",null,{"children":"webpack4.X"}],"版本才支持",["$","code",null,{"children":"SplitChunksPlugin"}],"。在",["$","code",null,{"children":"webpack3.X"}],"中，使用",["$","code",null,{"children":"CommonsChunkPlugin"}],"进行代码分割。"]}]}],["$","ol",null,{"start":"2","children":["$","li",null,{"children":[["$","code",null,{"children":"optimization.splitChunks"}],"配置项说明"]}]}],["$","$L16",null,{"className":"language-js","children":["$","code",null,{"className":"language-js code-highlight","children":[["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token property literal-property","children":"optimization"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token property literal-property","children":"splitChunks"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["      ",["$","span",null,{"className":"token property literal-property","children":"chunks"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token string","children":"'all'"}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["      ",["$","span",null,{"className":"token comment","children":"//initial只对同步代码分割，async(默认)只对异步代码分割、all所有代码都做代码分割"}],"\n"]}],["$","span",null,{"className":"code-line","children":["      ",["$","span",null,{"className":"token property literal-property","children":"minSize"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token number","children":"30000"}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["      ",["$","span",null,{"className":"token comment","children":"//大于30000Bit的模块才做代码分割"}],"\n"]}],["$","span",null,{"className":"code-line","children":["      ",["$","span",null,{"className":"token property literal-property","children":"maxSize"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token number","children":"0"}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["      ",["$","span",null,{"className":"token comment","children":"//当模块大于maxSize时，会对模块做二次代码分割。当设置为0时，不做二次分割。"}],"\n"]}],["$","span",null,{"className":"code-line","children":["      ",["$","span",null,{"className":"token property literal-property","children":"minChunks"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token number","children":"1"}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["      ",["$","span",null,{"className":"token comment","children":"//当打包输出chunks文件引用该模块的次数达到一定数目时才做代码分割。"}],"\n"]}],["$","span",null,{"className":"code-line","children":["      ",["$","span",null,{"className":"token property literal-property","children":"maxAsyncRequests"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token number","children":"5"}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["      ",["$","span",null,{"className":"token comment","children":"//异步加载的js文件最大数目为边界条件进行代码分割"}],"\n"]}],["$","span",null,{"className":"code-line","children":["      ",["$","span",null,{"className":"token property literal-property","children":"maxInitialRequests"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token number","children":"3"}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["      ",["$","span",null,{"className":"token comment","children":"//以初始加载的js文件最大数目为边界条件进行代码分割"}],"\n"]}],["$","span",null,{"className":"code-line","children":["      ",["$","span",null,{"className":"token property literal-property","children":"automaticNameDelimiter"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token string","children":"'~'"}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["      ",["$","span",null,{"className":"token comment","children":"//代码分割生成文件连接符"}],"\n"]}],["$","span",null,{"className":"code-line","children":["      ",["$","span",null,{"className":"token property literal-property","children":"name"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token boolean","children":"true"}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["      ",["$","span",null,{"className":"token comment","children":"//代码分割生成文件自动生成文件名"}],"\n"]}],["$","span",null,{"className":"code-line","children":["      ",["$","span",null,{"className":"token property literal-property","children":"cacheGroups"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["        ",["$","span",null,{"className":"token comment","children":"//代码分割缓存组，被分割代码文件通过缓存组输出为一个文件。"}],"\n"]}],["$","span",null,{"className":"code-line","children":["        ",["$","span",null,{"className":"token property literal-property","children":"vendors"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["          ",["$","span",null,{"className":"token property literal-property","children":"test"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token regex","children":[["$","span",null,{"className":"token regex-delimiter","children":"/"}],["$","span",null,{"className":"token language-regex regex-source","children":[["$","span",null,{"className":"token char-class","children":[["$","span",null,{"className":"token punctuation char-class-punctuation","children":"["}],["$","span",null,{"className":"token escape special-escape","children":"\\\\"}],"/",["$","span",null,{"className":"token punctuation char-class-punctuation","children":"]"}]]}],"node_modules",["$","span",null,{"className":"token char-class","children":[["$","span",null,{"className":"token punctuation char-class-punctuation","children":"["}],["$","span",null,{"className":"token escape special-escape","children":"\\\\"}],"/",["$","span",null,{"className":"token punctuation char-class-punctuation","children":"]"}]]}]]}],["$","span",null,{"className":"token regex-delimiter","children":"/"}]]}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["          ",["$","span",null,{"className":"token comment","children":"//模块路径正则表达式"}],"\n"]}],["$","span",null,{"className":"code-line","children":["          ",["$","span",null,{"className":"token property literal-property","children":"priority"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token operator","children":"-"}],["$","span",null,{"className":"token number","children":"10"}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["          ",["$","span",null,{"className":"token comment","children":"//缓存组优先级，一个模块优先打包输出到优先级高的缓存组中。"}],"\n"]}],["$","span",null,{"className":"code-line","children":["          ",["$","span",null,{"className":"token property literal-property","children":"name"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token string","children":"'vendor'"}],"\n"]}],["$","span",null,{"className":"code-line","children":["          ",["$","span",null,{"className":"token comment","children":"//代码分割打包输出文件名"}],"\n"]}],["$","span",null,{"className":"code-line","children":["        ",["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["        ",["$","span",null,{"className":"token property literal-property","children":"lodash"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["          ",["$","span",null,{"className":"token property literal-property","children":"test"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token regex","children":[["$","span",null,{"className":"token regex-delimiter","children":"/"}],["$","span",null,{"className":"token language-regex regex-source","children":[["$","span",null,{"className":"token char-class","children":[["$","span",null,{"className":"token punctuation char-class-punctuation","children":"["}],["$","span",null,{"className":"token escape special-escape","children":"\\\\"}],"/",["$","span",null,{"className":"token punctuation char-class-punctuation","children":"]"}]]}],"lodash",["$","span",null,{"className":"token char-class","children":[["$","span",null,{"className":"token punctuation char-class-punctuation","children":"["}],["$","span",null,{"className":"token escape special-escape","children":"\\\\"}],"/",["$","span",null,{"className":"token punctuation char-class-punctuation","children":"]"}]]}]]}],["$","span",null,{"className":"token regex-delimiter","children":"/"}]]}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["          ",["$","span",null,{"className":"token property literal-property","children":"priority"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token operator","children":"-"}],["$","span",null,{"className":"token number","children":"5"}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["        ",["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["        ",["$","span",null,{"className":"token property literal-property","children":"jquery"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["          ",["$","span",null,{"className":"token property literal-property","children":"test"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token regex","children":[["$","span",null,{"className":"token regex-delimiter","children":"/"}],["$","span",null,{"className":"token language-regex regex-source","children":[["$","span",null,{"className":"token char-class","children":[["$","span",null,{"className":"token punctuation char-class-punctuation","children":"["}],["$","span",null,{"className":"token escape special-escape","children":"\\\\"}],"/",["$","span",null,{"className":"token punctuation char-class-punctuation","children":"]"}]]}],"jquery",["$","span",null,{"className":"token char-class","children":[["$","span",null,{"className":"token punctuation char-class-punctuation","children":"["}],["$","span",null,{"className":"token escape special-escape","children":"\\\\"}],"/",["$","span",null,{"className":"token punctuation char-class-punctuation","children":"]"}]]}]]}],["$","span",null,{"className":"token regex-delimiter","children":"/"}]]}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["          ",["$","span",null,{"className":"token property literal-property","children":"priority"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token operator","children":"-"}],["$","span",null,{"className":"token number","children":"5"}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["        ",["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["        ",["$","span",null,{"className":"token keyword module","children":"default"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["          ",["$","span",null,{"className":"token comment","children":"//默认缓存组，一般设置priority优先级数值最小"}],"\n"]}],["$","span",null,{"className":"code-line","children":["          ",["$","span",null,{"className":"token property literal-property","children":"minChunks"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token number","children":"2"}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["          ",["$","span",null,{"className":"token property literal-property","children":"priority"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token operator","children":"-"}],["$","span",null,{"className":"token number","children":"20"}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["          ",["$","span",null,{"className":"token property literal-property","children":"reuseExistingChunk"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token boolean","children":"true"}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["          ",["$","span",null,{"className":"token comment","children":"//代码分割的模块A引用其他模块B，B已经被打包输出，则不再重新打包进入A"}],"\n"]}],["$","span",null,{"className":"code-line","children":["          ",["$","span",null,{"className":"token property literal-property","children":"name"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token string","children":"'common'"}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["          ",["$","span",null,{"className":"token property literal-property","children":"chunks"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token string","children":"'all'"}],"\n"]}],["$","span",null,{"className":"code-line","children":["        ",["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}],["$","span",null,{"className":"code-line","children":["      ",["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}]]}]}],["$","blockquote",null,{"children":["$","p",null,{"children":[["$","strong",null,{"children":[["$","code",null,{"children":"optimization.splitChunks.chunks"}],"可设置，默认值为",["$","code",null,{"children":"async"}],"，表示默认只对动态",["$","code",null,{"children":"import()"}],"做代码分割。",["$","code",null,{"children":"splitChunks.cacheGroups.{cacheGroup}.chunks"}],"同样可以设置，默认值为",["$","code",null,{"children":"all"}],",表示",["$","code",null,{"children":"cacheGroups"}],"分组代码分割优先级高于",["$","code",null,{"children":"import()"}]]}],"。"]}]}],["$","h2",null,{"className":"content-header","id":"34-懒加载lazy-loading","children":[["$","a",null,{"className":"break-words","href":"#34-懒加载lazy-loading","aria-hidden":"true","tabIndex":"-1","children":["$","span",null,{"className":"content-header-link","children":["$","svg",null,{"className":"h-5 linkicon w-5","fill":"currentColor","viewBox":"0 0 20 20","xmlns":"http://www.w3.org/2000/svg","children":[["$","path",null,{"d":"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z"}],["$","path",null,{"d":"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z"}]]}]}]}],"3.4 懒加载(Lazy Loading)"]}],["$","ol",null,{"children":[["$","li",null,{"children":[["$","a",null,{"className":"break-words","target":"_blank","rel":"noopener noreferrer","href":"https://webpack.docschina.org/guides/lazy-loading/","children":["$","code",null,{"children":"Lazy Loading"}]}],"文档。"]}],["$","li",null,{"children":[["$","code",null,{"children":"import()"}],"实现懒加载"]}]]}],["$","$L16",null,{"className":"language-js","children":["$","code",null,{"className":"language-js code-highlight","children":[["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword","children":"const"}]," ",["$","span",null,{"className":"token function function-variable","children":"lazyConsole"}]," ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token keyword","children":"async"}]," ",["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token punctuation","children":")"}]," ",["$","span",null,{"className":"token operator arrow","children":"=>"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token keyword","children":"const"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],["$","span",null,{"className":"token keyword module","children":"default"}]," ",["$","span",null,{"className":"token operator","children":":"}]," _",["$","span",null,{"className":"token punctuation","children":"}"}]," ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token keyword control-flow","children":"await"}]," ",["$","span",null,{"className":"token keyword module","children":"import"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token comment","children":"/* webpackChunkName: \"lodash\" */"}],["$","span",null,{"className":"token string","children":"'lodash'"}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token class-name console","children":"console"}],["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access function method","children":"log"}],["$","span",null,{"className":"token punctuation","children":"("}],"_",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access function method","children":"join"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token punctuation","children":"["}],["$","span",null,{"className":"token string","children":"'1'"}],["$","span",null,{"className":"token punctuation","children":","}],["$","span",null,{"className":"token string","children":"'2'"}],["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token string","children":"'3'"}],["$","span",null,{"className":"token punctuation","children":"]"}],["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token string","children":"'-'"}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":")"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":"\n"}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token dom variable","children":"document"}],["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access function method","children":"addEventListener"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token string","children":"'click'"}],["$","span",null,{"className":"token punctuation","children":","}]," lazyConsole",["$","span",null,{"className":"token punctuation","children":")"}],"\n"]}]]}]}],["$","p",null,{"children":[["$","code",null,{"children":"import()"}],"动态加载不仅可以实现代码分割，还可以实现懒加载。 ",["$","code",null,{"children":"lodash"}],"模块生成的",["$","code",null,{"children":"vendors~lodash.bundle.js"}],"文件在点击页面时才加载。"]}],["$","blockquote",null,{"children":["$","p",null,{"children":["只有配置",["$","code",null,{"children":"chunkFilename"}],"之后，",["$","code",null,{"children":"webpackChunkName"}],"才生效。 如果多个 ",["$","code",null,{"children":"import()"}],"的魔法注释",["$","code",null,{"children":"webpackChunkName"}],"指定同一个名字，则这多个",["$","code",null,{"children":"import()"}],"模块会打包成一个",["$","code",null,{"children":"bundle"}],"。 如果外部也引入了",["$","code",null,{"children":"import()"}],"方法中引入的模块，则该模块不会分割单独打包。"]}]}],["$","h2",null,{"className":"content-header","id":"35-预取预加载模块prefetchpreload-module","children":[["$","a",null,{"className":"break-words","href":"#35-预取预加载模块prefetchpreload-module","aria-hidden":"true","tabIndex":"-1","children":["$","span",null,{"className":"content-header-link","children":["$","svg",null,{"className":"h-5 linkicon w-5","fill":"currentColor","viewBox":"0 0 20 20","xmlns":"http://www.w3.org/2000/svg","children":[["$","path",null,{"d":"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z"}],["$","path",null,{"d":"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z"}]]}]}]}],"3.5 预取/预加载模块(prefetch/preload module)"]}],["$","h3",null,{"className":"content-header","id":"351-查看页面代码利用率","children":[["$","a",null,{"className":"break-words","href":"#351-查看页面代码利用率","aria-hidden":"true","tabIndex":"-1","children":["$","span",null,{"className":"content-header-link","children":["$","svg",null,{"className":"h-5 linkicon w-5","fill":"currentColor","viewBox":"0 0 20 20","xmlns":"http://www.w3.org/2000/svg","children":[["$","path",null,{"d":"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z"}],["$","path",null,{"d":"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z"}]]}]}]}],"3.5.1 查看页面代码利用率"]}],["$","ol",null,{"children":[["$","li",null,{"children":[["$","code",null,{"children":"chrome"}],"浏览器打开网页"]}],["$","li",null,{"children":"打开调试面板"}],["$","li",null,{"children":[["$","code",null,{"children":"commond + shift + p"}]," - ",["$","code",null,{"children":"show coverage"}]," - ",["$","code",null,{"children":"instrument coverage"}]," ",["$","img",null,{"alt":"image.png","src":"https://upload-images.jianshu.io/upload_images/4989175-b2fca193d70a2bc0.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240"}]]}],["$","li",null,{"children":["刷新网页 ",["$","img",null,{"alt":"代码利用率","src":"https://upload-images.jianshu.io/upload_images/4989175-48482f32ee52b7a8.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240"}]]}],["$","li",null,{"children":["分析结果 红色表示加载并运行代码，绿色表示只加载未运行代码。 可以看到该页面加载的每一个文件的利用率以及综合利用率。 点击右侧横条，可以看到具体文件代码利用情况。 ",["$","img",null,{"alt":"image.png","src":"https://upload-images.jianshu.io/upload_images/4989175-6e5bf583cb737aba.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240"}]]}]]}],["$","h3",null,{"className":"content-header","id":"352-提高代码利用率","children":[["$","a",null,{"className":"break-words","href":"#352-提高代码利用率","aria-hidden":"true","tabIndex":"-1","children":["$","span",null,{"className":"content-header-link","children":["$","svg",null,{"className":"h-5 linkicon w-5","fill":"currentColor","viewBox":"0 0 20 20","xmlns":"http://www.w3.org/2000/svg","children":[["$","path",null,{"d":"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z"}],["$","path",null,{"d":"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z"}]]}]}]}],"3.5.2 提高代码利用率"]}],["$","ol",null,{"children":[["$","li",null,{"children":["通过",["$","code",null,{"children":"import()"}],"异步模块懒加载的方式可以提高首屏代码利用率。"]}],["$","li",null,{"children":["未使用懒加载 ",["$","code",null,{"children":"src/index.js"}]]}]]}],["$","$L16",null,{"className":"language-js","children":["$","code",null,{"className":"language-js code-highlight","children":[["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token dom variable","children":"document"}],["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access function method","children":"addEventListener"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token string","children":"'click'"}],["$","span",null,{"className":"token punctuation","children":","}],"  ",["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token punctuation","children":")"}]," ",["$","span",null,{"className":"token operator arrow","children":"=>"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token keyword","children":"const"}]," element ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token dom variable","children":"document"}],["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access function method","children":"createElement"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token string","children":"'div'"}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":["  element",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access","children":"innerHTML"}]," ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token string","children":"'Dell Li'"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token dom variable","children":"document"}],["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access","children":"body"}],["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access function method","children":"appendChild"}],["$","span",null,{"className":"token punctuation","children":"("}],"element",["$","span",null,{"className":"token punctuation","children":")"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}]]}]}],["$","p",null,{"children":["代码利用率为：",["$","code",null,{"children":"77%"}]," ",["$","img",null,{"alt":"image.png","src":"https://upload-images.jianshu.io/upload_images/4989175-8833bd55882b67a8.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240"}]," 3. 通过懒加载 ",["$","code",null,{"children":"src/index.js"}]]}],["$","$L16",null,{"className":"language-js","children":["$","code",null,{"className":"language-js code-highlight","children":[["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token dom variable","children":"document"}],["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access function method","children":"addEventListener"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token string","children":"'click'"}],["$","span",null,{"className":"token punctuation","children":","}],"  ",["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token punctuation","children":")"}]," ",["$","span",null,{"className":"token operator arrow","children":"=>"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token keyword module","children":"import"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token string","children":"'./click'"}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access function method","children":"then"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token parameter","children":[["$","span",null,{"className":"token punctuation","children":"{"}],["$","span",null,{"className":"token keyword module","children":"default"}],["$","span",null,{"className":"token operator","children":":"}]," click",["$","span",null,{"className":"token punctuation","children":"}"}]]}],["$","span",null,{"className":"token punctuation","children":")"}]," ",["$","span",null,{"className":"token operator arrow","children":"=>"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    click ",["$","span",null,{"className":"token operator","children":"&&"}]," ",["$","span",null,{"className":"token function","children":"click"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token punctuation","children":")"}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":")"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}]]}]}],["$","p",null,{"children":["$","code",null,{"children":"src/click.js"}]}],["$","$L16",null,{"className":"language-js","children":["$","code",null,{"className":"language-js code-highlight","children":[["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword","children":"const"}]," ",["$","span",null,{"className":"token function function-variable","children":"handleClick"}]," ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token punctuation","children":")"}]," ",["$","span",null,{"className":"token operator arrow","children":"=>"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token keyword","children":"const"}]," element ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token dom variable","children":"document"}],["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access function method","children":"createElement"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token string","children":"'div'"}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":["  element",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access","children":"innerHTML"}]," ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token string","children":"'Dell Li'"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token dom variable","children":"document"}],["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access","children":"body"}],["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access function method","children":"appendChild"}],["$","span",null,{"className":"token punctuation","children":"("}],"element",["$","span",null,{"className":"token punctuation","children":")"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":"\n"}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword module","children":"export"}]," ",["$","span",null,{"className":"token keyword module","children":"default"}]," handleClick\n"]}]]}]}],["$","p",null,{"children":["代码利用率为：",["$","code",null,{"children":"81.5%"}]," ",["$","img",null,{"alt":"image.png","src":"https://upload-images.jianshu.io/upload_images/4989175-515ce24ed2280c29.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240"}]]}],["$","blockquote",null,{"children":["$","p",null,{"children":["异步模块懒加载虽然可以减少首屏代码量，缩短网页首次加载时间，但等待用户交互后才请求对应",["$","code",null,{"children":"js"}],"文件，会影响用户体验。可以通过",["$","code",null,{"children":"prefetch/preload"}],"方式解决该问题。"]}]}],["$","h3",null,{"className":"content-header","id":"353-prefetchpreload-module","children":[["$","a",null,{"className":"break-words","href":"#353-prefetchpreload-module","aria-hidden":"true","tabIndex":"-1","children":["$","span",null,{"className":"content-header-link","children":["$","svg",null,{"className":"h-5 linkicon w-5","fill":"currentColor","viewBox":"0 0 20 20","xmlns":"http://www.w3.org/2000/svg","children":[["$","path",null,{"d":"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z"}],["$","path",null,{"d":"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z"}]]}]}]}],"3.5.3 prefetch/preload module"]}],["$","ol",null,{"children":[["$","li",null,{"children":[["$","code",null,{"children":"webpack v4.6.0+"}]," 添加了预取和预加载(",["$","a",null,{"className":"break-words","target":"_blank","rel":"noopener noreferrer","href":"https://webpack.docschina.org/guides/code-splitting/#%E9%A2%84%E5%8F%96-%E9%A2%84%E5%8A%A0%E8%BD%BD%E6%A8%A1%E5%9D%97-prefetch-preload-module-","children":"prefetch/preload module"}],")的支持。"]}],["$","li",null,{"children":["使用",["$","code",null,{"children":"prefetch"}]," ",["$","code",null,{"children":"src/index.js"}]]}]]}],["$","$L16",null,{"className":"language-js","children":["$","code",null,{"className":"language-js code-highlight","children":[["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token dom variable","children":"document"}],["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access function method","children":"addEventListener"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token string","children":"'click'"}],["$","span",null,{"className":"token punctuation","children":","}],"  ",["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token punctuation","children":")"}]," ",["$","span",null,{"className":"token operator arrow","children":"=>"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token keyword module","children":"import"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token comment","children":"/* webpackPrefetch: true */"}]," ",["$","span",null,{"className":"token string","children":"'./click'"}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access function method","children":"then"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token parameter","children":[["$","span",null,{"className":"token punctuation","children":"{"}],["$","span",null,{"className":"token keyword module","children":"default"}],["$","span",null,{"className":"token operator","children":":"}]," click",["$","span",null,{"className":"token punctuation","children":"}"}]]}],["$","span",null,{"className":"token punctuation","children":")"}]," ",["$","span",null,{"className":"token operator arrow","children":"=>"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    click ",["$","span",null,{"className":"token operator","children":"&&"}]," ",["$","span",null,{"className":"token function","children":"click"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token punctuation","children":")"}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":")"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}]]}]}],["$","p",null,{"children":["这会生成 ",["$","code",null,{"children":"<link rel=\"prefetch\" href=\"1.bundle.js\">"}]," 并追加到页面头部，指示着浏览器在闲置时间预取",["$","code",null,{"children":"1.bundle.js"}],"文件。 3. ",["$","code",null,{"children":"prefetch"}]," / ",["$","code",null,{"children":"preload"}],"指令对比"]}],["$","ul",null,{"children":[["$","li",null,{"children":[["$","code",null,{"children":"preload chunk"}],"会在父",["$","code",null,{"children":"chunk"}],"加载时，以并行方式开始加载。",["$","code",null,{"children":"prefetch chunk"}]," 会在父 ",["$","code",null,{"children":"chunk"}]," 加载结束后开始加载。"]}],["$","li",null,{"children":[["$","code",null,{"children":"preload chunk"}]," 具有中等优先级，并立即下载。",["$","code",null,{"children":"prefetch chunk"}]," 在浏览器闲置时下载。"]}],["$","li",null,{"children":[["$","code",null,{"children":"preload chunk"}]," 会在父 ",["$","code",null,{"children":"chunk"}]," 中立即请求，用于当下时刻。",["$","code",null,{"children":"prefetch chunk"}]," 会用于未来的某个时刻。"]}],["$","li",null,{"children":"浏览器支持程度不同。"}]]}],["$","h1",null,{"className":"content-header","id":"4-css文件的代码分割","children":[["$","a",null,{"className":"break-words","href":"#4-css文件的代码分割","aria-hidden":"true","tabIndex":"-1","children":["$","span",null,{"className":"content-header-link","children":["$","svg",null,{"className":"h-5 linkicon w-5","fill":"currentColor","viewBox":"0 0 20 20","xmlns":"http://www.w3.org/2000/svg","children":[["$","path",null,{"d":"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z"}],["$","path",null,{"d":"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z"}]]}]}]}],"4. CSS文件的代码分割"]}],["$","h2",null,{"className":"content-header","id":"41-现有css打包分析","children":[["$","a",null,{"className":"break-words","href":"#41-现有css打包分析","aria-hidden":"true","tabIndex":"-1","children":["$","span",null,{"className":"content-header-link","children":["$","svg",null,{"className":"h-5 linkicon w-5","fill":"currentColor","viewBox":"0 0 20 20","xmlns":"http://www.w3.org/2000/svg","children":[["$","path",null,{"d":"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z"}],["$","path",null,{"d":"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z"}]]}]}]}],"4.1 现有CSS打包分析"]}],["$","ol",null,{"children":["$","li",null,{"children":["打包配置 ",["$","code",null,{"children":"webpack.base.config.js"}]]}]}],["$","$L16",null,{"className":"language-js","children":["$","code",null,{"className":"language-js code-highlight","children":[["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token property literal-property","children":"module"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token property literal-property","children":"rules"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token punctuation","children":"["}],"\n"]}],["$","span",null,{"className":"code-line","children":["      ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["        ",["$","span",null,{"className":"token property literal-property","children":"test"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token regex","children":[["$","span",null,{"className":"token regex-delimiter","children":"/"}],["$","span",null,{"className":"token language-regex regex-source","children":[["$","span",null,{"className":"token escape special-escape","children":"\\."}],"css",["$","span",null,{"className":"token function anchor","children":"$$"}]]}],["$","span",null,{"className":"token regex-delimiter","children":"/"}]]}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["        ",["$","span",null,{"className":"token property literal-property","children":"use"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token punctuation","children":"["}],"\n"]}],["$","span",null,{"className":"code-line","children":["          ",["$","span",null,{"className":"token string","children":"'style-loader'"}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["          ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["            ",["$","span",null,{"className":"token property literal-property","children":"loader"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token string","children":"'css-loader'"}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["            ",["$","span",null,{"className":"token property literal-property","children":"options"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["              ",["$","span",null,{"className":"token property literal-property","children":"modules"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token boolean","children":"true"}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["              ",["$","span",null,{"className":"token property literal-property","children":"localIdentName"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token string","children":"'[path][name]__[local]--[hash:base64:5]'"}],"\n"]}],["$","span",null,{"className":"code-line","children":["            ",["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}],["$","span",null,{"className":"code-line","children":["          ",["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["          ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["            ",["$","span",null,{"className":"token property literal-property","children":"loader"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token string","children":"'postcss-loader'"}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["            ",["$","span",null,{"className":"token property literal-property","children":"options"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["              ",["$","span",null,{"className":"token property literal-property","children":"ident"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token string","children":"'postcss'"}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["              ",["$","span",null,{"className":"token property literal-property","children":"plugins"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token punctuation","children":"["}]," ",["$","span",null,{"className":"token function","children":"require"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token string","children":"'autoprefixer'"}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":"]"}],"\n"]}],["$","span",null,{"className":"code-line","children":["            ",["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}],["$","span",null,{"className":"code-line","children":["          ",["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}],["$","span",null,{"className":"code-line","children":["        ",["$","span",null,{"className":"token punctuation","children":"]"}],"\n"]}],["$","span",null,{"className":"code-line","children":["      ",["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["      ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["        ",["$","span",null,{"className":"token property literal-property","children":"test"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token regex","children":[["$","span",null,{"className":"token regex-delimiter","children":"/"}],["$","span",null,{"className":"token language-regex regex-source","children":[["$","span",null,{"className":"token escape special-escape","children":"\\."}],"scss",["$","span",null,{"className":"token function anchor","children":"$$"}]]}],["$","span",null,{"className":"token regex-delimiter","children":"/"}]]}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["        ",["$","span",null,{"className":"token property literal-property","children":"use"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token punctuation","children":"["}],"\n"]}],["$","span",null,{"className":"code-line","children":["          ",["$","span",null,{"className":"token string","children":"\"style-loader\""}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["          ",["$","span",null,{"className":"token string","children":"\"css-loader\""}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["          ",["$","span",null,{"className":"token string","children":"\"sass-loader\""}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["          ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["            ",["$","span",null,{"className":"token property literal-property","children":"loader"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token string","children":"'postcss-loader'"}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["            ",["$","span",null,{"className":"token property literal-property","children":"options"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["              ",["$","span",null,{"className":"token property literal-property","children":"ident"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token string","children":"'postcss'"}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["              ",["$","span",null,{"className":"token property literal-property","children":"plugins"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token punctuation","children":"["}]," ",["$","span",null,{"className":"token function","children":"require"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token string","children":"'autoprefixer'"}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":"]"}],"\n"]}],["$","span",null,{"className":"code-line","children":["            ",["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}],["$","span",null,{"className":"code-line","children":["          ",["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}],["$","span",null,{"className":"code-line","children":["        ",["$","span",null,{"className":"token punctuation","children":"]"}],"\n"]}],["$","span",null,{"className":"code-line","children":["      ",["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token punctuation","children":"]"}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}]]}]}],["$","ol",null,{"start":"2","children":["$","li",null,{"children":"入口文件"}]}],["$","p",null,{"children":["$","code",null,{"children":"src/index.js"}]}],["$","$L16",null,{"className":"language-js","children":["$","code",null,{"className":"language-js code-highlight","children":["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword module","children":"import"}]," ",["$","span",null,{"className":"token string","children":"'./style.css'"}],"\n"]}]}]}],["$","p",null,{"children":["$","code",null,{"children":"src/style.css"}]}],["$","$L16",null,{"className":"language-js","children":["$","code",null,{"className":"language-js code-highlight","children":[["$","span",null,{"className":"code-line","children":["body ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token property literal-property","children":"background"}],["$","span",null,{"className":"token operator","children":":"}]," yellow",["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}]]}]}],["$","ol",null,{"start":"3","children":["$","li",null,{"children":["打包输出 ",["$","code",null,{"children":"npm run build"}]]}]}],["$","$L16",null,{"className":"language-js","children":["$","code",null,{"className":"language-js code-highlight","children":[["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token maybe-class-name","children":"Built"}]," at",["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token number","children":"04"}],["$","span",null,{"className":"token operator","children":"/"}],["$","span",null,{"className":"token number","children":"12"}],["$","span",null,{"className":"token operator","children":"/"}],["$","span",null,{"className":"token number","children":"2019"}]," ",["$","span",null,{"className":"token number","children":"3"}],["$","span",null,{"className":"token operator","children":":"}],["$","span",null,{"className":"token number","children":"53"}],["$","span",null,{"className":"token operator","children":":"}],["$","span",null,{"className":"token number","children":"13"}]," ",["$","span",null,{"className":"token constant","children":"PM"}],"\n"]}],["$","span",null,{"className":"code-line","children":["            ",["$","span",null,{"className":"token maybe-class-name","children":"Asset"}],"       ",["$","span",null,{"className":"token maybe-class-name","children":"Size"}],"  ",["$","span",null,{"className":"token maybe-class-name","children":"Chunks"}],"             ",["$","span",null,{"className":"token maybe-class-name","children":"Chunk"}]," ",["$","span",null,{"className":"token maybe-class-name","children":"Names"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    app",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access","children":"bundle"}],["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access","children":"js"}],"   ",["$","span",null,{"className":"token number","children":"6.79"}]," ",["$","span",null,{"className":"token maybe-class-name","children":"KiB"}],"       ",["$","span",null,{"className":"token number","children":"0"}],"  ",["$","span",null,{"className":"token punctuation","children":"["}],"emitted",["$","span",null,{"className":"token punctuation","children":"]"}],"  app\n"]}],["$","span",null,{"className":"code-line","children":["app",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access","children":"bundle"}],["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access","children":"js"}],["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access","children":"map"}],"   ",["$","span",null,{"className":"token number","children":"3.04"}]," ",["$","span",null,{"className":"token maybe-class-name","children":"KiB"}],"       ",["$","span",null,{"className":"token number","children":"0"}],"  ",["$","span",null,{"className":"token punctuation","children":"["}],"emitted",["$","span",null,{"className":"token punctuation","children":"]"}],"  app\n"]}],["$","span",null,{"className":"code-line","children":["       index",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access","children":"html"}],"  ",["$","span",null,{"className":"token number","children":"221"}]," bytes          ",["$","span",null,{"className":"token punctuation","children":"["}],"emitted",["$","span",null,{"className":"token punctuation","children":"]"}],"  \n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token maybe-class-name","children":"Entrypoint"}]," app ",["$","span",null,{"className":"token operator","children":"="}]," app",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access","children":"bundle"}],["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access","children":"js"}]," app",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access","children":"bundle"}],["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access","children":"js"}],["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access","children":"map"}],"\n"]}]]}]}],["$","ol",null,{"start":"4","children":["$","li",null,{"children":["存在的问题 没有打包输出",["$","code",null,{"children":"css"}],"文件，",["$","code",null,{"children":"css"}],"代码被打包到",["$","code",null,{"children":"js"}],"中。"]}]}],["$","h2",null,{"className":"content-header","id":"42-minicssextractplugin","children":[["$","a",null,{"className":"break-words","href":"#42-minicssextractplugin","aria-hidden":"true","tabIndex":"-1","children":["$","span",null,{"className":"content-header-link","children":["$","svg",null,{"className":"h-5 linkicon w-5","fill":"currentColor","viewBox":"0 0 20 20","xmlns":"http://www.w3.org/2000/svg","children":[["$","path",null,{"d":"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z"}],["$","path",null,{"d":"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z"}]]}]}]}],"4.2 MiniCssExtractPlugin"]}],["$","ol",null,{"children":["$","li",null,{"children":[["$","code",null,{"children":"MiniCssExtractPlugin"}],["$","a",null,{"className":"break-words","target":"_blank","rel":"noopener noreferrer","href":"https://webpack.docschina.org/plugins/mini-css-extract-plugin/","children":"文档介绍"}]," 该插件将",["$","code",null,{"children":"CSS"}],"分割到文件中。对每个",["$","code",null,{"children":"js"}],"文件中的",["$","code",null,{"children":"css"}],"代码创建一个",["$","code",null,{"children":"css"}],"文件。支持",["$","code",null,{"children":"css"}],"按需加载和",["$","code",null,{"children":"sourcemap"}],"。 ",["$","code",null,{"children":"MiniCssExtractPlugin"}],"不支持",["$","code",null,{"children":"HMR"}],"(模块热更新)，建议在生产环境中使用。"]}]}],["$","blockquote",null,{"children":["$","p",null,{"children":["在",["$","code",null,{"children":"webpack4"}],"版本中，我们之前首选使用的",["$","a",null,{"className":"break-words","target":"_blank","rel":"noopener noreferrer","href":"https://github.com/webpack-contrib/extract-text-webpack-plugin","children":"extract-text-webpack-plugin"}],"完成了其历史使命。推荐使用",["$","a",null,{"className":"break-words","target":"_blank","rel":"noopener noreferrer","href":"https://github.com/webpack-contrib/mini-css-extract-plugin","children":"mini-css-extract-plugin"}],"。"]}]}],["$","ol",null,{"start":"2","children":[["$","li",null,{"children":["安装",["$","code",null,{"children":"MiniCssExtractPlugin"}]," ",["$","code",null,{"children":"npm install --save-dev mini-css-extract-plugin"}]]}],["$","li",null,{"children":[["$","code",null,{"children":"webpack.base.config.js"}],"中对",["$","code",null,{"children":"css"}],"和",["$","code",null,{"children":"scss"}],"文件的",["$","code",null,{"children":"loader"}],"处理移动到 ",["$","code",null,{"children":"webpack.dev.config.js"}],"中。"]}],["$","li",null,{"children":["修改打包配置文件 ",["$","code",null,{"children":"webpack.pro.config.js"}]]}]]}],["$","$L16",null,{"className":"language-js","children":["$","code",null,{"className":"language-js code-highlight","children":[["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword","children":"const"}]," ",["$","span",null,{"className":"token maybe-class-name","children":"MiniCssExtractPlugin"}]," ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token function","children":"require"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token string","children":"'mini-css-extract-plugin'"}],["$","span",null,{"className":"token punctuation","children":")"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token comment","children":"//..."}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token property literal-property","children":"module"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token property literal-property","children":"rules"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token punctuation","children":"["}],"\n"]}],["$","span",null,{"className":"code-line","children":["      ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["        ",["$","span",null,{"className":"token property literal-property","children":"test"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token regex","children":[["$","span",null,{"className":"token regex-delimiter","children":"/"}],["$","span",null,{"className":"token language-regex regex-source","children":[["$","span",null,{"className":"token escape special-escape","children":"\\."}],"css",["$","span",null,{"className":"token function anchor","children":"$$"}]]}],["$","span",null,{"className":"token regex-delimiter","children":"/"}]]}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["        ",["$","span",null,{"className":"token property literal-property","children":"use"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token punctuation","children":"["}],"\n"]}],["$","span",null,{"className":"code-line","children":["          ",["$","span",null,{"className":"token maybe-class-name","children":"MiniCssExtractPlugin"}],["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access","children":"loader"}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["          ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["            ",["$","span",null,{"className":"token property literal-property","children":"loader"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token string","children":"'css-loader'"}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["            ",["$","span",null,{"className":"token property literal-property","children":"options"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["              ",["$","span",null,{"className":"token property literal-property","children":"modules"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token boolean","children":"true"}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["              ",["$","span",null,{"className":"token property literal-property","children":"localIdentName"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token string","children":"'[path][name]__[local]--[hash:base64:5]'"}],"\n"]}],["$","span",null,{"className":"code-line","children":["            ",["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}],["$","span",null,{"className":"code-line","children":["          ",["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["          ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["            ",["$","span",null,{"className":"token property literal-property","children":"loader"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token string","children":"'postcss-loader'"}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["            ",["$","span",null,{"className":"token property literal-property","children":"options"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["              ",["$","span",null,{"className":"token property literal-property","children":"ident"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token string","children":"'postcss'"}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["              ",["$","span",null,{"className":"token property literal-property","children":"plugins"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token punctuation","children":"["}]," ",["$","span",null,{"className":"token function","children":"require"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token string","children":"'autoprefixer'"}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":"]"}],"\n"]}],["$","span",null,{"className":"code-line","children":["            ",["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}],["$","span",null,{"className":"code-line","children":["          ",["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}],["$","span",null,{"className":"code-line","children":["        ",["$","span",null,{"className":"token punctuation","children":"]"}],"\n"]}],["$","span",null,{"className":"code-line","children":["      ",["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["      ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["        ",["$","span",null,{"className":"token property literal-property","children":"test"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token regex","children":[["$","span",null,{"className":"token regex-delimiter","children":"/"}],["$","span",null,{"className":"token language-regex regex-source","children":[["$","span",null,{"className":"token escape special-escape","children":"\\."}],"scss",["$","span",null,{"className":"token function anchor","children":"$$"}]]}],["$","span",null,{"className":"token regex-delimiter","children":"/"}]]}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["        ",["$","span",null,{"className":"token property literal-property","children":"use"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token punctuation","children":"["}],"\n"]}],["$","span",null,{"className":"code-line","children":["          ",["$","span",null,{"className":"token maybe-class-name","children":"MiniCssExtractPlugin"}],["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access","children":"loader"}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["          ",["$","span",null,{"className":"token string","children":"\"css-loader\""}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["          ",["$","span",null,{"className":"token string","children":"\"sass-loader\""}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["          ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["            ",["$","span",null,{"className":"token property literal-property","children":"loader"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token string","children":"'postcss-loader'"}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["            ",["$","span",null,{"className":"token property literal-property","children":"options"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["              ",["$","span",null,{"className":"token property literal-property","children":"ident"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token string","children":"'postcss'"}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["              ",["$","span",null,{"className":"token property literal-property","children":"plugins"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token punctuation","children":"["}]," ",["$","span",null,{"className":"token function","children":"require"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token string","children":"'autoprefixer'"}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":"]"}],"\n"]}],["$","span",null,{"className":"code-line","children":["            ",["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}],["$","span",null,{"className":"code-line","children":["          ",["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}],["$","span",null,{"className":"code-line","children":["        ",["$","span",null,{"className":"token punctuation","children":"]"}],"\n"]}],["$","span",null,{"className":"code-line","children":["      ",["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token punctuation","children":"]"}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token property literal-property","children":"plugins"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token punctuation","children":"["}],"\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token keyword","children":"new"}]," ",["$","span",null,{"className":"token class-name","children":"MiniCssExtractPlugin"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token punctuation","children":"{"}],["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":")"}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token punctuation","children":"]"}],"\n"]}]]}]}],["$","blockquote",null,{"children":["$","p",null,{"children":["与之前的配置相比做了两点修改，一个是引入",["$","code",null,{"children":"new MiniCssExtractPlugin({})"}],"插件，一个是",["$","code",null,{"children":"MiniCssExtractPlugin.loader"}],"替换",["$","code",null,{"children":"style-loader"}],"。 由于",["$","code",null,{"children":"webpack-merge"}],"可以对",["$","code",null,{"children":"module.rules"}],"进行合并，但无法对单个",["$","code",null,{"children":"rule"}],"中的",["$","code",null,{"children":"loader"}],"进行合并。所以在",["$","code",null,{"children":"webpack.pro.config.js"}],"里写了完整的处理",["$","code",null,{"children":"css "}],"和",["$","code",null,{"children":"sass"}],"文件的",["$","code",null,{"children":"rule"}],"。也可以在",["$","code",null,{"children":"webpack.base.config.js"}],"通过环境变量的逻辑进行判断添加",["$","code",null,{"children":"MiniCssExtractPlugin.loader"}],"或者",["$","code",null,{"children":"style-loader"}],"。"]}]}],["$","ol",null,{"start":"5","children":["$","li",null,{"children":["打包输出 ",["$","code",null,{"children":"npm run build"}]]}]}],["$","$L16",null,{"className":"language-js","children":["$","code",null,{"className":"language-js code-highlight","children":[["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token maybe-class-name","children":"Built"}]," at",["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token number","children":"04"}],["$","span",null,{"className":"token operator","children":"/"}],["$","span",null,{"className":"token number","children":"12"}],["$","span",null,{"className":"token operator","children":"/"}],["$","span",null,{"className":"token number","children":"2019"}]," ",["$","span",null,{"className":"token number","children":"4"}],["$","span",null,{"className":"token operator","children":":"}],["$","span",null,{"className":"token number","children":"16"}],["$","span",null,{"className":"token operator","children":":"}],["$","span",null,{"className":"token number","children":"56"}]," ",["$","span",null,{"className":"token constant","children":"PM"}],"\n"]}],["$","span",null,{"className":"code-line","children":["            ",["$","span",null,{"className":"token maybe-class-name","children":"Asset"}],"        ",["$","span",null,{"className":"token maybe-class-name","children":"Size"}],"  ",["$","span",null,{"className":"token maybe-class-name","children":"Chunks"}],"             ",["$","span",null,{"className":"token maybe-class-name","children":"Chunk"}]," ",["$","span",null,{"className":"token maybe-class-name","children":"Names"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    app",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access","children":"bundle"}],["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access","children":"js"}],"  ",["$","span",null,{"className":"token number","children":"1010"}]," bytes       ",["$","span",null,{"className":"token number","children":"0"}],"  ",["$","span",null,{"className":"token punctuation","children":"["}],"emitted",["$","span",null,{"className":"token punctuation","children":"]"}],"  app\n"]}],["$","span",null,{"className":"code-line","children":["app",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access","children":"bundle"}],["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access","children":"js"}],["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access","children":"map"}],"    ",["$","span",null,{"className":"token number","children":"3.04"}]," ",["$","span",null,{"className":"token maybe-class-name","children":"KiB"}],"       ",["$","span",null,{"className":"token number","children":"0"}],"  ",["$","span",null,{"className":"token punctuation","children":"["}],"emitted",["$","span",null,{"className":"token punctuation","children":"]"}],"  app\n"]}],["$","span",null,{"className":"code-line","children":["          app",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access","children":"css"}],"    ",["$","span",null,{"className":"token number","children":"66"}]," bytes       ",["$","span",null,{"className":"token number","children":"0"}],"  ",["$","span",null,{"className":"token punctuation","children":"["}],"emitted",["$","span",null,{"className":"token punctuation","children":"]"}],"  app\n"]}],["$","span",null,{"className":"code-line","children":["      app",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access","children":"css"}],["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access","children":"map"}],"   ",["$","span",null,{"className":"token number","children":"170"}]," bytes       ",["$","span",null,{"className":"token number","children":"0"}],"  ",["$","span",null,{"className":"token punctuation","children":"["}],"emitted",["$","span",null,{"className":"token punctuation","children":"]"}],"  app\n"]}],["$","span",null,{"className":"code-line","children":["       index",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access","children":"html"}],"   ",["$","span",null,{"className":"token number","children":"259"}]," bytes          ",["$","span",null,{"className":"token punctuation","children":"["}],"emitted",["$","span",null,{"className":"token punctuation","children":"]"}],"  \n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token maybe-class-name","children":"Entrypoint"}]," app ",["$","span",null,{"className":"token operator","children":"="}]," app",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access","children":"css"}]," app",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access","children":"bundle"}],["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access","children":"js"}]," app",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access","children":"css"}],["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access","children":"map"}]," app",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access","children":"bundle"}],["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access","children":"js"}],["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access","children":"map"}],"\n"]}]]}]}],["$","p",null,{"children":["打包输出了",["$","code",null,{"children":"css"}],"文件。"]}],["$","blockquote",null,{"children":["$","p",null,{"children":["如果没有打包输出",["$","code",null,{"children":"css"}],"文件。原因可能是",["$","code",null,{"children":"production"}],"自动开启",["$","code",null,{"children":"Tree Shaking"}],"，需要将",["$","code",null,{"children":"css"}],"文件标记为",["$","code",null,{"children":"side-effect-free"}],"(无副作用)。 ",["$","code",null,{"children":"\"sideEffects\""}],": ",["$","code",null,{"children":"[\"*.css\"]"}]]}]}],["$","ol",null,{"start":"6","children":["$","li",null,{"children":[["$","code",null,{"children":"css"}],"文件命名规则"]}]}],["$","$L16",null,{"className":"language-js","children":["$","code",null,{"className":"language-js code-highlight","children":[["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token property literal-property","children":"plugins"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token punctuation","children":"["}],"\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token keyword","children":"new"}]," ",["$","span",null,{"className":"token class-name","children":"MiniCssExtractPlugin"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["      ",["$","span",null,{"className":"token property literal-property","children":"filename"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token string","children":"\"[name].css\""}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["      ",["$","span",null,{"className":"token property literal-property","children":"chunkFilename"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token string","children":"\"[id].chunk.css\""}],"\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":")"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token punctuation","children":"]"}],"\n"]}]]}]}],["$","ol",null,{"start":"7","children":["$","li",null,{"children":[["$","code",null,{"children":"css"}],"文件压缩"]}]}],["$","p",null,{"children":["(1) 安装依赖 ",["$","code",null,{"children":"npm install --save-dev optimize-css-assets-webpack-plugin"}]," (2) 编辑配置文件 ",["$","code",null,{"children":"webpack.prod.config.js"}]]}],["$","$L16",null,{"className":"language-js","children":["$","code",null,{"className":"language-js code-highlight","children":[["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword","children":"var"}]," ",["$","span",null,{"className":"token maybe-class-name","children":"OptimizeCssAssetsPlugin"}]," ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token function","children":"require"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token string","children":"'optimize-css-assets-webpack-plugin'"}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":"\n"}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword","children":"const"}]," prodConfig ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token comment","children":"//..."}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token property literal-property","children":"optimization"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token property literal-property","children":"minimizer"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token punctuation","children":"["}],"\n"]}],["$","span",null,{"className":"code-line","children":["      ",["$","span",null,{"className":"token keyword","children":"new"}]," ",["$","span",null,{"className":"token class-name","children":"OptimizeCssAssetsPlugin"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token punctuation","children":"{"}],["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":")"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token punctuation","children":"]"}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token comment","children":"//..."}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}]]}]}],["$","p",null,{"children":"(3) 打包输出"}],["$","$L16",null,{"className":"language-js","children":["$","code",null,{"className":"language-js code-highlight","children":[["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token maybe-class-name","children":"Built"}]," at",["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token number","children":"04"}],["$","span",null,{"className":"token operator","children":"/"}],["$","span",null,{"className":"token number","children":"12"}],["$","span",null,{"className":"token operator","children":"/"}],["$","span",null,{"className":"token number","children":"2019"}]," ",["$","span",null,{"className":"token number","children":"4"}],["$","span",null,{"className":"token operator","children":":"}],["$","span",null,{"className":"token number","children":"50"}],["$","span",null,{"className":"token operator","children":":"}],["$","span",null,{"className":"token number","children":"40"}]," ",["$","span",null,{"className":"token constant","children":"PM"}],"\n"]}],["$","span",null,{"className":"code-line","children":["            ",["$","span",null,{"className":"token maybe-class-name","children":"Asset"}],"       ",["$","span",null,{"className":"token maybe-class-name","children":"Size"}],"  ",["$","span",null,{"className":"token maybe-class-name","children":"Chunks"}],"             ",["$","span",null,{"className":"token maybe-class-name","children":"Chunk"}]," ",["$","span",null,{"className":"token maybe-class-name","children":"Names"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    app",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access","children":"bundle"}],["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access","children":"js"}],"    ",["$","span",null,{"className":"token number","children":"4.1"}]," ",["$","span",null,{"className":"token maybe-class-name","children":"KiB"}],"       ",["$","span",null,{"className":"token number","children":"0"}],"  ",["$","span",null,{"className":"token punctuation","children":"["}],"emitted",["$","span",null,{"className":"token punctuation","children":"]"}],"  app\n"]}],["$","span",null,{"className":"code-line","children":["app",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access","children":"bundle"}],["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access","children":"js"}],["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access","children":"map"}],"   ",["$","span",null,{"className":"token number","children":"3.66"}]," ",["$","span",null,{"className":"token maybe-class-name","children":"KiB"}],"       ",["$","span",null,{"className":"token number","children":"0"}],"  ",["$","span",null,{"className":"token punctuation","children":"["}],"emitted",["$","span",null,{"className":"token punctuation","children":"]"}],"  app\n"]}],["$","span",null,{"className":"code-line","children":["          app",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access","children":"css"}],"   ",["$","span",null,{"className":"token number","children":"56"}]," bytes       ",["$","span",null,{"className":"token number","children":"0"}],"  ",["$","span",null,{"className":"token punctuation","children":"["}],"emitted",["$","span",null,{"className":"token punctuation","children":"]"}],"  app\n"]}],["$","span",null,{"className":"code-line","children":["       index",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access","children":"html"}],"  ",["$","span",null,{"className":"token number","children":"259"}]," bytes          ",["$","span",null,{"className":"token punctuation","children":"["}],"emitted",["$","span",null,{"className":"token punctuation","children":"]"}],"  \n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token maybe-class-name","children":"Entrypoint"}]," app ",["$","span",null,{"className":"token operator","children":"="}]," app",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access","children":"css"}]," app",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access","children":"bundle"}],["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access","children":"js"}]," app",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access","children":"bundle"}],["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access","children":"js"}],["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access","children":"map"}],"\n"]}]]}]}],["$","ol",null,{"start":"8","children":["$","li",null,{"children":["可通过",["$","code",null,{"children":"cacheGroups"}],"实现将所有",["$","code",null,{"children":"js"}],"文件中的",["$","code",null,{"children":"css"}],"打包到一个",["$","code",null,{"children":"css"}],"文件中(",["$","a",null,{"className":"break-words","target":"_blank","rel":"noopener noreferrer","href":"https://webpack.docschina.org/plugins/mini-css-extract-plugin/#extracting-all-css-in-a-single-file","children":"Extracting all CSS in a single file"}],")和将一个入口文件对应的所有",["$","code",null,{"children":"css"}],"打包到一个",["$","code",null,{"children":"css"}],"文件中(",["$","a",null,{"className":"break-words","target":"_blank","rel":"noopener noreferrer","href":"https://webpack.docschina.org/plugins/mini-css-extract-plugin/#extracting-css-based-on-entry","children":"Extracting CSS based on entry"}],")。"]}]}],["$","h1",null,{"className":"content-header","id":"5-打包分析bundle-analysis","children":[["$","a",null,{"className":"break-words","href":"#5-打包分析bundle-analysis","aria-hidden":"true","tabIndex":"-1","children":["$","span",null,{"className":"content-header-link","children":["$","svg",null,{"className":"h-5 linkicon w-5","fill":"currentColor","viewBox":"0 0 20 20","xmlns":"http://www.w3.org/2000/svg","children":[["$","path",null,{"d":"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z"}],["$","path",null,{"d":"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z"}]]}]}]}],"5. 打包分析(bundle analysis)"]}],["$","h2",null,{"className":"content-header","id":"51-打包分析工具介绍","children":[["$","a",null,{"className":"break-words","href":"#51-打包分析工具介绍","aria-hidden":"true","tabIndex":"-1","children":["$","span",null,{"className":"content-header-link","children":["$","svg",null,{"className":"h-5 linkicon w-5","fill":"currentColor","viewBox":"0 0 20 20","xmlns":"http://www.w3.org/2000/svg","children":[["$","path",null,{"d":"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z"}],["$","path",null,{"d":"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z"}]]}]}]}],"5.1 打包分析工具介绍"]}],["$","ol",null,{"children":[["$","li",null,{"children":"如果我们以分离代码作为开始，那么就应该以检查模块的输出结果作为结束，对其进行分析是很有用处的。"}],["$","li",null,{"children":[["$","a",null,{"className":"break-words","target":"_blank","rel":"noopener noreferrer","href":"https://github.com/webpack/analyse","children":"官方提供分析工具"}]," 是一个好的初始选择。下面是一些可选择的社区支持工具： (1) ",["$","a",null,{"className":"break-words","target":"_blank","rel":"noopener noreferrer","href":"https://alexkuz.github.io/webpack-chart/","children":"webpack-chart"}],"：",["$","code",null,{"children":"webpack stats"}]," 可交互饼图。 (2) ",["$","a",null,{"className":"break-words","target":"_blank","rel":"noopener noreferrer","href":"https://chrisbateman.github.io/webpack-visualizer/","children":"webpack-visualizer"}],"：可视化并分析你的",["$","code",null,{"children":"bundle"}],"，检查哪些模块占用空间，哪些可能是重复使用的。 (3) ",["$","a",null,{"className":"break-words","target":"_blank","rel":"noopener noreferrer","href":"https://github.com/webpack-contrib/webpack-bundle-analyzer","children":"webpack-bundle-analyzer"}],"：一个",["$","code",null,{"children":"plugin"}],"和",["$","code",null,{"children":"CLI"}],"工具，它将",["$","code",null,{"children":"bundle"}],"内容展示为便捷的、交互式、可缩放的树状图形式。 (4) ",["$","a",null,{"className":"break-words","target":"_blank","rel":"noopener noreferrer","href":"https://webpack.jakoblind.no/optimize","children":"webpack bundle optimize helper"}],"：此工具会分析你的",["$","code",null,{"children":"bundle"}],"，并为你提供可操作的改进措施建议，以减少",["$","code",null,{"children":"bundle"}],"体积大小。"]}]]}],["$","h2",null,{"className":"content-header","id":"52-官方分析工具","children":[["$","a",null,{"className":"break-words","href":"#52-官方分析工具","aria-hidden":"true","tabIndex":"-1","children":["$","span",null,{"className":"content-header-link","children":["$","svg",null,{"className":"h-5 linkicon w-5","fill":"currentColor","viewBox":"0 0 20 20","xmlns":"http://www.w3.org/2000/svg","children":[["$","path",null,{"d":"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z"}],["$","path",null,{"d":"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z"}]]}]}]}],"5.2 官方分析工具"]}],["$","ol",null,{"children":[["$","li",null,{"children":[["$","code",null,{"children":"analyse"}],["$","a",null,{"className":"break-words","target":"_blank","rel":"noopener noreferrer","href":"https://github.com/webpack/analyse","children":"文档"}]]}],["$","li",null,{"children":["编辑打包命令 ",["$","code",null,{"children":"package.json"}]]}]]}],["$","$L16",null,{"className":"language-js","children":["$","code",null,{"className":"language-js code-highlight","children":[["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token property string-property","children":"\"scripts\""}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token property string-property","children":"\"dev\""}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token string","children":"\"webpack  --profile --json > stats.json --config ./build/webpack.dev.config.js\""}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}]]}]}],["$","ol",null,{"start":"3","children":[["$","li",null,{"children":["打包输出 ",["$","code",null,{"children":"npm run dev"}]," 生成",["$","code",null,{"children":"stats.json"}],"文件，该文件中包含打包信息。"]}],["$","li",null,{"children":["使用",["$","code",null,{"children":"analyse"}],"分析打包结果 将",["$","code",null,{"children":"stats.json"}],"文件上传到",["$","code",null,{"children":"analyse"}],["$","a",null,{"className":"break-words","target":"_blank","rel":"noopener noreferrer","href":"http://webpack.github.io/analyse/","children":"分析地址"}],"，即可看到打包细节信息。"]}]]}],["$","h2",null,{"className":"content-header","id":"53-webpack-bundle-analyzer","children":[["$","a",null,{"className":"break-words","href":"#53-webpack-bundle-analyzer","aria-hidden":"true","tabIndex":"-1","children":["$","span",null,{"className":"content-header-link","children":["$","svg",null,{"className":"h-5 linkicon w-5","fill":"currentColor","viewBox":"0 0 20 20","xmlns":"http://www.w3.org/2000/svg","children":[["$","path",null,{"d":"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z"}],["$","path",null,{"d":"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z"}]]}]}]}],"5.3  webpack-bundle-analyzer"]}],["$","ol",null,{"children":[["$","li",null,{"children":["安装依赖 ",["$","code",null,{"children":"npm install --save-dev webpack-bundle-analyzer"}]]}],["$","li",null,{"children":["编辑打包配置文件 ",["$","code",null,{"children":"webpack.base.config.js"}]]}]]}],["$","$L16",null,{"className":"language-js","children":["$","code",null,{"className":"language-js code-highlight","children":[["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword","children":"const"}]," ",["$","span",null,{"className":"token maybe-class-name","children":"BundleAnalyzerPlugin"}]," ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token function","children":"require"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token string","children":"'webpack-bundle-analyzer'"}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access","children":["$","span",null,{"className":"token maybe-class-name","children":"BundleAnalyzerPlugin"}]}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":"\n"}],["$","span",null,{"className":"code-line","children":["module",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access","children":"exports"}]," ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token property literal-property","children":"plugins"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token punctuation","children":"["}],"\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token keyword","children":"new"}]," ",["$","span",null,{"className":"token class-name","children":"BundleAnalyzerPlugin"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token punctuation","children":")"}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token punctuation","children":"]"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}]]}]}],["$","ol",null,{"start":"3","children":["$","li",null,{"children":["打包结果分析 ",["$","img",null,{"alt":"image.png","src":"https://upload-images.jianshu.io/upload_images/4989175-91d60380a4eaebff.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240"}]," 如果打包生成的",["$","strong",null,{"children":"不同"}],["$","code",null,{"children":"Asset"}],"引入了",["$","strong",null,{"children":"相同"}],"的",["$","code",null,{"children":"js"}],"文件，则说明该",["$","code",null,{"children":"js"}],"文件被重复打包进两个不同的资源，需要修改配置将该",["$","code",null,{"children":"js"}],"文件进行分割。"]}]}],["$","h1",null,{"className":"content-header","id":"6-shimming","children":[["$","a",null,{"className":"break-words","href":"#6-shimming","aria-hidden":"true","tabIndex":"-1","children":["$","span",null,{"className":"content-header-link","children":["$","svg",null,{"className":"h-5 linkicon w-5","fill":"currentColor","viewBox":"0 0 20 20","xmlns":"http://www.w3.org/2000/svg","children":[["$","path",null,{"d":"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z"}],["$","path",null,{"d":"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z"}]]}]}]}],"6. Shimming"]}],["$","p",null,{"children":[["$","code",null,{"children":"shimming"}],["$","a",null,{"className":"break-words","target":"_blank","rel":"noopener noreferrer","href":"https://www.webpackjs.com/guides/shimming/","children":"文档"}]]}],["$","h2",null,{"className":"content-header","id":"61-shimming-全局变量","children":[["$","a",null,{"className":"break-words","href":"#61-shimming-全局变量","aria-hidden":"true","tabIndex":"-1","children":["$","span",null,{"className":"content-header-link","children":["$","svg",null,{"className":"h-5 linkicon w-5","fill":"currentColor","viewBox":"0 0 20 20","xmlns":"http://www.w3.org/2000/svg","children":[["$","path",null,{"d":"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z"}],["$","path",null,{"d":"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z"}]]}]}]}],"6.1 shimming 全局变量"]}],["$","ol",null,{"children":[["$","li",null,{"children":["一些第三方的库(",["$","code",null,{"children":"library"}],")可能会引用一些全局依赖（例如",["$","code",null,{"children":"jQuery"}]," 中的 ",["$","code",null,{"children":"$$"}],"）。这些“不符合规范的模块”就是 ",["$","code",null,{"children":"shimming"}]," 发挥作用的地方。"]}],["$","li",null,{"children":["安装",["$","code",null,{"children":"jquery"}]," ",["$","code",null,{"children":"npm i jquery lodash --save"}]]}],["$","li",null,{"children":["修改打包配置文件 ",["$","code",null,{"children":"webpack.base.config.js"}]]}]]}],["$","$L16",null,{"className":"language-js","children":["$","code",null,{"className":"language-js code-highlight","children":[["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token property literal-property","children":"plugins"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token punctuation","children":"["}],"\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token keyword","children":"new"}]," ",["$","span",null,{"className":"token class-name","children":["webpack",["$","span",null,{"className":"token punctuation","children":"."}],"ProvidePlugin"]}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["      ",["$","span",null,{"className":"token property literal-property","children":"$$"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token string","children":"'jquery'"}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["      ",["$","span",null,{"className":"token property literal-property","children":"join"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token punctuation","children":"["}],["$","span",null,{"className":"token string","children":"'lodash'"}],["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token string","children":"'join'"}],["$","span",null,{"className":"token punctuation","children":"]"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":")"}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token punctuation","children":"]"}],"\n"]}]]}]}],["$","blockquote",null,{"children":["$","p",null,{"children":["当有模块使用",["$","code",null,{"children":"$$"}],"时，会自动",["$","code",null,{"children":"import $ from 'jquery'"}]]}]}],["$","ol",null,{"start":"4","children":["$","li",null,{"children":["可直接使用",["$","code",null,{"children":"$$"}]," ",["$","code",null,{"children":"src/index.js"}]]}]}],["$","$L16",null,{"className":"language-js","children":["$","code",null,{"className":"language-js code-highlight","children":[["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword","children":"const"}]," dom ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token function","children":"$$"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token string","children":"'div'"}],["$","span",null,{"className":"token punctuation","children":")"}],"\n"]}],["$","span",null,{"className":"code-line","children":["dom",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access function method","children":"html"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token function","children":"join"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token punctuation","children":"["}],["$","span",null,{"className":"token string","children":"'hello'"}],["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token string","children":"'world'"}],["$","span",null,{"className":"token punctuation","children":"]"}],["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token string","children":"' '"}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":")"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token function","children":"$$"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token string","children":"'body'"}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access function method","children":"append"}],["$","span",null,{"className":"token punctuation","children":"("}],"dom",["$","span",null,{"className":"token punctuation","children":")"}],"\n"]}]]}]}],["$","blockquote",null,{"children":["$","p",null,{"children":[["$","code",null,{"children":"shimming"}],"和",["$","code",null,{"children":"alias"}],"对比：",["$","code",null,{"children":"alias"}],"的作用是创建 ",["$","code",null,{"children":"import"}]," 或 ",["$","code",null,{"children":"require"}]," 的别名，来确保模块引入变得更简单。",["$","code",null,{"children":"shimming"}],"的作用是解决一些第三方的库(",["$","code",null,{"children":"library"}],")可能会引用的一些全局依赖。即：",["$","code",null,{"children":"alias"}],"使模块引入更简单，不用写复杂路径；",["$","code",null,{"children":"shimming"}],"使模块不用引入，使用全局变量的方式。"]}]}],["$","h2",null,{"className":"content-header","id":"62-imports-loader","children":[["$","a",null,{"className":"break-words","href":"#62-imports-loader","aria-hidden":"true","tabIndex":"-1","children":["$","span",null,{"className":"content-header-link","children":["$","svg",null,{"className":"h-5 linkicon w-5","fill":"currentColor","viewBox":"0 0 20 20","xmlns":"http://www.w3.org/2000/svg","children":[["$","path",null,{"d":"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z"}],["$","path",null,{"d":"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z"}]]}]}]}],"6.2 imports-loader"]}],["$","ol",null,{"children":["$","li",null,{"children":["打印现在模块中",["$","code",null,{"children":"this"}],"指向 ",["$","code",null,{"children":"src/index.js"}]]}]}],["$","$L16",null,{"className":"language-js","children":["$","code",null,{"className":"language-js code-highlight","children":["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token class-name console","children":"console"}],["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access function method","children":"log"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token keyword","children":"this"}]," ",["$","span",null,{"className":"token operator","children":"==="}]," ",["$","span",null,{"className":"token dom variable","children":"window"}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}]," ",["$","span",null,{"className":"token comment","children":"//false"}],"\n"]}]}]}],["$","ol",null,{"start":"2","children":[["$","li",null,{"children":["安装依赖 ",["$","code",null,{"children":"npm i imports-loader -D"}]]}],["$","li",null,{"children":["编辑打包配置文件 ",["$","code",null,{"children":"webpack.base.config.js"}]]}]]}],["$","$L16",null,{"className":"language-js","children":["$","code",null,{"className":"language-js code-highlight","children":[["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token property literal-property","children":"module"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token property literal-property","children":"rules"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token punctuation","children":"["}],"\n"]}],["$","span",null,{"className":"code-line","children":["      ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["        ",["$","span",null,{"className":"token property literal-property","children":"test"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token regex","children":[["$","span",null,{"className":"token regex-delimiter","children":"/"}],["$","span",null,{"className":"token language-regex regex-source","children":[["$","span",null,{"className":"token escape special-escape","children":"\\."}],"js",["$","span",null,{"className":"token function anchor","children":"$$"}]]}],["$","span",null,{"className":"token regex-delimiter","children":"/"}]]}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["        ",["$","span",null,{"className":"token property literal-property","children":"exclude"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token regex","children":[["$","span",null,{"className":"token regex-delimiter","children":"/"}],["$","span",null,{"className":"token language-regex regex-source","children":"node_modules"}],["$","span",null,{"className":"token regex-delimiter","children":"/"}]]}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["        ",["$","span",null,{"className":"token property literal-property","children":"use"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token punctuation","children":"["}],"\n"]}],["$","span",null,{"className":"code-line","children":["          ",["$","span",null,{"className":"token punctuation","children":"{"}],["$","span",null,{"className":"token property literal-property","children":"loader"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token string","children":"\"babel-loader\""}],["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["          ",["$","span",null,{"className":"token punctuation","children":"{"}],["$","span",null,{"className":"token property literal-property","children":"loader"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token string","children":"\"imports-loader?this=>window\""}],["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}],["$","span",null,{"className":"code-line","children":["        ",["$","span",null,{"className":"token punctuation","children":"]"}],"\n"]}],["$","span",null,{"className":"code-line","children":["      ",["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token punctuation","children":"]"}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}]]}]}],["$","ol",null,{"start":"4","children":["$","li",null,{"children":["打印现在模块中",["$","code",null,{"children":"this"}],"指向 ",["$","code",null,{"children":"src/index.js"}]]}]}],["$","$L16",null,{"className":"language-js","children":["$","code",null,{"className":"language-js code-highlight","children":["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token class-name console","children":"console"}],["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access function method","children":"log"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token keyword","children":"this"}]," ",["$","span",null,{"className":"token operator","children":"==="}]," ",["$","span",null,{"className":"token dom variable","children":"window"}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}]," ",["$","span",null,{"className":"token comment","children":"//true"}],"\n"]}]}]}],["$","blockquote",null,{"children":["$","p",null,{"children":["项目中配置",["$","code",null,{"children":"imports-loader?this=>window"}],"可能导致打包错误，",["$","code",null,{"children":"'import' and 'export' may only appear at the top level (4:0)"}],"。"]}]}],["$","h1",null,{"className":"content-header","id":"7-环境变量","children":[["$","a",null,{"className":"break-words","href":"#7-环境变量","aria-hidden":"true","tabIndex":"-1","children":["$","span",null,{"className":"content-header-link","children":["$","svg",null,{"className":"h-5 linkicon w-5","fill":"currentColor","viewBox":"0 0 20 20","xmlns":"http://www.w3.org/2000/svg","children":[["$","path",null,{"d":"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z"}],["$","path",null,{"d":"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z"}]]}]}]}],"7. 环境变量"]}],["$","ol",null,{"children":["$","li",null,{"children":"修改打包配置文件"}]}],["$","p",null,{"children":["$","code",null,{"children":"webpack.dev.config.js"}]}],["$","$L16",null,{"className":"language-js","children":["$","code",null,{"className":"language-js code-highlight","children":[["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword","children":"const"}]," devConfig ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token comment","children":"//..."}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}],["$","span",null,{"className":"code-line","children":["module",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access","children":"exports"}]," ",["$","span",null,{"className":"token operator","children":"="}]," devConfig\n"]}]]}]}],["$","p",null,{"children":["$","code",null,{"children":"webpack.prod.config.js"}]}],["$","$L16",null,{"className":"language-js","children":["$","code",null,{"className":"language-js code-highlight","children":[["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword","children":"const"}]," prodConfig ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token comment","children":"//..."}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}],["$","span",null,{"className":"code-line","children":["module",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access","children":"exports"}]," ",["$","span",null,{"className":"token operator","children":"="}]," prodConfig\n"]}]]}]}],["$","p",null,{"children":["$","code",null,{"children":"webpack.base.config.js"}]}],["$","$L16",null,{"className":"language-js","children":["$","code",null,{"className":"language-js code-highlight","children":[["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword","children":"const"}]," merge ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token function","children":"require"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token string","children":"'webpack-merge'"}],["$","span",null,{"className":"token punctuation","children":")"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword","children":"const"}]," devConfig ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token function","children":"require"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token string","children":"'./webpack.dev.config'"}],["$","span",null,{"className":"token punctuation","children":")"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword","children":"const"}]," prodConfig ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token function","children":"require"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token string","children":"'./webpack.prod.config'"}],["$","span",null,{"className":"token punctuation","children":")"}],"\n"]}],["$","span",null,{"className":"code-line","children":"\n"}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword","children":"const"}]," baseConfig ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token comment","children":"//..."}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}],["$","span",null,{"className":"code-line","children":["module",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access function method function-variable method-variable","children":"exports"}]," ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token parameter","children":"env"}],["$","span",null,{"className":"token punctuation","children":")"}]," ",["$","span",null,{"className":"token operator arrow","children":"=>"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token keyword control-flow","children":"if"}],["$","span",null,{"className":"token punctuation","children":"("}],"env ",["$","span",null,{"className":"token operator","children":"&&"}]," env",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access","children":"production"}],["$","span",null,{"className":"token punctuation","children":")"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token keyword control-flow","children":"return"}]," ",["$","span",null,{"className":"token function","children":"merge"}],["$","span",null,{"className":"token punctuation","children":"("}],"baseConfig",["$","span",null,{"className":"token punctuation","children":","}]," prodConfig",["$","span",null,{"className":"token punctuation","children":")"}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token punctuation","children":"}"}]," ",["$","span",null,{"className":"token keyword control-flow","children":"else"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token keyword control-flow","children":"return"}]," ",["$","span",null,{"className":"token function","children":"merge"}],["$","span",null,{"className":"token punctuation","children":"("}],"baseConfig",["$","span",null,{"className":"token punctuation","children":","}]," devConfig",["$","span",null,{"className":"token punctuation","children":")"}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}]]}]}],["$","ol",null,{"start":"2","children":["$","li",null,{"children":["修改打包命令 ",["$","code",null,{"children":"package.json"}]]}]}],["$","$L16",null,{"className":"language-js","children":["$","code",null,{"className":"language-js code-highlight","children":[["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token property string-property","children":"\"scripts\""}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token property string-property","children":"\"build\""}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token string","children":"\"webpack --env.production --config ./build/webpack.base.config.js\""}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token property string-property","children":"\"dev\""}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token string","children":"\"webpack --config ./build/webpack.base.config.js\""}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token property string-property","children":"\"start\""}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token string","children":"\"webpack-dev-server --config ./build/webpack.base.config.js\""}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}]]}]}],["$","blockquote",null,{"children":["$","p",null,{"children":["这里的",["$","code",null,{"children":"--env.production"}],"与打包配置文件中的",["$","code",null,{"children":"env && env.production"}],"对应。 如果使用",["$","code",null,{"children":"--env.production=abc"}],"，则打包配置文件中需要使用",["$","code",null,{"children":"env && env.production==='abc'"}],"的写法。 如果使用",["$","code",null,{"children":"--env production"}],"，则打包配置文件中需要使用",["$","code",null,{"children":"env === 'production'"}],"的写法。"]}]}],["$","h1",null,{"className":"content-header","id":"8-typescript","children":[["$","a",null,{"className":"break-words","href":"#8-typescript","aria-hidden":"true","tabIndex":"-1","children":["$","span",null,{"className":"content-header-link","children":["$","svg",null,{"className":"h-5 linkicon w-5","fill":"currentColor","viewBox":"0 0 20 20","xmlns":"http://www.w3.org/2000/svg","children":[["$","path",null,{"d":"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z"}],["$","path",null,{"d":"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z"}]]}]}]}],"8. TypeScript"]}],["$","h2",null,{"className":"content-header","id":"81-引入typescript","children":[["$","a",null,{"className":"break-words","href":"#81-引入typescript","aria-hidden":"true","tabIndex":"-1","children":["$","span",null,{"className":"content-header-link","children":["$","svg",null,{"className":"h-5 linkicon w-5","fill":"currentColor","viewBox":"0 0 20 20","xmlns":"http://www.w3.org/2000/svg","children":[["$","path",null,{"d":"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z"}],["$","path",null,{"d":"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z"}]]}]}]}],"8.1 引入TypeScript"]}],["$","ol",null,{"children":[["$","li",null,{"children":["安装依赖 ",["$","code",null,{"children":"➜ webpack-operate npm i ts-loader typescript -D"}]]}],["$","li",null,{"children":["项目根目录创建",["$","code",null,{"children":"TypeScript"}],"配置文件 ",["$","code",null,{"children":"tsconfig.json"}]]}]]}],["$","$L16",null,{"className":"language-js","children":["$","code",null,{"className":"language-js code-highlight","children":[["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token property string-property","children":"\"compilerOptions\""}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token property string-property","children":"\"module\""}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token string","children":"\"commonjs\""}],["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token comment","children":"//模块引入机制"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token property string-property","children":"\"target\""}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token string","children":"\"es5\""}],["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token comment","children":"//转化为es5"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token property string-property","children":"\"sourceMap\""}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token boolean","children":"true"}],["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token comment","children":"//支持sourceMap"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token property string-property","children":"\"allowJs\""}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token boolean","children":"true"}]," ",["$","span",null,{"className":"token comment","children":"//支持js引入"}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token property string-property","children":"\"exclude\""}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token punctuation","children":"["}],"\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token string","children":"\"node_modules\""}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token punctuation","children":"]"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}]]}]}],["$","ol",null,{"start":"3","children":["$","li",null,{"children":["创建入口文件 ",["$","code",null,{"children":"src/index.ts"}]]}]}],["$","$L16",null,{"className":"language-js","children":["$","code",null,{"className":"language-js code-highlight","children":[["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword","children":"class"}]," ",["$","span",null,{"className":"token class-name","children":"Greeter"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token property literal-property","children":"greeting"}],["$","span",null,{"className":"token operator","children":":"}]," string",["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token function","children":"constructor"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token parameter","children":[["$","span",null,{"className":"token property literal-property","children":"message"}],["$","span",null,{"className":"token operator","children":":"}]," string"]}],["$","span",null,{"className":"token punctuation","children":")"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["        ",["$","span",null,{"className":"token keyword","children":"this"}],["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access","children":"greeting"}]," ",["$","span",null,{"className":"token operator","children":"="}]," message\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token function","children":"greet"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token punctuation","children":")"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["        ",["$","span",null,{"className":"token keyword control-flow","children":"return"}]," ",["$","span",null,{"className":"token string","children":"'Hello'"}]," ",["$","span",null,{"className":"token operator","children":"+"}]," ",["$","span",null,{"className":"token keyword","children":"this"}],["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access","children":"greeting"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}],["$","span",null,{"className":"code-line","children":"\n"}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword","children":"let"}]," greeter ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token keyword","children":"new"}]," ",["$","span",null,{"className":"token class-name","children":"Greeter"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token string","children":"'world'"}],["$","span",null,{"className":"token punctuation","children":")"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token function","children":"alert"}],["$","span",null,{"className":"token punctuation","children":"("}],"greeter",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access function method","children":"greet"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":")"}],"\n"]}]]}]}],["$","ol",null,{"start":"4","children":["$","li",null,{"children":["编辑打包配置文件 ",["$","code",null,{"children":"webpack.config.base.js"}]]}]}],["$","$L16",null,{"className":"language-js","children":["$","code",null,{"className":"language-js code-highlight","children":[["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token property literal-property","children":"entry"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token property literal-property","children":"app"}],["$","span",null,{"className":"token operator","children":":"}]," path",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access function method","children":"resolve"}],["$","span",null,{"className":"token punctuation","children":"("}],"__dirname",["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token string","children":"'../src/index.ts'"}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token comment","children":"//..."}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token property literal-property","children":"module"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token property literal-property","children":"rules"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token punctuation","children":"["}],"\n"]}],["$","span",null,{"className":"code-line","children":["      ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["        ",["$","span",null,{"className":"token property literal-property","children":"test"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token regex","children":[["$","span",null,{"className":"token regex-delimiter","children":"/"}],["$","span",null,{"className":"token language-regex regex-source","children":[["$","span",null,{"className":"token escape special-escape","children":"\\."}],"ts",["$","span",null,{"className":"token function anchor","children":"$$"}]]}],["$","span",null,{"className":"token regex-delimiter","children":"/"}]]}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["        ",["$","span",null,{"className":"token property literal-property","children":"exclude"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token regex","children":[["$","span",null,{"className":"token regex-delimiter","children":"/"}],["$","span",null,{"className":"token language-regex regex-source","children":"node_modules"}],["$","span",null,{"className":"token regex-delimiter","children":"/"}]]}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["        ",["$","span",null,{"className":"token property literal-property","children":"use"}],["$","span",null,{"className":"token operator","children":":"}],"  ",["$","span",null,{"className":"token string","children":"\"ts-loader\""}],"\n"]}],["$","span",null,{"className":"code-line","children":["      ",["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}],["$","span",null,{"className":"code-line","children":["     ",["$","span",null,{"className":"token punctuation","children":"]"}],"\n"]}],["$","span",null,{"className":"code-line","children":["     ",["$","span",null,{"className":"token comment","children":"//..."}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}]]}]}],["$","ol",null,{"start":"5","children":["$","li",null,{"children":["打包输出 ",["$","code",null,{"children":"npm run bundle"}]]}]}],["$","h2",null,{"className":"content-header","id":"82-对库代码进行编译检查","children":[["$","a",null,{"className":"break-words","href":"#82-对库代码进行编译检查","aria-hidden":"true","tabIndex":"-1","children":["$","span",null,{"className":"content-header-link","children":["$","svg",null,{"className":"h-5 linkicon w-5","fill":"currentColor","viewBox":"0 0 20 20","xmlns":"http://www.w3.org/2000/svg","children":[["$","path",null,{"d":"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z"}],["$","path",null,{"d":"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z"}]]}]}]}],"8.2 对库代码进行编译检查"]}],["$","ol",null,{"children":[["$","li",null,{"children":[["$","a",null,{"className":"break-words","target":"_blank","rel":"noopener noreferrer","href":"https://microsoft.github.io/TypeSearch/","children":"查询"}],["$","code",null,{"children":"TypeScript"}],"支持编译检查的库。"]}],["$","li",null,{"children":["对库代码进行编译检查——以",["$","code",null,{"children":"lodash"}],"为例"]}]]}],["$","p",null,{"children":["(1) 安装依赖 ",["$","code",null,{"children":"➜ webpack-operate npm i @types/lodash --save-dev"}]," (2) 修改",["$","code",null,{"children":"ts"}],"文件 ",["$","code",null,{"children":"src/index.ts"}]]}],["$","$L16",null,{"className":"language-js","children":["$","code",null,{"className":"language-js code-highlight","children":[["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword module","children":"import"}]," ",["$","span",null,{"className":"token imports","children":[["$","span",null,{"className":"token operator","children":"*"}]," ",["$","span",null,{"className":"token keyword module","children":"as"}]," _"]}]," ",["$","span",null,{"className":"token keyword module","children":"from"}]," ",["$","span",null,{"className":"token string","children":"'lodash'"}],"\n"]}],["$","span",null,{"className":"code-line","children":"\n"}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword","children":"class"}]," ",["$","span",null,{"className":"token class-name","children":"Greeter"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token property literal-property","children":"greeting"}],["$","span",null,{"className":"token operator","children":":"}]," string",["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token function","children":"constructor"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token parameter","children":[["$","span",null,{"className":"token property literal-property","children":"message"}],["$","span",null,{"className":"token operator","children":":"}]," string"]}],["$","span",null,{"className":"token punctuation","children":")"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["        ",["$","span",null,{"className":"token keyword","children":"this"}],["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access","children":"greeting"}]," ",["$","span",null,{"className":"token operator","children":"="}]," message\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token function","children":"greet"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token punctuation","children":")"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["        ",["$","span",null,{"className":"token comment","children":"//return _.join(123) //传参不是数组，标红报错"}],"\n"]}],["$","span",null,{"className":"code-line","children":["        ",["$","span",null,{"className":"token keyword control-flow","children":"return"}]," _",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access function method","children":"join"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token punctuation","children":"["}]," ",["$","span",null,{"className":"token string","children":"'Hello'"}],["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token keyword","children":"this"}],["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access","children":"greeting"}],["$","span",null,{"className":"token punctuation","children":"]"}],["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token string","children":"' '"}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}],["$","span",null,{"className":"code-line","children":"\n"}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword","children":"let"}]," greeter ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token keyword","children":"new"}]," ",["$","span",null,{"className":"token class-name","children":"Greeter"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token string","children":"'world'"}],["$","span",null,{"className":"token punctuation","children":")"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token function","children":"alert"}],["$","span",null,{"className":"token punctuation","children":"("}],"greeter",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access function method","children":"greet"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":")"}],"\n"]}]]}]}],["$","h1",null,{"className":"content-header","id":"9-eslint","children":[["$","a",null,{"className":"break-words","href":"#9-eslint","aria-hidden":"true","tabIndex":"-1","children":["$","span",null,{"className":"content-header-link","children":["$","svg",null,{"className":"h-5 linkicon w-5","fill":"currentColor","viewBox":"0 0 20 20","xmlns":"http://www.w3.org/2000/svg","children":[["$","path",null,{"d":"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z"}],["$","path",null,{"d":"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z"}]]}]}]}],"9. Eslint"]}],["$","h2",null,{"className":"content-header","id":"91-使用eslint","children":[["$","a",null,{"className":"break-words","href":"#91-使用eslint","aria-hidden":"true","tabIndex":"-1","children":["$","span",null,{"className":"content-header-link","children":["$","svg",null,{"className":"h-5 linkicon w-5","fill":"currentColor","viewBox":"0 0 20 20","xmlns":"http://www.w3.org/2000/svg","children":[["$","path",null,{"d":"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z"}],["$","path",null,{"d":"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z"}]]}]}]}],"9.1 使用eslint"]}],["$","ol",null,{"children":[["$","li",null,{"children":["安装依赖 ",["$","code",null,{"children":"➜ webpack-operate npm i eslint -D"}]]}],["$","li",null,{"children":["初始化",["$","code",null,{"children":"eslint"}],"配置文件 ",["$","code",null,{"children":"npx eslint --init"}]," 自动生成",["$","code",null,{"children":".eslintrc.js"}],"文件。"]}]]}],["$","$L16",null,{"className":"language-js","children":["$","code",null,{"className":"language-js code-highlight","children":[["$","span",null,{"className":"code-line","children":["➜  webpack",["$","span",null,{"className":"token operator","children":"-"}],"operate npx eslint ",["$","span",null,{"className":"token operator","children":"--"}],"init\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token operator","children":"?"}]," ",["$","span",null,{"className":"token maybe-class-name","children":"How"}]," would you like to use ",["$","span",null,{"className":"token maybe-class-name","children":"ESLint"}],["$","span",null,{"className":"token operator","children":"?"}]," ",["$","span",null,{"className":"token maybe-class-name","children":"To"}]," check syntax and find problems\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token operator","children":"?"}]," ",["$","span",null,{"className":"token maybe-class-name","children":"What"}]," type ",["$","span",null,{"className":"token keyword","children":"of"}]," modules does your project use",["$","span",null,{"className":"token operator","children":"?"}]," ",["$","span",null,{"className":"token maybe-class-name","children":"JavaScript"}]," ",["$","span",null,{"className":"token function","children":"modules"}]," ",["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token keyword module","children":"import"}],["$","span",null,{"className":"token operator","children":"/"}],["$","span",null,{"className":"token keyword module","children":"export"}],["$","span",null,{"className":"token punctuation","children":")"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token operator","children":"?"}]," ",["$","span",null,{"className":"token maybe-class-name","children":"Which"}]," framework does your project use",["$","span",null,{"className":"token operator","children":"?"}]," ",["$","span",null,{"className":"token maybe-class-name","children":"React"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token operator","children":"?"}]," ",["$","span",null,{"className":"token maybe-class-name","children":"Where"}]," does your code run",["$","span",null,{"className":"token operator","children":"?"}]," ",["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token maybe-class-name","children":"Press"}]," ",["$","span",null,{"className":"token operator","children":"<"}],"space",["$","span",null,{"className":"token operator","children":">"}]," to select",["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token operator","children":"<"}],"a",["$","span",null,{"className":"token operator","children":">"}]," to toggle all",["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token operator","children":"<"}],"i",["$","span",null,{"className":"token operator","children":">"}]," to invert selection",["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token maybe-class-name","children":"Browser"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token operator","children":"?"}]," ",["$","span",null,{"className":"token maybe-class-name","children":"What"}]," format ",["$","span",null,{"className":"token keyword control-flow","children":"do"}]," you want your config file to be ",["$","span",null,{"className":"token keyword","children":"in"}],["$","span",null,{"className":"token operator","children":"?"}]," ",["$","span",null,{"className":"token maybe-class-name","children":"JavaScript"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token maybe-class-name","children":"The"}]," config that you've selected requires the following dependencies",["$","span",null,{"className":"token operator","children":":"}],"\n"]}],["$","span",null,{"className":"code-line","children":"\n"}],["$","span",null,{"className":"code-line","children":["eslint",["$","span",null,{"className":"token operator","children":"-"}],"plugin",["$","span",null,{"className":"token operator","children":"-"}],"react@latest\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token operator","children":"?"}]," ",["$","span",null,{"className":"token maybe-class-name","children":"Would"}]," you like to install them now ",["$","span",null,{"className":"token keyword","children":"with"}]," npm",["$","span",null,{"className":"token operator","children":"?"}]," ",["$","span",null,{"className":"token maybe-class-name","children":"Yes"}],"\n"]}]]}]}],["$","ol",null,{"start":"3","children":["$","li",null,{"children":["使用",["$","code",null,{"children":"airbnb"}],"规则 (1) 安装依赖 ",["$","code",null,{"children":"➜ webpack-operate npm install eslint-config-airbnb eslint-plugin-import eslint-plugin-react eslint-plugin-jsx-a11y babel-eslint -D"}]," (2) 修改",["$","code",null,{"children":".eslintrc.js"}],"配置文件"]}]}],["$","$L16",null,{"className":"language-js","children":["$","code",null,{"className":"language-js code-highlight","children":[["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token property string-property","children":"\"extends\""}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token string","children":"\"airbnb\""}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token property string-property","children":"\"parser\""}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token string","children":"\"babel-eslint\""}],"\n"]}]]}]}],["$","ol",null,{"start":"3","children":[["$","li",null,{"children":["检查代码 (1) 命令行检查方式 ",["$","code",null,{"children":"npx eslint XXX(文件夹名字)"}]," (2) 编辑器检查方式 ",["$","img",null,{"alt":"image.png","src":"https://upload-images.jianshu.io/upload_images/4989175-702f65bca5101303.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240"}]]}],["$","li",null,{"children":["使某些规则失效 编辑",["$","code",null,{"children":".eslintrc.js"}],"规则文件"]}]]}],["$","$L16",null,{"className":"language-js","children":["$","code",null,{"className":"language-js code-highlight","children":[["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token property string-property","children":"\"rules\""}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token property string-property","children":"\"no-unused-vars\""}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token number","children":"0"}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}]]}]}],["$","blockquote",null,{"children":["$","p",null,{"children":["以上是在项目中使用",["$","code",null,{"children":"eslint"}],"，与",["$","code",null,{"children":"Webpack"}],"无关。"]}]}],["$","h2",null,{"className":"content-header","id":"92-webpack中配置eslint","children":[["$","a",null,{"className":"break-words","href":"#92-webpack中配置eslint","aria-hidden":"true","tabIndex":"-1","children":["$","span",null,{"className":"content-header-link","children":["$","svg",null,{"className":"h-5 linkicon w-5","fill":"currentColor","viewBox":"0 0 20 20","xmlns":"http://www.w3.org/2000/svg","children":[["$","path",null,{"d":"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z"}],["$","path",null,{"d":"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z"}]]}]}]}],"9.2 Webpack中配置eslint"]}],["$","ol",null,{"children":[["$","li",null,{"children":[["$","code",null,{"children":"eslint-loader"}]," ",["$","a",null,{"className":"break-words","target":"_blank","rel":"noopener noreferrer","href":"https://webpack.js.org/loaders/eslint-loader","children":"文档"}]]}],["$","li",null,{"children":["安装依赖 ",["$","code",null,{"children":"➜ webpack-operate npm i eslint-loader -D"}]]}],["$","li",null,{"children":"编辑打包配置文件"}]]}],["$","p",null,{"children":["$","code",null,{"children":"webpack.base.config.js"}]}],["$","$L16",null,{"className":"language-js","children":["$","code",null,{"className":"language-js code-highlight","children":[["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token property literal-property","children":"module"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token property literal-property","children":"rules"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token punctuation","children":"["}],"\n"]}],["$","span",null,{"className":"code-line","children":["      ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["        ",["$","span",null,{"className":"token property literal-property","children":"test"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token regex","children":[["$","span",null,{"className":"token regex-delimiter","children":"/"}],["$","span",null,{"className":"token language-regex regex-source","children":[["$","span",null,{"className":"token escape special-escape","children":"\\."}],"js",["$","span",null,{"className":"token function anchor","children":"$$"}]]}],["$","span",null,{"className":"token regex-delimiter","children":"/"}]]}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["        ",["$","span",null,{"className":"token property literal-property","children":"exclude"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token regex","children":[["$","span",null,{"className":"token regex-delimiter","children":"/"}],["$","span",null,{"className":"token language-regex regex-source","children":"node_modules"}],["$","span",null,{"className":"token regex-delimiter","children":"/"}]]}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["        ",["$","span",null,{"className":"token property literal-property","children":"use"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token punctuation","children":"["}],"\n"]}],["$","span",null,{"className":"code-line","children":["          ",["$","span",null,{"className":"token punctuation","children":"{"}],["$","span",null,{"className":"token property literal-property","children":"loader"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token string","children":"\"babel-loader\""}],["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["          ",["$","span",null,{"className":"token punctuation","children":"{"}],["$","span",null,{"className":"token property literal-property","children":"loader"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token string","children":"\"eslint-loader\""}],["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}],["$","span",null,{"className":"code-line","children":["        ",["$","span",null,{"className":"token punctuation","children":"]"}],"\n"]}],["$","span",null,{"className":"code-line","children":["      ",["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token punctuation","children":"]"}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}]]}]}],["$","p",null,{"children":["$","code",null,{"children":"webpack.dev.config.js"}]}],["$","$L16",null,{"className":"language-js","children":["$","code",null,{"className":"language-js code-highlight","children":[["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token property literal-property","children":"devServer"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token property literal-property","children":"overlay"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token boolean","children":"true"}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}]]}]}],["$","blockquote",null,{"children":["$","p",null,{"children":[["$","code",null,{"children":"eslint-loader"}],"的作用是打包时先使用",["$","code",null,{"children":"eslint"}],"检查规则，应该放在",["$","code",null,{"children":"babel-loader"}],"之后。",["$","code",null,{"children":"overlay"}],"的作用是使用",["$","code",null,{"children":"webpack-dev-server"}],"打包时，将报错信息显示在页面上。"]}]}],["$","ol",null,{"start":"4","children":["$","li",null,{"children":"对不符合规范的代码进行简单修复"}]}],["$","$L16",null,{"className":"language-js","children":["$","code",null,{"className":"language-js code-highlight","children":[["$","span",null,{"className":"code-line","children":["   ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["     ",["$","span",null,{"className":"token property literal-property","children":"loader"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token string","children":"\"eslint-loader\""}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["     ",["$","span",null,{"className":"token property literal-property","children":"options"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["       ",["$","span",null,{"className":"token property literal-property","children":"fix"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token boolean","children":"true"}],"\n"]}],["$","span",null,{"className":"code-line","children":["     ",["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}],["$","span",null,{"className":"code-line","children":["   ",["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}]]}]}],["$","blockquote",null,{"children":["$","p",null,{"children":["使用",["$","code",null,{"children":"eslint-loader"}],"会在打包前对代码进行检查，降低打包效率。在实际项目开发中，一般使用",["$","code",null,{"children":"eslint"}],"与",["$","code",null,{"children":"git"}],"结合，在代码提交到",["$","code",null,{"children":"git"}],"仓库时对代码进行检查。"]}]}],["$","h1",null,{"className":"content-header","id":"10-pwa","children":[["$","a",null,{"className":"break-words","href":"#10-pwa","aria-hidden":"true","tabIndex":"-1","children":["$","span",null,{"className":"content-header-link","children":["$","svg",null,{"className":"h-5 linkicon w-5","fill":"currentColor","viewBox":"0 0 20 20","xmlns":"http://www.w3.org/2000/svg","children":[["$","path",null,{"d":"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z"}],["$","path",null,{"d":"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z"}]]}]}]}],"10. PWA"]}],["$","ol",null,{"children":[["$","li",null,{"children":["安装依赖 ",["$","code",null,{"children":"➜ webpack-operate npm i workbox-webpack-plugin -D"}]]}],["$","li",null,{"children":["编辑生产环境打包配置文件 ",["$","code",null,{"children":"webpack.prod.config.js"}]]}]]}],["$","$L16",null,{"className":"language-js","children":["$","code",null,{"className":"language-js code-highlight","children":[["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword","children":"const"}]," ",["$","span",null,{"className":"token maybe-class-name","children":"WorkBoxPlugin"}]," ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token function","children":"require"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token string","children":"'workbox-webpack-plugin'"}],["$","span",null,{"className":"token punctuation","children":")"}],"\n"]}],["$","span",null,{"className":"code-line","children":"\n"}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword","children":"var"}]," prodConfig ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token comment","children":"//..."}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token property literal-property","children":"plugins"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token punctuation","children":"["}],"\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token keyword","children":"new"}]," ",["$","span",null,{"className":"token class-name","children":["WorkBoxPlugin",["$","span",null,{"className":"token punctuation","children":"."}],"GenerateSW"]}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["      ",["$","span",null,{"className":"token property literal-property","children":"clientsClaim"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token boolean","children":"true"}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["      ",["$","span",null,{"className":"token property literal-property","children":"skipWaiting"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token boolean","children":"true"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":")"}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token punctuation","children":"]"}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token comment","children":"//..."}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}]]}]}],["$","blockquote",null,{"children":["$","p",null,{"children":["生产环境才需要使用",["$","code",null,{"children":"PWA"}],"。"]}]}],["$","ol",null,{"start":"3","children":["$","li",null,{"children":["编辑入口文件 ",["$","code",null,{"children":"src/index.js"}]]}]}],["$","$L16",null,{"className":"language-js","children":["$","code",null,{"className":"language-js code-highlight","children":[["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token comment","children":"//业务代码"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword module","children":"import"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token string","children":"'lodash'"}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access function method","children":"then"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token parameter","children":[["$","span",null,{"className":"token punctuation","children":"{"}],["$","span",null,{"className":"token keyword module","children":"default"}]," ",["$","span",null,{"className":"token operator","children":":"}]," _",["$","span",null,{"className":"token punctuation","children":"}"}]]}],["$","span",null,{"className":"token punctuation","children":")"}]," ",["$","span",null,{"className":"token operator arrow","children":"=>"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token class-name console","children":"console"}],["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access function method","children":"log"}],["$","span",null,{"className":"token punctuation","children":"("}],"_",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access function method","children":"join"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token punctuation","children":"["}],["$","span",null,{"className":"token string","children":"'1'"}],["$","span",null,{"className":"token punctuation","children":","}],["$","span",null,{"className":"token string","children":"'2'"}],["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token string","children":"'3'"}],["$","span",null,{"className":"token punctuation","children":"]"}],["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token string","children":"'-'"}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":")"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":")"}],"\n"]}],["$","span",null,{"className":"code-line","children":"\n"}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token comment","children":"//使用serviceWorker"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword control-flow","children":"if"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token string","children":"'serviceWorker'"}]," ",["$","span",null,{"className":"token keyword","children":"in"}]," ",["$","span",null,{"className":"token dom variable","children":"navigator"}],["$","span",null,{"className":"token punctuation","children":")"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}]," ",["$","span",null,{"className":"token comment","children":"//如果浏览器支持serviceWorker"}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token dom variable","children":"window"}],["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access function method","children":"addEventListener"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token string","children":"'load'"}],["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token punctuation","children":")"}]," ",["$","span",null,{"className":"token operator arrow","children":"=>"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token dom variable","children":"navigator"}],["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access","children":"serviceWorker"}],["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access function method","children":"register"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token string","children":"'/service-worker.js'"}],["$","span",null,{"className":"token punctuation","children":")"}],"\n"]}],["$","span",null,{"className":"code-line","children":["      ",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access function method","children":"then"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token parameter","children":"res"}]," ",["$","span",null,{"className":"token operator arrow","children":"=>"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["        ",["$","span",null,{"className":"token class-name console","children":"console"}],["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access function method","children":"log"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token string","children":"'serviceWorker registed'"}],["$","span",null,{"className":"token punctuation","children":")"}],"\n"]}],["$","span",null,{"className":"code-line","children":["      ",["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":")"}],"\n"]}],["$","span",null,{"className":"code-line","children":["      ",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token keyword control-flow","children":"catch"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token parameter","children":"err"}]," ",["$","span",null,{"className":"token operator arrow","children":"=>"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["        ",["$","span",null,{"className":"token class-name console","children":"console"}],["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access function method","children":"log"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token string","children":"'serviceWorker registe err'"}],["$","span",null,{"className":"token punctuation","children":")"}],"\n"]}],["$","span",null,{"className":"code-line","children":["      ",["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":")"}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":")"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}]]}]}],["$","blockquote",null,{"children":["$","p",null,{"children":[["$","code",null,{"children":"service-worker.js"}],"文件在打包时生成。"]}]}],["$","ol",null,{"start":"4","children":["$","li",null,{"children":["打包输出 ",["$","code",null,{"children":"npm run build"}]]}]}],["$","$L16",null,{"className":"language-js","children":["$","code",null,{"className":"language-js code-highlight","children":[["$","span",null,{"className":"code-line","children":["                                                ",["$","span",null,{"className":"token maybe-class-name","children":"Asset"}],"       ",["$","span",null,{"className":"token maybe-class-name","children":"Size"}],"  ",["$","span",null,{"className":"token maybe-class-name","children":"Chunks"}],"             ",["$","span",null,{"className":"token maybe-class-name","children":"Chunk"}]," ",["$","span",null,{"className":"token maybe-class-name","children":"Names"}],"\n"]}],["$","span",null,{"className":"code-line","children":["                      ",["$","span",null,{"className":"token number","children":"2"}],["$","span",null,{"className":"token punctuation","children":"."}],"6c02624b28028221db11",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access","children":"chunk"}],["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access","children":"js"}],"    ",["$","span",null,{"className":"token number","children":"529"}]," ",["$","span",null,{"className":"token maybe-class-name","children":"KiB"}],"       ",["$","span",null,{"className":"token number","children":"2"}],"  ",["$","span",null,{"className":"token punctuation","children":"["}],"emitted",["$","span",null,{"className":"token punctuation","children":"]"}],"  \n"]}],["$","span",null,{"className":"code-line","children":["                  ",["$","span",null,{"className":"token number","children":"2"}],["$","span",null,{"className":"token punctuation","children":"."}],"6c02624b28028221db11",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access","children":"chunk"}],["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access","children":"js"}],["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access","children":"map"}],"    ",["$","span",null,{"className":"token number","children":"630"}]," ",["$","span",null,{"className":"token maybe-class-name","children":"KiB"}],"       ",["$","span",null,{"className":"token number","children":"2"}],"  ",["$","span",null,{"className":"token punctuation","children":"["}],"emitted",["$","span",null,{"className":"token punctuation","children":"]"}],"  \n"]}],["$","span",null,{"className":"code-line","children":["                    app",["$","span",null,{"className":"token punctuation","children":"."}],"051fb24e16eb3c7493d6",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access","children":"chunk"}],["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access","children":"js"}],"  ",["$","span",null,{"className":"token number","children":"812"}]," bytes       ",["$","span",null,{"className":"token number","children":"0"}],"  ",["$","span",null,{"className":"token punctuation","children":"["}],"emitted",["$","span",null,{"className":"token punctuation","children":"]"}],"  app\n"]}],["$","span",null,{"className":"code-line","children":["                app",["$","span",null,{"className":"token punctuation","children":"."}],"051fb24e16eb3c7493d6",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access","children":"chunk"}],["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access","children":"js"}],["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access","children":"map"}],"  ",["$","span",null,{"className":"token number","children":"783"}]," bytes       ",["$","span",null,{"className":"token number","children":"0"}],"  ",["$","span",null,{"className":"token punctuation","children":"["}],"emitted",["$","span",null,{"className":"token punctuation","children":"]"}],"  app\n"]}],["$","span",null,{"className":"code-line","children":["                                           index",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access","children":"html"}],"  ",["$","span",null,{"className":"token number","children":"326"}]," bytes          ",["$","span",null,{"className":"token punctuation","children":"["}],"emitted",["$","span",null,{"className":"token punctuation","children":"]"}],"  \n"]}],["$","span",null,{"className":"code-line","children":["precache",["$","span",null,{"className":"token operator","children":"-"}],"manifest",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access","children":"a8a4feb9efc884fe5d31eed9b7b76ac0"}],["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access","children":"js"}],"  ",["$","span",null,{"className":"token number","children":"445"}]," bytes          ",["$","span",null,{"className":"token punctuation","children":"["}],"emitted",["$","span",null,{"className":"token punctuation","children":"]"}],"  \n"]}],["$","span",null,{"className":"code-line","children":["               runtime",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access","children":"a366ecc84e6df04acf79"}],["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access","children":"bundle"}],["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access","children":"js"}],"   ",["$","span",null,{"className":"token number","children":"8.81"}]," ",["$","span",null,{"className":"token maybe-class-name","children":"KiB"}],"       ",["$","span",null,{"className":"token number","children":"1"}],"  ",["$","span",null,{"className":"token punctuation","children":"["}],"emitted",["$","span",null,{"className":"token punctuation","children":"]"}],"  runtime\n"]}],["$","span",null,{"className":"code-line","children":["           runtime",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access","children":"a366ecc84e6df04acf79"}],["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access","children":"bundle"}],["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access","children":"js"}],["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access","children":"map"}],"    ",["$","span",null,{"className":"token number","children":"8.8"}]," ",["$","span",null,{"className":"token maybe-class-name","children":"KiB"}],"       ",["$","span",null,{"className":"token number","children":"1"}],"  ",["$","span",null,{"className":"token punctuation","children":"["}],"emitted",["$","span",null,{"className":"token punctuation","children":"]"}],"  runtime\n"]}],["$","span",null,{"className":"code-line","children":["                                    service",["$","span",null,{"className":"token operator","children":"-"}],"worker",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access","children":"js"}],"  ",["$","span",null,{"className":"token number","children":"927"}]," bytes          ",["$","span",null,{"className":"token punctuation","children":"["}],"emitted",["$","span",null,{"className":"token punctuation","children":"]"}],"  \n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token maybe-class-name","children":"Entrypoint"}]," app ",["$","span",null,{"className":"token operator","children":"="}]," runtime",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access","children":"a366ecc84e6df04acf79"}],["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access","children":"bundle"}],["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access","children":"js"}]," runtime",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access","children":"a366ecc84e6df04acf79"}],["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access","children":"bundle"}],["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access","children":"js"}],["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access","children":"map"}]," app",["$","span",null,{"className":"token punctuation","children":"."}],"051fb24e16eb3c7493d6",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access","children":"chunk"}],["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access","children":"js"}]," app",["$","span",null,{"className":"token punctuation","children":"."}],"051fb24e16eb3c7493d6",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access","children":"chunk"}],["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access","children":"js"}],["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access","children":"map"}],"\n"]}]]}]}],["$","ol",null,{"start":"5","children":["$","li",null,{"children":"本地开启一个服务"}]}],["$","$L16",null,{"className":"language-js","children":["$","code",null,{"className":"language-js code-highlight","children":[["$","span",null,{"className":"code-line","children":["➜  webpack",["$","span",null,{"className":"token operator","children":"-"}],"operate cd dist\n"]}],["$","span",null,{"className":"code-line","children":["➜  dist http",["$","span",null,{"className":"token operator","children":"-"}],"server\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token maybe-class-name","children":"Starting"}]," up http",["$","span",null,{"className":"token operator","children":"-"}],"server",["$","span",null,{"className":"token punctuation","children":","}]," serving ",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token operator","children":"/"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token maybe-class-name","children":"Available"}]," on",["$","span",null,{"className":"token operator","children":":"}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token property literal-property","children":"http"}],["$","span",null,{"className":"token operator","children":":"}],["$","span",null,{"className":"token operator","children":"/"}],["$","span",null,{"className":"token operator","children":"/"}],["$","span",null,{"className":"token number","children":"127.0"}],["$","span",null,{"className":"token number","children":".0"}],["$","span",null,{"className":"token number","children":".1"}],["$","span",null,{"className":"token operator","children":":"}],["$","span",null,{"className":"token number","children":"8080"}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token property literal-property","children":"http"}],["$","span",null,{"className":"token operator","children":":"}],["$","span",null,{"className":"token operator","children":"/"}],["$","span",null,{"className":"token operator","children":"/"}],["$","span",null,{"className":"token number","children":"192.168"}],["$","span",null,{"className":"token number","children":".1"}],["$","span",null,{"className":"token number","children":".3"}],["$","span",null,{"className":"token operator","children":":"}],["$","span",null,{"className":"token number","children":"8080"}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token property literal-property","children":"http"}],["$","span",null,{"className":"token operator","children":":"}],["$","span",null,{"className":"token operator","children":"/"}],["$","span",null,{"className":"token operator","children":"/"}],["$","span",null,{"className":"token number","children":"192.168"}],["$","span",null,{"className":"token number","children":".57"}],["$","span",null,{"className":"token number","children":".1"}],["$","span",null,{"className":"token operator","children":":"}],["$","span",null,{"className":"token number","children":"8080"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token maybe-class-name","children":"Hit"}]," ",["$","span",null,{"className":"token constant","children":"CTRL"}],["$","span",null,{"className":"token operator","children":"-"}],["$","span",null,{"className":"token constant","children":"C"}]," to stop the server\n"]}]]}]}],["$","ol",null,{"start":"6","children":["$","li",null,{"children":["测试",["$","code",null,{"children":"PWA"}]," 打开",["$","code",null,{"children":"http://127.0.0.1:8080"}],"，可以看到",["$","code",null,{"children":"html"}],"页面。 关闭服务，刷新浏览器，仍然可以正常访问页面。"]}]}],["$","h1",null,{"className":"content-header","id":"11-编写并发布一个npm包","children":[["$","a",null,{"className":"break-words","href":"#11-编写并发布一个npm包","aria-hidden":"true","tabIndex":"-1","children":["$","span",null,{"className":"content-header-link","children":["$","svg",null,{"className":"h-5 linkicon w-5","fill":"currentColor","viewBox":"0 0 20 20","xmlns":"http://www.w3.org/2000/svg","children":[["$","path",null,{"d":"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z"}],["$","path",null,{"d":"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z"}]]}]}]}],"11. 编写并发布一个npm包"]}],["$","ol",null,{"children":[["$","li",null,{"children":["创建文件夹",["$","code",null,{"children":"nmw-lodash"}]]}],["$","li",null,{"children":["将项目初始化为一个",["$","code",null,{"children":"npm"}],"包 ",["$","code",null,{"children":"➜ nmw-lodash npm init -y"}]]}],["$","li",null,{"children":["安装依赖 ",["$","code",null,{"children":"➜ nmw-lodash npm i webpack webpack-cli --save"}]," ",["$","code",null,{"children":"➜ nmw-lodash npm i lodash --save"}]]}],["$","li",null,{"children":"编写代码"}]]}],["$","p",null,{"children":["$","code",null,{"children":"src/index.js"}]}],["$","$L16",null,{"className":"language-js","children":["$","code",null,{"className":"language-js code-highlight","children":[["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword module","children":"import"}]," ",["$","span",null,{"className":"token imports","children":[["$","span",null,{"className":"token operator","children":"*"}]," ",["$","span",null,{"className":"token keyword module","children":"as"}]," math"]}]," ",["$","span",null,{"className":"token keyword module","children":"from"}]," ",["$","span",null,{"className":"token string","children":"'./math'"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword module","children":"import"}]," ",["$","span",null,{"className":"token imports","children":[["$","span",null,{"className":"token operator","children":"*"}]," ",["$","span",null,{"className":"token keyword module","children":"as"}]," string"]}]," ",["$","span",null,{"className":"token keyword module","children":"from"}]," ",["$","span",null,{"className":"token string","children":"'./string'"}],"\n"]}],["$","span",null,{"className":"code-line","children":"\n"}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword module","children":"export"}]," ",["$","span",null,{"className":"token keyword module","children":"default"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["  math",["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":"  string\n"}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}]]}]}],["$","p",null,{"children":["$","code",null,{"children":"src/math.js"}]}],["$","$L16",null,{"className":"language-js","children":["$","code",null,{"className":"language-js code-highlight","children":[["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword module","children":"export"}]," ",["$","span",null,{"className":"token keyword","children":"function"}]," ",["$","span",null,{"className":"token function","children":"add"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token parameter","children":["a",["$","span",null,{"className":"token punctuation","children":","}]," b"]}],["$","span",null,{"className":"token punctuation","children":")"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token keyword control-flow","children":"return"}]," a ",["$","span",null,{"className":"token operator","children":"+"}]," b",["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}]]}]}],["$","p",null,{"children":["$","code",null,{"children":"src/string.js"}]}],["$","$L16",null,{"className":"language-js","children":["$","code",null,{"className":"language-js code-highlight","children":[["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword module","children":"import"}]," ",["$","span",null,{"className":"token imports","children":"_"}]," ",["$","span",null,{"className":"token keyword module","children":"from"}]," ",["$","span",null,{"className":"token string","children":"'lodash'"}],"\n"]}],["$","span",null,{"className":"code-line","children":"\n"}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword module","children":"export"}]," ",["$","span",null,{"className":"token keyword","children":"function"}]," ",["$","span",null,{"className":"token function","children":"join"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token parameter","children":["a",["$","span",null,{"className":"token punctuation","children":","}]," b"]}],["$","span",null,{"className":"token punctuation","children":")"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token keyword control-flow","children":"return"}]," _",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access function method","children":"join"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token punctuation","children":"["}],"a",["$","span",null,{"className":"token punctuation","children":","}]," b",["$","span",null,{"className":"token punctuation","children":"]"}],["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token string","children":"' '"}],["$","span",null,{"className":"token punctuation","children":")"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}]]}]}],["$","ol",null,{"start":"5","children":["$","li",null,{"children":["创建并编辑打包配置文件 ",["$","code",null,{"children":"webpack.config.js"}]]}]}],["$","$L16",null,{"className":"language-js","children":["$","code",null,{"className":"language-js code-highlight","children":[["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword","children":"const"}]," path ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token function","children":"require"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token string","children":"'path'"}],["$","span",null,{"className":"token punctuation","children":")"}],"\n"]}],["$","span",null,{"className":"code-line","children":"\n"}],["$","span",null,{"className":"code-line","children":["module",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access","children":"exports"}]," ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token property literal-property","children":"mode"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token string","children":"'production'"}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token property literal-property","children":"entry"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token string","children":"'./src/index.js'"}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token property literal-property","children":"output"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token property literal-property","children":"path"}],["$","span",null,{"className":"token operator","children":":"}]," path",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access function method","children":"resolve"}],["$","span",null,{"className":"token punctuation","children":"("}],"__dirname",["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token string","children":"'dist'"}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token property literal-property","children":"filename"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token string","children":"'nmw-lodash.js'"}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token property literal-property","children":"library"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token string","children":"\"nmwLodash\""}],["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token comment","children":"//以script标签引入时，支持nmwLodash全局变量"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token property literal-property","children":"libraryTarget"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token string","children":"\"umd\""}]," ",["$","span",null,{"className":"token comment","children":"//支持umd规范引入"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token comment","children":"//libraryTarget: \"global\" nmwLodash挂载在global上。"}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token property literal-property","children":"externals"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token punctuation","children":"["}],"\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token string","children":"\"lodash\""}]," ",["$","span",null,{"className":"token comment","children":"//不打包lodash"}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token punctuation","children":"]"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}]]}]}],["$","blockquote",null,{"children":["$","p",null,{"children":["文档：",["$","a",null,{"className":"break-words","target":"_blank","rel":"noopener noreferrer","href":"https://www.webpackjs.com/configuration/output/#output-librarytarget","children":["$","code",null,{"children":"output.libraryExport"}]}],"; ",["$","a",null,{"className":"break-words","target":"_blank","rel":"noopener noreferrer","href":"https://www.webpackjs.com/configuration/output/#output-library","children":["$","code",null,{"children":"output.library"}]}],"; ",["$","a",null,{"className":"break-words","target":"_blank","rel":"noopener noreferrer","href":"https://www.webpackjs.com/configuration/externals/","children":["$","code",null,{"children":"externals"}]}]]}]}],["$","ol",null,{"start":"6","children":["$","li",null,{"children":["创建打包命令 ",["$","code",null,{"children":"package.json"}]]}]}],["$","$L16",null,{"className":"language-js","children":["$","code",null,{"className":"language-js code-highlight","children":[["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token property string-property","children":"\"scripts\""}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token property string-property","children":"\"build\""}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token string","children":"\"webpack\""}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}]]}]}],["$","ol",null,{"start":"7","children":["$","li",null,{"children":["修改",["$","code",null,{"children":"npm"}],"包入口文件 ",["$","code",null,{"children":"package.json"}]]}]}],["$","$L16",null,{"className":"language-js","children":["$","code",null,{"className":"language-js code-highlight","children":["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token property string-property","children":"\"main\""}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token string","children":"\"./dist/nmw-lodash.js\""}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}]}]}],["$","ol",null,{"start":"8","children":[["$","li",null,{"children":["打包输出 ",["$","code",null,{"children":"npm run build"}]]}],["$","li",null,{"children":["在",["$","code",null,{"children":"npm"}],"官网注册账号"]}],["$","li",null,{"children":["添加账号密码 ",["$","code",null,{"children":"➜ nmw-lodash npm adduser"}]]}],["$","li",null,{"children":["发布项目 ",["$","code",null,{"children":"npm publish"}]]}]]}],["$","h1",null,{"className":"content-header","id":"12-打包性能优化","children":[["$","a",null,{"className":"break-words","href":"#12-打包性能优化","aria-hidden":"true","tabIndex":"-1","children":["$","span",null,{"className":"content-header-link","children":["$","svg",null,{"className":"h-5 linkicon w-5","fill":"currentColor","viewBox":"0 0 20 20","xmlns":"http://www.w3.org/2000/svg","children":[["$","path",null,{"d":"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z"}],["$","path",null,{"d":"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z"}]]}]}]}],"12. 打包性能优化"]}],["$","h2",null,{"className":"content-header","id":"121-优化配置","children":[["$","a",null,{"className":"break-words","href":"#121-优化配置","aria-hidden":"true","tabIndex":"-1","children":["$","span",null,{"className":"content-header-link","children":["$","svg",null,{"className":"h-5 linkicon w-5","fill":"currentColor","viewBox":"0 0 20 20","xmlns":"http://www.w3.org/2000/svg","children":[["$","path",null,{"d":"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z"}],["$","path",null,{"d":"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z"}]]}]}]}],"12.1 优化配置"]}],["$","ol",null,{"children":[["$","li",null,{"children":["跟上技术的迭代 ",["$","code",null,{"children":"Node"}],"、",["$","code",null,{"children":"Npm"}],"、",["$","code",null,{"children":"Yarn"}]]}],["$","li",null,{"children":["在尽可能少的模块上应用",["$","code",null,{"children":"Loader"}]," 例如：使用",["$","code",null,{"children":"exclude"}],"和",["$","code",null,{"children":"include"}],"。"]}]]}],["$","$L16",null,{"className":"language-js","children":["$","code",null,{"className":"language-js code-highlight","children":[["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token property literal-property","children":"test"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token regex","children":[["$","span",null,{"className":"token regex-delimiter","children":"/"}],["$","span",null,{"className":"token language-regex regex-source","children":[["$","span",null,{"className":"token escape special-escape","children":"\\."}],"js",["$","span",null,{"className":"token function anchor","children":"$$"}]]}],["$","span",null,{"className":"token regex-delimiter","children":"/"}]]}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token property literal-property","children":"exclude"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token regex","children":[["$","span",null,{"className":"token regex-delimiter","children":"/"}],["$","span",null,{"className":"token language-regex regex-source","children":"node_modules"}],["$","span",null,{"className":"token regex-delimiter","children":"/"}]]}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token property literal-property","children":"use"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token punctuation","children":"["}],["$","span",null,{"className":"token punctuation","children":"{"}],["$","span",null,{"className":"token property literal-property","children":"loader"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token string","children":"\"babel-loader\""}],["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":"]"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}]]}]}],["$","blockquote",null,{"children":["$","p",null,{"children":[["$","code",null,{"children":"exclude"}],"表示",["$","strong",null,{"children":"不"}],"进行",["$","code",null,{"children":"loader"}],"编译的路径。 ",["$","code",null,{"children":"include"}],"表示",["$","strong",null,{"children":"只"}],"进行",["$","code",null,{"children":"loader"}],"编译的路径。"]}]}],["$","ol",null,{"start":"3","children":["$","li",null,{"children":[["$","code",null,{"children":"Plugin"}],"尽可能精简并确保可靠 例如：只在生产环境使用",["$","code",null,{"children":"MiniCssExtractPlugin"}],"对",["$","code",null,{"children":"CSS"}],"进行分割。"]}]}],["$","$L16",null,{"className":"language-js","children":["$","code",null,{"className":"language-js code-highlight","children":[["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword","children":"var"}]," ",["$","span",null,{"className":"token maybe-class-name","children":"MiniCssExtractPlugin"}]," ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token function","children":"require"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token string","children":"\"mini-css-extract-plugin\""}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token comment","children":"//..."}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token property literal-property","children":"plugins"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token punctuation","children":"["}],"\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token keyword","children":"new"}]," ",["$","span",null,{"className":"token class-name","children":"MiniCssExtractPlugin"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["      ",["$","span",null,{"className":"token property literal-property","children":"filename"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token string","children":"\"[name].css\""}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["      ",["$","span",null,{"className":"token property literal-property","children":"chunkFilename"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token string","children":"\"[id].chunk.css\""}],"\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":")"}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token punctuation","children":"]"}],"\n"]}]]}]}],["$","ol",null,{"start":"4","children":["$","li",null,{"children":[["$","code",null,{"children":"resolve"}],"参数合理配置 (",["$","a",null,{"className":"break-words","target":"_blank","rel":"noopener noreferrer","href":"https://webpack.docschina.org/configuration/resolve/","children":"文档"}],") (1) ",["$","code",null,{"children":"resolve.alias"}],"：创建 ",["$","code",null,{"children":"import"}]," 或 ",["$","code",null,{"children":"require"}]," 的别名，来确保模块引入变得更简单。 例如：",["$","code",null,{"children":"import Utility from 'Utilities';"}]," (2) ",["$","code",null,{"children":"resolve.extensions"}],"：自动解析确定的扩展。能够使用户在引入模块时不带扩展。 例如：",["$","code",null,{"children":"import File from '../path/to/file';"}]," (3) ",["$","code",null,{"children":"resolve.mainFiles"}]," 解析目录时要使用的文件名。 例如：",["$","code",null,{"children":"resolve"}],"配置如下"]}]}],["$","$L16",null,{"className":"language-js","children":["$","code",null,{"className":"language-js code-highlight","children":[["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token property literal-property","children":"resolve"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token property literal-property","children":"extensions"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token punctuation","children":"["}],["$","span",null,{"className":"token string","children":"'.js'"}],["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token string","children":"'.jsx'"}],["$","span",null,{"className":"token punctuation","children":"]"}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token property literal-property","children":"mainFiles"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token punctuation","children":"["}],["$","span",null,{"className":"token string","children":"'index'"}],["$","span",null,{"className":"token punctuation","children":"]"}],["$","span",null,{"className":"token punctuation","children":","}],"  ",["$","span",null,{"className":"token comment","children":"//默认配置"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token property literal-property","children":"alias"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["      ",["$","span",null,{"className":"token property literal-property","children":"child"}],["$","span",null,{"className":"token operator","children":":"}]," path",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access function method","children":"resolve"}],["$","span",null,{"className":"token punctuation","children":"("}],"__dirname",["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token string","children":"'../src/components/child'"}],["$","span",null,{"className":"token punctuation","children":")"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}]]}]}],["$","p",null,{"children":"模块引入方式如下："}],["$","$L16",null,{"className":"language-js","children":["$","code",null,{"className":"language-js code-highlight","children":["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword module","children":"import"}]," ",["$","span",null,{"className":"token imports","children":["$","span",null,{"className":"token maybe-class-name","children":"Child"}]}]," ",["$","span",null,{"className":"token keyword module","children":"from"}]," ",["$","span",null,{"className":"token string","children":"'child'"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}]}]}],["$","p",null,{"children":[["$","code",null,{"children":"resolve"}],"配置不宜过于复杂，否则会使模块查找时间增加，降低",["$","code",null,{"children":"webpack"}],"打包速度。 5. 控制包文件大小 (1) 使用",["$","code",null,{"children":"Tree Shaking"}]," (2) ",["$","code",null,{"children":"Code Splitting"}],"代码分割 6. ",["$","code",null,{"children":"thread-loader"}],"、",["$","code",null,{"children":"parallel-webpack"}],"、",["$","code",null,{"children":"happypack"}],"多进程打包 7. 合理使用",["$","code",null,{"children":"SourceMap"}]," 8. 结合",["$","code",null,{"children":"state"}],"分析打包结果(",["$","code",null,{"children":"bundle analysis"}],") 9. 开发环境内存编译(",["$","code",null,{"children":"webpack-dev-server"}],") 10. 开发环境无用插件剔除"]}],["$","h2",null,{"className":"content-header","id":"122-diiplugin","children":[["$","a",null,{"className":"break-words","href":"#122-diiplugin","aria-hidden":"true","tabIndex":"-1","children":["$","span",null,{"className":"content-header-link","children":["$","svg",null,{"className":"h-5 linkicon w-5","fill":"currentColor","viewBox":"0 0 20 20","xmlns":"http://www.w3.org/2000/svg","children":[["$","path",null,{"d":"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z"}],["$","path",null,{"d":"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z"}]]}]}]}],"12.2 DIIPlugin"]}],["$","h3",null,{"className":"content-header","id":"1221-使用diiplugin","children":[["$","a",null,{"className":"break-words","href":"#1221-使用diiplugin","aria-hidden":"true","tabIndex":"-1","children":["$","span",null,{"className":"content-header-link","children":["$","svg",null,{"className":"h-5 linkicon w-5","fill":"currentColor","viewBox":"0 0 20 20","xmlns":"http://www.w3.org/2000/svg","children":[["$","path",null,{"d":"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z"}],["$","path",null,{"d":"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z"}]]}]}]}],"12.2.1 使用DIIPlugin"]}],["$","ol",null,{"children":[["$","li",null,{"children":["测试打包速度 ",["$","code",null,{"children":"npm run build"}]," 打包耗时约",["$","code",null,{"children":"950ms"}]]}],["$","li",null,{"children":["第三方模块没有必要频繁重新打包。可以将第三方模块打包输出，",["$","code",null,{"children":"webpack"}],"进行项目打包时，直接使用已经被打包的第三方模块，不再重新打包。"]}],["$","li",null,{"children":["创建并编辑打包配置文件 ",["$","code",null,{"children":"webpack.dll.config.js"}]]}]]}],["$","$L16",null,{"className":"language-js","children":["$","code",null,{"className":"language-js code-highlight","children":[["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword","children":"const"}]," path ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token function","children":"require"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token string","children":"'path'"}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword","children":"const"}]," webpack ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token function","children":"require"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token string","children":"'webpack'"}],["$","span",null,{"className":"token punctuation","children":")"}],"\n"]}],["$","span",null,{"className":"code-line","children":"\n"}],["$","span",null,{"className":"code-line","children":["module",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access","children":"exports"}]," ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token property literal-property","children":"mode"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token string","children":"'production'"}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token property literal-property","children":"entry"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token property literal-property","children":"vendors"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token punctuation","children":"["}],["$","span",null,{"className":"token string","children":"'react'"}],["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token string","children":"'react-dom'"}],["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token string","children":"'lodash'"}],["$","span",null,{"className":"token punctuation","children":"]"}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token property literal-property","children":"output"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token property literal-property","children":"filename"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token string","children":"\"[name].dll.js\""}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token property literal-property","children":"path"}],["$","span",null,{"className":"token operator","children":":"}]," path",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access function method","children":"resolve"}],["$","span",null,{"className":"token punctuation","children":"("}],"__dirname",["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token string","children":"'../dll'"}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token property literal-property","children":"library"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token string","children":"\"[name]\""}]," ",["$","span",null,{"className":"token comment","children":"//以vendors全局变量的方式暴露"}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token property literal-property","children":"plugins"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token punctuation","children":"["}],"\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token keyword","children":"new"}]," ",["$","span",null,{"className":"token class-name","children":["webpack",["$","span",null,{"className":"token punctuation","children":"."}],"DllPlugin"]}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token punctuation","children":"{"}]," ",["$","span",null,{"className":"token comment","children":"//生成vendors.manifest.json映射文件"}],"\n"]}],["$","span",null,{"className":"code-line","children":["      ",["$","span",null,{"className":"token property literal-property","children":"name"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token string","children":"'[name]'"}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["      ",["$","span",null,{"className":"token property literal-property","children":"path"}],["$","span",null,{"className":"token operator","children":":"}]," path",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access function method","children":"resolve"}],["$","span",null,{"className":"token punctuation","children":"("}],"__dirname",["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token string","children":"'../dll/[name].manifest.json'"}],["$","span",null,{"className":"token punctuation","children":")"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":")"}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token punctuation","children":"]"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}]]}]}],["$","ol",null,{"start":"4","children":["$","li",null,{"children":["创建打包命令 ",["$","code",null,{"children":"package.json"}]]}]}],["$","$L16",null,{"className":"language-js","children":["$","code",null,{"className":"language-js code-highlight","children":[["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token property string-property","children":"\"scripts\""}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token comment","children":"//..."}],"\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token property string-property","children":"\"build:dll\""}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token string","children":"\"webpack --config ./build/webpack.dll.config.js\""}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token comment","children":"//..."}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}]]}]}],["$","ol",null,{"start":"5","children":[["$","li",null,{"children":["打包生成",["$","code",null,{"children":"vendors"}],"包 ",["$","code",null,{"children":"npm run build:dll"}]," 生成",["$","code",null,{"children":"vendors.dll.js"}],"以及",["$","code",null,{"children":"vendors.manifest.json"}],"映射文件。"]}],["$","li",null,{"children":["安装依赖 ",["$","code",null,{"children":"npm i add-asset-html-webpack-plugin -D"}]]}],["$","li",null,{"children":["编辑打包配置文件 ",["$","code",null,{"children":"webpack.base.config.js"}]]}]]}],["$","$L16",null,{"className":"language-js","children":["$","code",null,{"className":"language-js code-highlight","children":[["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword","children":"const"}]," ",["$","span",null,{"className":"token maybe-class-name","children":"AddAssetHtmlPlugin"}]," ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token function","children":"require"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token string","children":"'add-asset-html-webpack-plugin'"}],["$","span",null,{"className":"token punctuation","children":")"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token comment","children":"//..."}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token property literal-property","children":"plugins"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token punctuation","children":"["}],"\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token comment","children":"//..."}],"\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token keyword","children":"new"}]," ",["$","span",null,{"className":"token class-name","children":"AddAssetHtmlPlugin"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["      ",["$","span",null,{"className":"token comment","children":"//将vendors.dll.js插入html模板中"}],"\n"]}],["$","span",null,{"className":"code-line","children":["      ",["$","span",null,{"className":"token property literal-property","children":"filepath"}],["$","span",null,{"className":"token operator","children":":"}]," path",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access function method","children":"resolve"}],["$","span",null,{"className":"token punctuation","children":"("}],"__dirname",["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token string","children":"'../dll/vendors.dll.js'"}],["$","span",null,{"className":"token punctuation","children":")"}]," \n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["      ",["$","span",null,{"className":"token comment","children":"//打包代码时，第三方模块如果在vendors.manifest.json有映射，则直接在vendors全局变量中取。"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token keyword","children":"new"}]," ",["$","span",null,{"className":"token class-name","children":["webpack",["$","span",null,{"className":"token punctuation","children":"."}],"DllReferencePlugin"]}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token punctuation","children":"{"}]," \n"]}],["$","span",null,{"className":"code-line","children":["      ",["$","span",null,{"className":"token property literal-property","children":"manifest"}],["$","span",null,{"className":"token operator","children":":"}]," path",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access function method","children":"resolve"}],["$","span",null,{"className":"token punctuation","children":"("}],"__dirname",["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token string","children":"'../dll/vendors.manifest.json'"}],["$","span",null,{"className":"token punctuation","children":")"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":")"}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token punctuation","children":"]"}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}]]}]}],["$","blockquote",null,{"children":["$","p",null,{"children":[["$","code",null,{"children":"AddAssetHtmlPlugin"}],"插件必须放在",["$","code",null,{"children":"HtmlWebpackPlugin"}],"后面。"]}]}],["$","ol",null,{"start":"8","children":[["$","li",null,{"children":["测试打包速度 ",["$","code",null,{"children":"npm run build"}]," 打包耗时约",["$","code",null,{"children":"670ms"}]]}],["$","li",null,{"children":["总结 生成",["$","code",null,{"children":"vendors"}],"包及映射 - 将",["$","code",null,{"children":"vendors"}],"包插入",["$","code",null,{"children":"html"}],"模板 - 以",["$","code",null,{"children":"vendors"}],"全局变量暴露 - 使用",["$","code",null,{"children":"vendors"}],"包"]}]]}],["$","h3",null,{"className":"content-header","id":"1222-多个diiplugin","children":[["$","a",null,{"className":"break-words","href":"#1222-多个diiplugin","aria-hidden":"true","tabIndex":"-1","children":["$","span",null,{"className":"content-header-link","children":["$","svg",null,{"className":"h-5 linkicon w-5","fill":"currentColor","viewBox":"0 0 20 20","xmlns":"http://www.w3.org/2000/svg","children":[["$","path",null,{"d":"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z"}],["$","path",null,{"d":"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z"}]]}]}]}],"12.2.2 多个DIIPlugin"]}],["$","ol",null,{"children":["$","li",null,{"children":["编辑",["$","code",null,{"children":"dll"}],"包打包配置文件 ",["$","code",null,{"children":"webpack.dll.config.js"}]]}]}],["$","$L16",null,{"className":"language-js","children":["$","code",null,{"className":"language-js code-highlight","children":[["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token comment","children":"//..."}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token property literal-property","children":"entry"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token property literal-property","children":"vendors"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token punctuation","children":"["}],["$","span",null,{"className":"token string","children":"'lodash'"}],["$","span",null,{"className":"token punctuation","children":"]"}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token property literal-property","children":"react"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token punctuation","children":"["}],["$","span",null,{"className":"token string","children":"'react'"}],["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token string","children":"'react-dom'"}],["$","span",null,{"className":"token punctuation","children":"]"}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token comment","children":"//..."}],"\n"]}]]}]}],["$","ol",null,{"start":"2","children":["$","li",null,{"children":["编辑打包配置文件 ",["$","code",null,{"children":"webpack.base.config.js"}]," 动态生成",["$","code",null,{"children":"plugins"}],"数组。"]}]}],["$","$L16",null,{"className":"language-js","children":["$","code",null,{"className":"language-js code-highlight","children":[["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword","children":"const"}]," fs ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token function","children":"require"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token string","children":"'fs'"}],["$","span",null,{"className":"token punctuation","children":")"}],"\n"]}],["$","span",null,{"className":"code-line","children":"\n"}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword","children":"const"}]," plugins ",["$","span",null,{"className":"token operator","children":"="}],["$","span",null,{"className":"token punctuation","children":"["}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token keyword","children":"new"}]," ",["$","span",null,{"className":"token class-name","children":"HtmlWebpackPlugin"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token property literal-property","children":"template"}],["$","span",null,{"className":"token operator","children":":"}]," path",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access function method","children":"resolve"}],["$","span",null,{"className":"token punctuation","children":"("}],"__dirname",["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token string","children":"'../src/index.html'"}],["$","span",null,{"className":"token punctuation","children":")"}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token keyword","children":"new"}]," ",["$","span",null,{"className":"token class-name","children":"CleanWebpackPlugin"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token punctuation","children":")"}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token comment","children":"//..."}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token punctuation","children":"]"}],"\n"]}],["$","span",null,{"className":"code-line","children":"\n"}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword","children":"const"}]," files ",["$","span",null,{"className":"token operator","children":"="}]," fs",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access function method","children":"readdirSync"}],["$","span",null,{"className":"token punctuation","children":"("}],"path",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access function method","children":"resolve"}],["$","span",null,{"className":"token punctuation","children":"("}],"__dirname",["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token string","children":"'../dll'"}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token comment","children":"//根据 dll 目录中生成的文件，添加对应插件。"}],"\n"]}],["$","span",null,{"className":"code-line","children":["files",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access function method","children":"forEach"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token parameter","children":"file"}]," ",["$","span",null,{"className":"token operator arrow","children":"=>"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token keyword control-flow","children":"if"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token regex","children":[["$","span",null,{"className":"token regex-delimiter","children":"/"}],["$","span",null,{"className":"token language-regex regex-source","children":[["$","span",null,{"className":"token class-name char-set","children":"."}],["$","span",null,{"className":"token number quantifier","children":"*"}],["$","span",null,{"className":"token escape special-escape","children":"\\."}],"dll",["$","span",null,{"className":"token escape special-escape","children":"\\."}],"js"]}],["$","span",null,{"className":"token regex-delimiter","children":"/"}]]}],["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access function method","children":"test"}],["$","span",null,{"className":"token punctuation","children":"("}],"file",["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":")"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["      ",["$","span",null,{"className":"token comment","children":"//XXX.dll.js插入html模板中"}],"\n"]}],["$","span",null,{"className":"code-line","children":["      plugins",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access function method","children":"push"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token keyword","children":"new"}]," ",["$","span",null,{"className":"token class-name","children":"AddAssetHtmlPlugin"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token punctuation","children":"{"}]," \n"]}],["$","span",null,{"className":"code-line","children":["        ",["$","span",null,{"className":"token property literal-property","children":"filepath"}],["$","span",null,{"className":"token operator","children":":"}]," path",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access function method","children":"resolve"}],["$","span",null,{"className":"token punctuation","children":"("}],"__dirname",["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token string","children":"'../dll'"}],["$","span",null,{"className":"token punctuation","children":","}]," file",["$","span",null,{"className":"token punctuation","children":")"}],"\n"]}],["$","span",null,{"className":"code-line","children":["      ",["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":")"}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token keyword control-flow","children":"if"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token regex","children":[["$","span",null,{"className":"token regex-delimiter","children":"/"}],["$","span",null,{"className":"token language-regex regex-source","children":[["$","span",null,{"className":"token class-name char-set","children":"."}],["$","span",null,{"className":"token number quantifier","children":"*"}],["$","span",null,{"className":"token escape special-escape","children":"\\."}],"manifest",["$","span",null,{"className":"token escape special-escape","children":"\\."}],"json"]}],["$","span",null,{"className":"token regex-delimiter","children":"/"}]]}],["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access function method","children":"test"}],["$","span",null,{"className":"token punctuation","children":"("}],"file",["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":")"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}]," \n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token comment","children":"//根据XXX.manifest.json映射，直接在XXX全局变量中获取第三方模块。"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    plugins",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access function method","children":"push"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token keyword","children":"new"}]," ",["$","span",null,{"className":"token class-name","children":["webpack",["$","span",null,{"className":"token punctuation","children":"."}],"DllReferencePlugin"]}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["      ",["$","span",null,{"className":"token property literal-property","children":"manifest"}],["$","span",null,{"className":"token operator","children":":"}]," path",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access function method","children":"resolve"}],["$","span",null,{"className":"token punctuation","children":"("}],"__dirname",["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token string","children":"'../dll'"}],["$","span",null,{"className":"token punctuation","children":","}]," file",["$","span",null,{"className":"token punctuation","children":")"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":")"}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":")"}],"\n"]}]]}]}],["$","h1",null,{"className":"content-header","id":"13-多页面打包配置","children":[["$","a",null,{"className":"break-words","href":"#13-多页面打包配置","aria-hidden":"true","tabIndex":"-1","children":["$","span",null,{"className":"content-header-link","children":["$","svg",null,{"className":"h-5 linkicon w-5","fill":"currentColor","viewBox":"0 0 20 20","xmlns":"http://www.w3.org/2000/svg","children":[["$","path",null,{"d":"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z"}],["$","path",null,{"d":"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z"}]]}]}]}],"13. 多页面打包配置"]}],["$","h2",null,{"className":"content-header","id":"131-介绍","children":[["$","a",null,{"className":"break-words","href":"#131-介绍","aria-hidden":"true","tabIndex":"-1","children":["$","span",null,{"className":"content-header-link","children":["$","svg",null,{"className":"h-5 linkicon w-5","fill":"currentColor","viewBox":"0 0 20 20","xmlns":"http://www.w3.org/2000/svg","children":[["$","path",null,{"d":"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z"}],["$","path",null,{"d":"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z"}]]}]}]}],"13.1 介绍"]}],["$","ol",null,{"children":[["$","li",null,{"children":["多页面应用 ① 生成多个",["$","code",null,{"children":"html"}],"文件。 ② 各个",["$","code",null,{"children":"html"}],"文件引入对应的",["$","code",null,{"children":"jsbundle"}],"。"]}],["$","li",null,{"children":["多页面应用的实现方式 (1) 多配置 对多个",["$","code",null,{"children":"webpack"}],"配置分别打包，生成多个",["$","code",null,{"children":"html"}],"页面。 (2) 单配置 对一个",["$","code",null,{"children":"webpack"}],"配置进行打包，生成多个",["$","code",null,{"children":"html"}],"页面。"]}]]}],["$","blockquote",null,{"children":["$","p",null,{"children":[["$","code",null,{"children":"html-webpack-plugin"}],["$","a",null,{"className":"break-words","target":"_blank","rel":"noopener noreferrer","href":"https://github.com/jantimon/html-webpack-plugin","children":"文档"}]]}]}],["$","h2",null,{"className":"content-header","id":"132-多配置","children":[["$","a",null,{"className":"break-words","href":"#132-多配置","aria-hidden":"true","tabIndex":"-1","children":["$","span",null,{"className":"content-header-link","children":["$","svg",null,{"className":"h-5 linkicon w-5","fill":"currentColor","viewBox":"0 0 20 20","xmlns":"http://www.w3.org/2000/svg","children":[["$","path",null,{"d":"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z"}],["$","path",null,{"d":"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z"}]]}]}]}],"13.2 多配置"]}],["$","ol",null,{"children":["$","li",null,{"children":["技术基础 (1) ",["$","code",null,{"children":"webpack"}],"打包可以接收一个配置数组。 (2) ",["$","code",null,{"children":"parallel-webpack"}],"提高打包速度。"]}]}],["$","blockquote",null,{"children":["$","p",null,{"children":["直接使用",["$","code",null,{"children":"webpack"}],"也可以接收一个配置数组，但串行打包过程速度比较慢。",["$","code",null,{"children":"parallel-webpack"}],"可以并行打包，提高打包速度。"]}]}],["$","ol",null,{"start":"2","children":[["$","li",null,{"children":["特点 (1) 优点 可以使用",["$","code",null,{"children":"parallel-webpack"}],"提高打包速度。 配置之间更加独立、灵活。 (2) 缺点 不能多页面之间共享代码。"]}],["$","li",null,{"children":["创建编辑模板文件 ",["$","code",null,{"children":"src/index.html"}]]}]]}],["$","$L16",null,{"className":"language-js","children":["$","code",null,{"className":"language-js code-highlight","children":[["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token operator","children":"<"}],["$","span",null,{"className":"token operator","children":"!"}],["$","span",null,{"className":"token constant","children":"DOCTYPE"}]," html",["$","span",null,{"className":"token operator","children":">"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token operator","children":"<"}],"html",["$","span",null,{"className":"token operator","children":">"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token operator","children":"<"}],"head",["$","span",null,{"className":"token operator","children":">"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token operator","children":"<"}],"meta charset",["$","span",null,{"className":"token operator","children":"="}],["$","span",null,{"className":"token string","children":"\"UTF-8\""}],["$","span",null,{"className":"token operator","children":">"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token operator","children":"<"}],"title",["$","span",null,{"className":"token operator","children":">"}],["$","span",null,{"className":"token operator","children":"<"}],["$","span",null,{"className":"token operator","children":"%="}]," htmlWebpackPlugin",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access","children":"options"}],["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access","children":"title"}]," ",["$","span",null,{"className":"token operator","children":"%"}],["$","span",null,{"className":"token operator","children":">"}],["$","span",null,{"className":"token operator","children":"<"}],["$","span",null,{"className":"token operator","children":"/"}],"title",["$","span",null,{"className":"token operator","children":">"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token operator","children":"<"}],["$","span",null,{"className":"token operator","children":"/"}],"head",["$","span",null,{"className":"token operator","children":">"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token operator","children":"<"}],"body",["$","span",null,{"className":"token operator","children":">"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token operator","children":"<"}],["$","span",null,{"className":"token operator","children":"/"}],"body",["$","span",null,{"className":"token operator","children":">"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token operator","children":"<"}],["$","span",null,{"className":"token operator","children":"/"}],"html",["$","span",null,{"className":"token operator","children":">"}],"\n"]}]]}]}],["$","blockquote",null,{"children":["$","p",null,{"children":["如果打包配置文件添加了",["$","code",null,{"children":"html-loader"}],"，会正常解析",["$","code",null,{"children":"html"}],"文件作为模版，就会直接把 ",["$","code",null,{"children":"<%= htmlWebpackPlugin.options.title %>"}],"解析成字符串。"]}]}],["$","ol",null,{"start":"4","children":["$","li",null,{"children":"创建编辑入口文件"}]}],["$","p",null,{"children":["$","code",null,{"children":"src/index.js"}]}],["$","$L16",null,{"className":"language-js","children":["$","code",null,{"className":"language-js code-highlight","children":["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token class-name console","children":"console"}],["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access function method","children":"log"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token string","children":"'this is index.js'"}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}]}]}],["$","p",null,{"children":["$","code",null,{"children":"src/list.js"}]}],["$","$L16",null,{"className":"language-js","children":["$","code",null,{"className":"language-js code-highlight","children":["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token class-name console","children":"console"}],["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access function method","children":"log"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token string","children":"'this list.js'"}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}]}]}],["$","ol",null,{"start":"5","children":["$","li",null,{"children":["编辑打包配置文件 ",["$","code",null,{"children":"webpack.pro.config.js"}]]}]}],["$","$L16",null,{"className":"language-js","children":["$","code",null,{"className":"language-js code-highlight","children":[["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword","children":"const"}]," baseConfig ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token function","children":"require"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token string","children":"'./webpack.base.config'"}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token comment","children":"//..."}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword","children":"const"}]," prodConfig ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token comment","children":"//..."}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword","children":"const"}]," buildConfig ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token function","children":"merge"}],["$","span",null,{"className":"token punctuation","children":"("}],"baseConfig",["$","span",null,{"className":"token punctuation","children":","}]," prodConfig",["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":"\n"}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword","children":"const"}]," ",["$","span",null,{"className":"token function function-variable","children":"generatePage"}]," ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token keyword","children":"function"}]," ",["$","span",null,{"className":"token punctuation","children":"("}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token punctuation","children":"{"}]," entry ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token string","children":"''"}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["    title ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token string","children":"''"}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["    name ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token string","children":"''"}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["    chunks ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token punctuation","children":"["}],["$","span",null,{"className":"token punctuation","children":"]"}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["    template ",["$","span",null,{"className":"token operator","children":"="}]," path",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access function method","children":"resolve"}],["$","span",null,{"className":"token punctuation","children":"("}],"__dirname",["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token string","children":"'../src/index.html'"}],["$","span",null,{"className":"token punctuation","children":")"}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token punctuation","children":"}"}]," ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":")"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token keyword control-flow","children":"return"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    entry",["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token property literal-property","children":"plugins"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token punctuation","children":"["}],"\n"]}],["$","span",null,{"className":"code-line","children":["      ",["$","span",null,{"className":"token keyword","children":"new"}]," ",["$","span",null,{"className":"token class-name","children":"HtmlWebpackPlugin"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["        chunks",["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["        template",["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["        title",["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["        ",["$","span",null,{"className":"token property literal-property","children":"filename"}],["$","span",null,{"className":"token operator","children":":"}]," name ",["$","span",null,{"className":"token operator","children":"+"}]," ",["$","span",null,{"className":"token string","children":"'.html'"}],"\n"]}],["$","span",null,{"className":"code-line","children":["      ",["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":")"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token punctuation","children":"]"}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":"\n"}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword","children":"const"}]," indexConfig ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token function","children":"generatePage"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token property literal-property","children":"entry"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token property literal-property","children":"app"}],["$","span",null,{"className":"token operator","children":":"}]," path",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access function method","children":"resolve"}],["$","span",null,{"className":"token punctuation","children":"("}],"__dirname",["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token string","children":"'../src/index.js'"}],["$","span",null,{"className":"token punctuation","children":")"}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token property literal-property","children":"title"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token string","children":"'page index'"}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token property literal-property","children":"name"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token string","children":"'index'"}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token property literal-property","children":"chunks"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token punctuation","children":"["}],["$","span",null,{"className":"token string","children":"'runtime'"}],["$","span",null,{"className":"token punctuation","children":","}],["$","span",null,{"className":"token string","children":"'vendors'"}],["$","span",null,{"className":"token punctuation","children":","}],["$","span",null,{"className":"token string","children":"'app'"}],["$","span",null,{"className":"token punctuation","children":"]"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":"\n"}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword","children":"const"}]," listConfig ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token function","children":"generatePage"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token property literal-property","children":"entry"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token property literal-property","children":"list"}],["$","span",null,{"className":"token operator","children":":"}]," path",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access function method","children":"resolve"}],["$","span",null,{"className":"token punctuation","children":"("}],"__dirname",["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token string","children":"'../src/list.js'"}],["$","span",null,{"className":"token punctuation","children":")"}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token property literal-property","children":"title"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token string","children":"'page list'"}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token property literal-property","children":"name"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token string","children":"'list'"}],["$","span",null,{"className":"token punctuation","children":","}],"\n"]}],["$","span",null,{"className":"code-line","children":["  ",["$","span",null,{"className":"token property literal-property","children":"chunks"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token punctuation","children":"["}],["$","span",null,{"className":"token string","children":"'runtime'"}],["$","span",null,{"className":"token punctuation","children":","}],["$","span",null,{"className":"token string","children":"'vendors'"}],["$","span",null,{"className":"token punctuation","children":","}],["$","span",null,{"className":"token string","children":"'list'"}],["$","span",null,{"className":"token punctuation","children":"]"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token punctuation","children":"}"}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":"\n"}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword","children":"const"}]," pagesConfig ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token punctuation","children":"["}],"indexConfig",["$","span",null,{"className":"token punctuation","children":","}]," listConfig",["$","span",null,{"className":"token punctuation","children":"]"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":["module",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access","children":"exports"}]," ",["$","span",null,{"className":"token operator","children":"="}]," pagesConfig",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access function method","children":"map"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token parameter","children":"pageConfig"}]," ",["$","span",null,{"className":"token operator arrow","children":"=>"}]," ",["$","span",null,{"className":"token function","children":"merge"}],["$","span",null,{"className":"token punctuation","children":"("}],"pageConfig",["$","span",null,{"className":"token punctuation","children":","}]," buildConfig",["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}]]}]}],["$","blockquote",null,{"children":["$","p",null,{"children":["多配置在同一个文件中，生成一个配置数组。 ⭐️⭐️这里的",["$","code",null,{"children":"chunks: ['runtime','vendors','app'/'list']"}],"可以省略，因为是多配置，默认会插入所有",["$","code",null,{"children":"chunks"}],"。如果是",["$","code",null,{"children":"13.3"}],"中的单配置，入口有多个，那么就必须指定插入的",["$","code",null,{"children":"chunks"}],"。"]}]}],["$","ol",null,{"start":"6","children":["$","li",null,{"children":["打包 ",["$","code",null,{"children":"npm run build"}]]}]}],["$","$L16",null,{"className":"language-js","children":["$","code",null,{"className":"language-js code-highlight","children":[["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token property literal-property","children":"Hash"}],["$","span",null,{"className":"token operator","children":":"}]," 10dc11f107c648d35db3659186349535b844a395\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token property literal-property","children":"Version"}],["$","span",null,{"className":"token operator","children":":"}]," webpack ",["$","span",null,{"className":"token number","children":"4.30"}],["$","span",null,{"className":"token number","children":".0"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token maybe-class-name","children":"Child"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token property literal-property","children":"Hash"}],["$","span",null,{"className":"token operator","children":":"}]," 10dc11f107c648d35db3\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token property literal-property","children":"Time"}],["$","span",null,{"className":"token operator","children":":"}]," 876ms\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token maybe-class-name","children":"Built"}]," at",["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token number","children":"06"}],["$","span",null,{"className":"token operator","children":"/"}],["$","span",null,{"className":"token number","children":"01"}],["$","span",null,{"className":"token operator","children":"/"}],["$","span",null,{"className":"token number","children":"2019"}]," ",["$","span",null,{"className":"token number","children":"4"}],["$","span",null,{"className":"token operator","children":":"}],["$","span",null,{"className":"token number","children":"38"}],["$","span",null,{"className":"token operator","children":":"}],["$","span",null,{"className":"token number","children":"36"}]," ",["$","span",null,{"className":"token constant","children":"PM"}],"\n"]}],["$","span",null,{"className":"code-line","children":["            ",["$","span",null,{"className":"token maybe-class-name","children":"Asset"}],"       ",["$","span",null,{"className":"token maybe-class-name","children":"Size"}],"  ",["$","span",null,{"className":"token maybe-class-name","children":"Chunks"}],"             ",["$","span",null,{"className":"token maybe-class-name","children":"Chunk"}]," ",["$","span",null,{"className":"token maybe-class-name","children":"Names"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    app",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access","children":"bundle"}],["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access","children":"js"}],"  ",["$","span",null,{"className":"token number","children":"963"}]," bytes       ",["$","span",null,{"className":"token number","children":"0"}],"  ",["$","span",null,{"className":"token punctuation","children":"["}],"emitted",["$","span",null,{"className":"token punctuation","children":"]"}],"  app\n"]}],["$","span",null,{"className":"code-line","children":["       index",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access","children":"html"}],"  ",["$","span",null,{"className":"token number","children":"190"}]," bytes          ",["$","span",null,{"className":"token punctuation","children":"["}],"emitted",["$","span",null,{"className":"token punctuation","children":"]"}],"  \n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token maybe-class-name","children":"Child"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token property literal-property","children":"Hash"}],["$","span",null,{"className":"token operator","children":":"}]," 659186349535b844a395\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token property literal-property","children":"Time"}],["$","span",null,{"className":"token operator","children":":"}]," 850ms\n"]}],["$","span",null,{"className":"code-line","children":["    ",["$","span",null,{"className":"token maybe-class-name","children":"Built"}]," at",["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token number","children":"06"}],["$","span",null,{"className":"token operator","children":"/"}],["$","span",null,{"className":"token number","children":"01"}],["$","span",null,{"className":"token operator","children":"/"}],["$","span",null,{"className":"token number","children":"2019"}]," ",["$","span",null,{"className":"token number","children":"4"}],["$","span",null,{"className":"token operator","children":":"}],["$","span",null,{"className":"token number","children":"38"}],["$","span",null,{"className":"token operator","children":":"}],["$","span",null,{"className":"token number","children":"36"}]," ",["$","span",null,{"className":"token constant","children":"PM"}],"\n"]}],["$","span",null,{"className":"code-line","children":["             ",["$","span",null,{"className":"token maybe-class-name","children":"Asset"}],"       ",["$","span",null,{"className":"token maybe-class-name","children":"Size"}],"  ",["$","span",null,{"className":"token maybe-class-name","children":"Chunks"}],"             ",["$","span",null,{"className":"token maybe-class-name","children":"Chunk"}]," ",["$","span",null,{"className":"token maybe-class-name","children":"Names"}],"\n"]}],["$","span",null,{"className":"code-line","children":["    list",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access","children":"bundle"}],["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access","children":"js"}],"  ",["$","span",null,{"className":"token number","children":"962"}]," bytes       ",["$","span",null,{"className":"token number","children":"0"}],"  ",["$","span",null,{"className":"token punctuation","children":"["}],"emitted",["$","span",null,{"className":"token punctuation","children":"]"}],"  list\n"]}],["$","span",null,{"className":"code-line","children":["         list",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access","children":"html"}],"  ",["$","span",null,{"className":"token number","children":"191"}]," bytes          ",["$","span",null,{"className":"token punctuation","children":"["}],"emitted",["$","span",null,{"className":"token punctuation","children":"]"}],"  \n"]}]]}]}],["$","blockquote",null,{"children":["$","p",null,{"children":["多配置打包不可以使用",["$","code",null,{"children":"clean-webpack-plugin"}],"，否则后一个打包会清除前一个打包结果。"]}]}],["$","ol",null,{"start":"7","children":["$","li",null,{"children":["使用",["$","code",null,{"children":"parallel-webpack"}],"打包 (1) 安装 ",["$","code",null,{"children":"npm i parallel-webpack -D"}]," (2) 打包 ",["$","code",null,{"children":"./node_modules/parallel-webpack/bin/run.js --config=build/webpack.prod.config.js"}]]}]}],["$","h2",null,{"className":"content-header","id":"133-单配置","children":[["$","a",null,{"className":"break-words","href":"#133-单配置","aria-hidden":"true","tabIndex":"-1","children":["$","span",null,{"className":"content-header-link","children":["$","svg",null,{"className":"h-5 linkicon w-5","fill":"currentColor","viewBox":"0 0 20 20","xmlns":"http://www.w3.org/2000/svg","children":[["$","path",null,{"d":"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z"}],["$","path",null,{"d":"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z"}]]}]}]}],"13.3 单配置"]}],["$","ol",null,{"children":["$","li",null,{"children":["特点 (1) 优点 可以共享各个",["$","code",null,{"children":"entry"}],"之间的公用代码。 (2) 缺点 打包比较慢。 输出的内容比较复杂。 配置不够独立，相互耦合。例如：无法实现对不同入口设置不同的",["$","code",null,{"children":"splitChunks"}],"代码分割规则、无法实现对不同入口设置不同的动态路由(",["$","code",null,{"children":"splitChunks"}],"会将公共代码提出来，提前加载)。"]}]}],["$","blockquote",null,{"children":["$","p",null,{"children":["单配置时，",["$","code",null,{"children":"webpack"}],"打包配置对不同入口的所有",["$","code",null,{"children":"chunks"}],"都生效。只要有一个入口的同步代码依赖树中含有某一个模块，该模块就不会被动态路由异步加载。"]}]}],["$","ol",null,{"start":"2","children":["$","li",null,{"children":["编辑打包配置文件 ",["$","code",null,{"children":"webpack.pro.config.js"}]]}]}],["$","$L16",null,{"className":"language-js","children":["$","code",null,{"className":"language-js code-highlight","children":[["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token comment","children":"//..."}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword","children":"const"}]," buildConfig ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token function","children":"merge"}],["$","span",null,{"className":"token punctuation","children":"("}],"baseConfig",["$","span",null,{"className":"token punctuation","children":","}]," prodConfig",["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token comment","children":"//..."}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword","children":"const"}]," pagesConfig ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token punctuation","children":"["}],"indexConfig",["$","span",null,{"className":"token punctuation","children":","}]," listConfig",["$","span",null,{"className":"token punctuation","children":"]"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":["module",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access","children":"exports"}]," ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token function","children":"merge"}],["$","span",null,{"className":"token punctuation","children":"("}],"pagesConfig",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access function method","children":"concat"}],["$","span",null,{"className":"token punctuation","children":"("}],"buildConfig",["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}]]}]}],["$","blockquote",null,{"children":["$","p",null,{"children":[["$","code",null,{"children":"webpack-merge"}],"可以接收多个参数",["$","code",null,{"children":"merge(object1, object2, object3, ...)"}],"，也可以接收一个数组",["$","code",null,{"children":"merge([object1, object2, object3, ...])"}],"。"]}]}],["$","ol",null,{"start":"3","children":["$","li",null,{"children":["打包 ",["$","code",null,{"children":"npm run build"}]]}]}],["$","$L16",null,{"className":"language-js","children":["$","code",null,{"className":"language-js code-highlight","children":[["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token property literal-property","children":"Version"}],["$","span",null,{"className":"token operator","children":":"}]," webpack ",["$","span",null,{"className":"token number","children":"4.30"}],["$","span",null,{"className":"token number","children":".0"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token property literal-property","children":"Time"}],["$","span",null,{"className":"token operator","children":":"}]," 668ms\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token maybe-class-name","children":"Built"}]," at",["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token number","children":"06"}],["$","span",null,{"className":"token operator","children":"/"}],["$","span",null,{"className":"token number","children":"01"}],["$","span",null,{"className":"token operator","children":"/"}],["$","span",null,{"className":"token number","children":"2019"}]," ",["$","span",null,{"className":"token number","children":"4"}],["$","span",null,{"className":"token operator","children":":"}],["$","span",null,{"className":"token number","children":"54"}],["$","span",null,{"className":"token operator","children":":"}],["$","span",null,{"className":"token number","children":"57"}]," ",["$","span",null,{"className":"token constant","children":"PM"}],"\n"]}],["$","span",null,{"className":"code-line","children":["         ",["$","span",null,{"className":"token maybe-class-name","children":"Asset"}],"       ",["$","span",null,{"className":"token maybe-class-name","children":"Size"}],"  ",["$","span",null,{"className":"token maybe-class-name","children":"Chunks"}],"             ",["$","span",null,{"className":"token maybe-class-name","children":"Chunk"}]," ",["$","span",null,{"className":"token maybe-class-name","children":"Names"}],"\n"]}],["$","span",null,{"className":"code-line","children":[" app",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access","children":"bundle"}],["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access","children":"js"}],"  ",["$","span",null,{"className":"token number","children":"963"}]," bytes       ",["$","span",null,{"className":"token number","children":"0"}],"  ",["$","span",null,{"className":"token punctuation","children":"["}],"emitted",["$","span",null,{"className":"token punctuation","children":"]"}],"  app\n"]}],["$","span",null,{"className":"code-line","children":["    index",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access","children":"html"}],"  ",["$","span",null,{"className":"token number","children":"190"}]," bytes          ",["$","span",null,{"className":"token punctuation","children":"["}],"emitted",["$","span",null,{"className":"token punctuation","children":"]"}],"  \n"]}],["$","span",null,{"className":"code-line","children":["list",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access","children":"bundle"}],["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access","children":"js"}],"  ",["$","span",null,{"className":"token number","children":"963"}]," bytes       ",["$","span",null,{"className":"token number","children":"1"}],"  ",["$","span",null,{"className":"token punctuation","children":"["}],"emitted",["$","span",null,{"className":"token punctuation","children":"]"}],"  list\n"]}],["$","span",null,{"className":"code-line","children":["     list",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access","children":"html"}],"  ",["$","span",null,{"className":"token number","children":"191"}]," bytes          ",["$","span",null,{"className":"token punctuation","children":"["}],"emitted",["$","span",null,{"className":"token punctuation","children":"]"}],"  \n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token maybe-class-name","children":"Entrypoint"}]," app ",["$","span",null,{"className":"token operator","children":"="}]," app",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access","children":"bundle"}],["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access","children":"js"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token maybe-class-name","children":"Entrypoint"}]," list ",["$","span",null,{"className":"token operator","children":"="}]," list",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access","children":"bundle"}],["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access","children":"js"}],"\n"]}]]}]}]]}],["$","div",null,{"className":"pt-6 pb-6 text-sm text-gray-700 dark:text-gray-300","children":[["$","a",null,{"className":"break-words","target":"_blank","rel":"nofollow","href":"https://mobile.twitter.com/search?q=https%3A%2F%2Fnmwei.github.io%2Fblog%2FWebpack%2FWebpack4-0%E8%BF%9B%E9%98%B6","children":"Discuss on Twitter"}]," • ",["$","a",null,{"className":"break-words","target":"_blank","rel":"noopener noreferrer","href":"https://github.com/nmwei/nmwei.github.io/blob/main/data/blog/Webpack/Webpack4-0进阶.mdx","children":"View on GitHub"}]]}],["$","div",null,{"className":"pt-6 pb-6 text-center text-gray-700 dark:text-gray-300","id":"comment","children":["$","$L17",null,{"slug":"Webpack/Webpack4-0进阶"}]}]]}],["$","footer",null,{"children":[["$","div",null,{"className":"divide-gray-200 text-sm leading-5 font-medium xl:col-start-1 xl:row-start-2 xl:divide-y dark:divide-gray-700","children":[["$","div",null,{"className":"py-4 xl:py-8","children":[["$","h2",null,{"className":"text-xs tracking-wide text-gray-500 uppercase dark:text-gray-400","children":"Tags"}],["$","div",null,{"className":"flex flex-wrap","children":[["$","$L5","Webpack",{"href":"/tags/webpack","className":"text-primary-500 hover:text-primary-600 dark:hover:text-primary-400 mr-3 text-sm font-medium","children":"Webpack"}],["$","$L5","构建工具",{"href":"/tags/构建工具","className":"text-primary-500 hover:text-primary-600 dark:hover:text-primary-400 mr-3 text-sm font-medium","children":"构建工具"}]]}]]}],["$","div",null,{"className":"flex justify-between py-4 xl:block xl:space-y-8 xl:py-8","children":[["$","div",null,{"children":[["$","h2",null,{"className":"text-xs tracking-wide text-gray-500 uppercase dark:text-gray-400","children":"Previous Article"}],["$","div",null,{"className":"text-primary-500 hover:text-primary-600 dark:hover:text-primary-400","children":["$","$L5",null,{"className":"break-words","href":"/blog/Webpack/Webpack4-0入门","children":"Webpack4-0入门"}]}]]}],["$","div",null,{"children":[["$","h2",null,{"className":"text-xs tracking-wide text-gray-500 uppercase dark:text-gray-400","children":"Next Article"}],["$","div",null,{"className":"text-primary-500 hover:text-primary-600 dark:hover:text-primary-400","children":["$","$L5",null,{"className":"break-words","href":"/blog/Webpack/Webpack4-0原理","children":"Webpack4-0原理"}]}]]}]]}]]}],["$","div",null,{"className":"pt-4 xl:pt-8","children":["$","$L5",null,{"className":"text-primary-500 hover:text-primary-600 dark:hover:text-primary-400","href":"/blog","aria-label":"Back to the blog","children":"← Back to the blog"}]}]]}]]}]]}]}]]}]]
10:[["$","meta","0",{"charSet":"utf-8"}],["$","meta","1",{"name":"viewport","content":"width=device-width, initial-scale=1"}]]
d:null
e:null
12:[["$","title","0",{"children":"Webpack4-0进阶 | 我的博客"}],["$","meta","1",{"name":"description","content":"Webpack4-0进阶相关文章"}],["$","meta","2",{"name":"robots","content":"index, follow"}],["$","meta","3",{"name":"googlebot","content":"index, follow, max-video-preview:-1, max-image-preview:large, max-snippet:-1"}],["$","link","4",{"rel":"canonical","href":"https://nmwei.github.io/blog/Webpack/Webpack4-0%E8%BF%9B%E9%98%B6"}],["$","link","5",{"rel":"alternate","type":"application/rss+xml","href":"https://nmwei.github.io/feed.xml"}],["$","meta","6",{"property":"og:title","content":"Webpack4-0进阶"}],["$","meta","7",{"property":"og:description","content":"Webpack4-0进阶相关文章"}],["$","meta","8",{"property":"og:url","content":"https://nmwei.github.io/blog/Webpack/Webpack4-0%E8%BF%9B%E9%98%B6"}],["$","meta","9",{"property":"og:site_name","content":"我的博客"}],["$","meta","10",{"property":"og:locale","content":"en_US"}],["$","meta","11",{"property":"og:image","content":"https://nmwei.github.io/static/images/webpack.jpg"}],["$","meta","12",{"property":"og:type","content":"article"}],["$","meta","13",{"property":"article:published_time","content":"2019-04-08T00:00:00.000Z"}],["$","meta","14",{"property":"article:modified_time","content":"2019-04-08T00:00:00.000Z"}],["$","meta","15",{"property":"article:author","content":"倪梦威"}],["$","meta","16",{"name":"twitter:card","content":"summary_large_image"}],["$","meta","17",{"name":"twitter:title","content":"Webpack4-0进阶"}],["$","meta","18",{"name":"twitter:description","content":"Webpack4-0进阶相关文章"}],["$","meta","19",{"name":"twitter:image","content":"https://nmwei.github.io/static/images/webpack.jpg"}]]
