1:"$Sreact.fragment"
2:I[1478,["545","static/chunks/c16f53c3-5b47b7f1ae12d8f6.js","874","static/chunks/874-7cca39d2e0ddd8b8.js","430","static/chunks/430-27ea613f983ffbaf.js","177","static/chunks/app/layout-4f2fc603b9b897e8.js"],"ThemeProviders"]
3:I[9243,["545","static/chunks/c16f53c3-5b47b7f1ae12d8f6.js","874","static/chunks/874-7cca39d2e0ddd8b8.js","430","static/chunks/430-27ea613f983ffbaf.js","177","static/chunks/app/layout-4f2fc603b9b897e8.js"],""]
4:I[7392,["545","static/chunks/c16f53c3-5b47b7f1ae12d8f6.js","874","static/chunks/874-7cca39d2e0ddd8b8.js","430","static/chunks/430-27ea613f983ffbaf.js","177","static/chunks/app/layout-4f2fc603b9b897e8.js"],"KBarSearchProvider"]
5:I[6874,["874","static/chunks/874-7cca39d2e0ddd8b8.js","63","static/chunks/63-2b4206848ffc60fb.js","909","static/chunks/app/blog/%5B...slug%5D/page-28d33eed3f173442.js"],""]
6:I[4159,["545","static/chunks/c16f53c3-5b47b7f1ae12d8f6.js","874","static/chunks/874-7cca39d2e0ddd8b8.js","430","static/chunks/430-27ea613f983ffbaf.js","177","static/chunks/app/layout-4f2fc603b9b897e8.js"],"KBarButton"]
7:I[1762,["545","static/chunks/c16f53c3-5b47b7f1ae12d8f6.js","874","static/chunks/874-7cca39d2e0ddd8b8.js","430","static/chunks/430-27ea613f983ffbaf.js","177","static/chunks/app/layout-4f2fc603b9b897e8.js"],"default"]
8:I[7298,["545","static/chunks/c16f53c3-5b47b7f1ae12d8f6.js","874","static/chunks/874-7cca39d2e0ddd8b8.js","430","static/chunks/430-27ea613f983ffbaf.js","177","static/chunks/app/layout-4f2fc603b9b897e8.js"],"default"]
9:I[7555,[],""]
a:I[1295,[],""]
c:I[9665,[],"OutletBoundary"]
f:I[9665,[],"ViewportBoundary"]
11:I[9665,[],"MetadataBoundary"]
13:I[6614,[],""]
:HL["/_next/static/media/7cba1811e3c25a15-s.p.woff2","font",{"crossOrigin":"","type":"font/woff2"}]
:HL["/_next/static/css/f71128b9ac16cc11.css","style"]
:HL["/_next/static/css/5fa3e5bae12b17db.css","style"]
:HL["/_next/static/css/206c8cd9f1135cc1.css","style"]
0:{"P":null,"b":"zD_bYF5SZMVS-oUQR0xRK","p":"","c":["","blog","JavaScript","web%E5%89%8D%E7%AB%AF%E6%80%A7%E8%83%BD%E7%9B%91%E6%8E%A7"],"i":false,"f":[[["",{"children":["blog",{"children":[["slug","JavaScript/web%E5%89%8D%E7%AB%AF%E6%80%A7%E8%83%BD%E7%9B%91%E6%8E%A7","c"],{"children":["__PAGE__",{}]}]}]},"$undefined","$undefined",true],["",["$","$1","c",{"children":[[["$","link","0",{"rel":"stylesheet","href":"/_next/static/css/f71128b9ac16cc11.css","precedence":"next","crossOrigin":"$undefined","nonce":"$undefined"}],["$","link","1",{"rel":"stylesheet","href":"/_next/static/css/5fa3e5bae12b17db.css","precedence":"next","crossOrigin":"$undefined","nonce":"$undefined"}]],["$","html",null,{"lang":"zh-cn","className":"__variable_bc0dcf scroll-smooth","suppressHydrationWarning":true,"children":[["$","link",null,{"rel":"apple-touch-icon","sizes":"76x76","href":"/static/favicons/apple-touch-icon.png"}],["$","link",null,{"rel":"icon","type":"image/png","sizes":"32x32","href":"/static/favicons/favicon-32x32.png"}],["$","link",null,{"rel":"icon","type":"image/png","sizes":"16x16","href":"/static/favicons/favicon-16x16.png"}],["$","link",null,{"rel":"manifest","href":"/static/favicons/site.webmanifest"}],["$","link",null,{"rel":"mask-icon","href":"/static/favicons/safari-pinned-tab.svg","color":"#5bbad5"}],["$","meta",null,{"name":"msapplication-TileColor","content":"#000000"}],["$","meta",null,{"name":"theme-color","media":"(prefers-color-scheme: light)","content":"#fff"}],["$","meta",null,{"name":"theme-color","media":"(prefers-color-scheme: dark)","content":"#000"}],["$","link",null,{"rel":"alternate","type":"application/rss+xml","href":"/feed.xml"}],["$","body",null,{"className":"bg-white pl-[calc(100vw-100%)] text-black antialiased dark:bg-gray-950 dark:text-white","children":["$","$L2",null,{"children":[["$undefined","$undefined","$undefined",["$","$L3",null,{"async":true,"defer":true,"src":"https://analytics.umami.is/script.js"}],"$undefined","$undefined"],["$","section",null,{"className":"mx-auto max-w-3xl px-4 sm:px-6 xl:max-w-5xl xl:px-0","children":[["$","$L4",null,{"kbarConfig":{"searchDocumentsPath":"/search.json"},"children":[["$","header",null,{"className":"flex items-center w-full bg-white dark:bg-gray-950 justify-between py-10","children":[["$","$L5",null,{"className":"break-words","href":"/","aria-label":"我的博客","children":["$","div",null,{"className":"flex items-center justify-between","children":[["$","div",null,{"className":"mr-3","children":["$","svg",null,{"xmlns":"http://www.w3.org/2000/svg","xmlnsXlink":"http://www.w3.org/1999/xlink","width":53.87,"height":43.61,"viewBox":"344.564 330.278 111.737 91.218","children":[["$","defs",null,{"children":[["$","linearGradient",null,{"id":"logo_svg__b","x1":420.97,"x2":420.97,"y1":331.28,"y2":418.5,"gradientUnits":"userSpaceOnUse","children":[["$","stop",null,{"offset":"0%","style":{"stopColor":"#06b6d4","stopOpacity":1}}],["$","stop",null,{"offset":"100%","style":{"stopColor":"#67e8f9","stopOpacity":1}}]]}],["$","linearGradient",null,{"id":"logo_svg__d","x1":377.89,"x2":377.89,"y1":331.28,"y2":418.5,"gradientUnits":"userSpaceOnUse","children":[["$","stop",null,{"offset":"0%","style":{"stopColor":"#06b6d4","stopOpacity":1}}],["$","stop",null,{"offset":"100%","style":{"stopColor":"#67e8f9","stopOpacity":1}}]]}],["$","path",null,{"id":"logo_svg__a","d":"M453.3 331.28v28.57l-64.66 58.65v-30.08z"}],["$","path",null,{"id":"logo_svg__c","d":"M410.23 331.28v28.57l-64.67 58.65v-30.08z"}]]}],["$","use",null,{"xlinkHref":"#logo_svg__a","fill":"url(#logo_svg__b)"}],["$","use",null,{"xlinkHref":"#logo_svg__c","fill":"url(#logo_svg__d)"}]]}]}],["$","div",null,{"className":"hidden h-6 text-2xl font-semibold sm:block","children":"我的博客"}]]}]}],["$","div",null,{"className":"flex items-center space-x-4 leading-5 sm:-mr-6 sm:space-x-6","children":[["$","div",null,{"className":"no-scrollbar hidden max-w-40 items-center gap-x-4 overflow-x-auto sm:flex md:max-w-72 lg:max-w-96","children":[["$","$L5","博客",{"className":"hover:text-primary-500 dark:hover:text-primary-400 m-1 font-medium text-gray-900 dark:text-gray-100","href":"/blog","children":"博客"}],["$","$L5","标签",{"className":"hover:text-primary-500 dark:hover:text-primary-400 m-1 font-medium text-gray-900 dark:text-gray-100","href":"/tags","children":"标签"}],["$","$L5","项目",{"className":"hover:text-primary-500 dark:hover:text-primary-400 m-1 font-medium text-gray-900 dark:text-gray-100","href":"/projects","children":"项目"}],["$","$L5","关于",{"className":"hover:text-primary-500 dark:hover:text-primary-400 m-1 font-medium text-gray-900 dark:text-gray-100","href":"/about","children":"关于"}]]}],["$","$L6",null,{"aria-label":"Search","children":["$","svg",null,{"xmlns":"http://www.w3.org/2000/svg","fill":"none","viewBox":"0 0 24 24","strokeWidth":1.5,"stroke":"currentColor","className":"hover:text-primary-500 dark:hover:text-primary-400 h-6 w-6 text-gray-900 dark:text-gray-100","children":["$","path",null,{"strokeLinecap":"round","strokeLinejoin":"round","d":"M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"}]}]}],["$","$L7",null,{}],["$","$L8",null,{}]]}]]}],["$","main",null,{"className":"mb-auto","children":["$","$L9",null,{"parallelRouterKey":"children","error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$La",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":[["$","div",null,{"className":"flex flex-col items-start justify-start md:mt-24 md:flex-row md:items-center md:justify-center md:space-x-6","children":[["$","div",null,{"className":"space-x-2 pt-6 pb-8 md:space-y-5","children":["$","h1",null,{"className":"text-6xl leading-9 font-extrabold tracking-tight text-gray-900 md:border-r-2 md:px-6 md:text-8xl md:leading-14 dark:text-gray-100","children":"404"}]}],["$","div",null,{"className":"max-w-md","children":[["$","p",null,{"className":"mb-4 text-xl leading-normal font-bold md:text-2xl","children":"Sorry we couldn't find this page."}],["$","p",null,{"className":"mb-8","children":"But dont worry, you can find plenty of other things on our homepage."}],["$","$L5",null,{"className":"focus:shadow-outline-blue inline rounded-lg border border-transparent bg-blue-600 px-4 py-2 text-sm leading-5 font-medium text-white shadow-xs transition-colors duration-150 hover:bg-blue-700 focus:outline-hidden dark:hover:bg-blue-500","href":"/","children":"Back to homepage"}]]}]]}],[]],"forbidden":"$undefined","unauthorized":"$undefined"}]}]]}],["$","footer",null,{"children":["$","div",null,{"className":"mt-16 flex flex-col items-center","children":[["$","div",null,{"className":"mb-3 flex space-x-4","children":[["$","a",null,{"className":"text-sm text-gray-500 transition hover:text-gray-600","target":"_blank","rel":"noopener noreferrer","href":"mailto:254060001@qq.com","children":[["$","span",null,{"className":"sr-only","children":"mail"}],["$","svg",null,{"xmlns":"http://www.w3.org/2000/svg","viewBox":"0 0 20 20","className":"hover:text-primary-500 dark:hover:text-primary-400 fill-current text-gray-700 dark:text-gray-200 h-6 w-6","children":[["$","title",null,{"children":"Mail"}],["$","path",null,{"d":"M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z"}],["$","path",null,{"d":"M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z"}]]}]]}],["$","a",null,{"className":"text-sm text-gray-500 transition hover:text-gray-600","target":"_blank","rel":"noopener noreferrer","href":"https://github.com","children":[["$","span",null,{"className":"sr-only","children":"github"}],["$","svg",null,{"xmlns":"http://www.w3.org/2000/svg","viewBox":"0 0 24 24","className":"hover:text-primary-500 dark:hover:text-primary-400 fill-current text-gray-700 dark:text-gray-200 h-6 w-6","children":[["$","title",null,{"children":"GitHub"}],["$","path",null,{"d":"M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"}]]}]]}],null,null,null,null,null,null,null,null,null]}],["$","div",null,{"className":"mb-2 flex space-x-2 text-sm text-gray-500 dark:text-gray-400","children":[["$","div",null,{"children":"倪梦威"}],["$","div",null,{"children":" • "}],["$","div",null,{"children":"© 2025"}],["$","div",null,{"children":" • "}],["$","$L5",null,{"className":"break-words","href":"/","children":"我的博客"}]]}],false]}]}]]}]]}]}]]}]]}],{"children":["blog",["$","$1","c",{"children":[null,["$","$L9",null,{"parallelRouterKey":"children","error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$La",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","forbidden":"$undefined","unauthorized":"$undefined"}]]}],{"children":[["slug","JavaScript/web%E5%89%8D%E7%AB%AF%E6%80%A7%E8%83%BD%E7%9B%91%E6%8E%A7","c"],["$","$1","c",{"children":[null,["$","$L9",null,{"parallelRouterKey":"children","error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$La",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","forbidden":"$undefined","unauthorized":"$undefined"}]]}],{"children":["__PAGE__",["$","$1","c",{"children":["$Lb","$undefined",[["$","link","0",{"rel":"stylesheet","href":"/_next/static/css/206c8cd9f1135cc1.css","precedence":"next","crossOrigin":"$undefined","nonce":"$undefined"}]],["$","$Lc",null,{"children":["$Ld","$Le",null]}]]}],{},null,false]},null,false]},null,false]},null,false],["$","$1","h",{"children":[null,["$","$1","kYK8CwhOaOg3lwpg2Cxeo",{"children":[["$","$Lf",null,{"children":"$L10"}],["$","meta",null,{"name":"next-size-adjust","content":""}]]}],["$","$L11",null,{"children":"$L12"}]]}],false]],"m":"$undefined","G":["$13","$undefined"],"s":false,"S":true}
14:I[1839,["874","static/chunks/874-7cca39d2e0ddd8b8.js","63","static/chunks/63-2b4206848ffc60fb.js","909","static/chunks/app/blog/%5B...slug%5D/page-28d33eed3f173442.js"],"default"]
15:I[3063,["874","static/chunks/874-7cca39d2e0ddd8b8.js","63","static/chunks/63-2b4206848ffc60fb.js","909","static/chunks/app/blog/%5B...slug%5D/page-28d33eed3f173442.js"],"Image"]
16:I[2100,["874","static/chunks/874-7cca39d2e0ddd8b8.js","63","static/chunks/63-2b4206848ffc60fb.js","909","static/chunks/app/blog/%5B...slug%5D/page-28d33eed3f173442.js"],"default"]
17:I[1449,["874","static/chunks/874-7cca39d2e0ddd8b8.js","63","static/chunks/63-2b4206848ffc60fb.js","909","static/chunks/app/blog/%5B...slug%5D/page-28d33eed3f173442.js"],"default"]
b:[["$","script",null,{"type":"application/ld+json","dangerouslySetInnerHTML":{"__html":"{\"@context\":\"https://schema.org\",\"@type\":\"BlogPosting\",\"headline\":\"web前端性能监控\",\"datePublished\":\"2020-04-26T00:00:00.000Z\",\"dateModified\":\"2020-04-26T00:00:00.000Z\",\"description\":\"web前端性能监控相关文章\",\"image\":\"/static/images/javascript.jpg\",\"url\":\"https://nmwei.github.io/blog/JavaScript/web前端性能监控\",\"author\":[{\"@type\":\"Person\",\"name\":\"倪梦威\"}]}"}}],["$","section",null,{"className":"mx-auto max-w-3xl px-4 sm:px-6 xl:max-w-5xl xl:px-0","children":[["$","$L14",null,{}],["$","article",null,{"children":["$","div",null,{"children":[["$","div",null,{"className":"space-y-1 pb-10 text-center dark:border-gray-700","children":[["$","div",null,{"className":"w-full","children":["$","div",null,{"className":"relative mt-6 -mx-6 md:-mx-8 2xl:-mx-24","children":["$","div",null,{"className":"relative aspect-2/1 w-full","children":["$","$L15",null,{"src":"/static/images/javascript.jpg","alt":"web前端性能监控","fill":true,"className":"object-cover"}]}]}]}],["$","div",null,{"className":"relative pt-10","children":["$","h1",null,{"className":"text-3xl leading-9 font-extrabold tracking-tight text-gray-900 sm:text-4xl sm:leading-10 md:text-5xl md:leading-14 dark:text-gray-100","children":"web前端性能监控"}]}]]}],["$","div",null,{"className":"prose dark:prose-invert max-w-none py-4","children":[["$","p",null,{"children":[["$","code",null,{"children":"web"}]," 的性能一定程度上影响了用户留存率，",["$","code",null,{"children":"Google DoubleClick"}],"研究表明：如果一个移动端页面加载时长超过 ",["$","code",null,{"children":"3"}]," 秒，用户就会放弃而离开。",["$","code",null,{"children":"BBC"}]," 发现网页加载时长每增加 ",["$","code",null,{"children":"1"}]," 秒，用户就会流失 ",["$","code",null,{"children":"10%"}],"。"]}],["$","h2",null,{"className":"content-header","id":"一-监控指标","children":[["$","a",null,{"className":"break-words","href":"#一-监控指标","aria-hidden":"true","tabIndex":"-1","children":["$","span",null,{"className":"content-header-link","children":["$","svg",null,{"className":"h-5 linkicon w-5","fill":"currentColor","viewBox":"0 0 20 20","xmlns":"http://www.w3.org/2000/svg","children":[["$","path",null,{"d":"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z"}],["$","path",null,{"d":"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z"}]]}]}]}],"一. 监控指标"]}],["$","p",null,{"children":[["$","code",null,{"children":"Chrome"}],"团队提出了一种 ",["$","code",null,{"children":"RAIL"}]," 模型来衡量应用性能，即： ",["$","code",null,{"children":"Response"}],"(响应)、",["$","code",null,{"children":"Animation"}],"(动画)、",["$","code",null,{"children":"Idle"}],"(浏览器空置状态)和 ",["$","code",null,{"children":"Load"}],"(加载)。如果在每个模块，都可以达到性能优化的目标值，那么最终用户感受到的将会是极致的体验。"]}],["$","ol",null,{"children":[["$","li",null,{"children":[["$","code",null,{"children":"Response"}],"(响应) - ",["$","code",null,{"children":"100ms"}]," 如果用户点击了一个按钮，你需要保证在用户察觉出延迟之前就得到反馈。我们需要： (1) 在首次收到输入时，在100毫秒内得到回应。 (2) 如果最终结果还需要花更长的时间得到，那也要给用户一个“加载中”的标识，或是颜色的变更，告诉用户“本产品已经接收到了指令，还在处理中”，不至于让用户自我怀疑。"]}],["$","li",null,{"children":[["$","code",null,{"children":"Animation"}],"(动画) - ",["$","code",null,{"children":"16ms"}]," 动画包含了以下概念：视觉动画、滚动、拖拽等。 合理地动画，每一帧动画要在",["$","code",null,{"children":"16"}],"毫秒内完成，才能达到",["$","code",null,{"children":"60FPS"}],"（",["$","code",null,{"children":"1000ms/60 ~= 16.6 ms"}],"）"]}],["$","li",null,{"children":[["$","code",null,{"children":"Idle"}],"(浏览器空置状态) - ",["$","code",null,{"children":"50ms"}]," 浏览器空闲的时候再处理耗时任务。合理地应用浏览器空闲时间，最好把时间以 ",["$","code",null,{"children":"50"}]," 毫秒为单位分组。因为应用应该在 ",["$","code",null,{"children":"100"}]," 毫秒内给出响应，不应该出现一个模板渲染",["$","code",null,{"children":"2"}]," 秒之久。 备注：",["$","code",null,{"children":"Optimistic UI"}]]}],["$","li",null,{"children":[["$","code",null,{"children":"Load"}],"(加载) - ",["$","code",null,{"children":"1s"}]," 我们需要把最需要传达的内容在",["$","code",null,{"children":"1"}]," 秒内渲染出来。我们要优先考虑关键渲染路径，将所有不需要在加载时处理的任务延迟到浏览器空闲时再处理。"]}]]}],["$","h2",null,{"className":"content-header","id":"二-performance","children":[["$","a",null,{"className":"break-words","href":"#二-performance","aria-hidden":"true","tabIndex":"-1","children":["$","span",null,{"className":"content-header-link","children":["$","svg",null,{"className":"h-5 linkicon w-5","fill":"currentColor","viewBox":"0 0 20 20","xmlns":"http://www.w3.org/2000/svg","children":[["$","path",null,{"d":"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z"}],["$","path",null,{"d":"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z"}]]}]}]}],"二. Performance"]}],["$","p",null,{"children":["浏览器提供的",["$","code",null,{"children":"performance api"}],"是性能监控数据的主要来源。",["$","code",null,{"children":"performance"}]," 提供高精度的时间戳，精度可达纳秒级别，且不会随操作系统时间设置的影响。目前主流浏览器都支持。"]}],["$","ol",null,{"children":["$","li",null,{"children":[["$","code",null,{"children":"performance.timing"}],"对象 ",["$","code",null,{"children":"performance"}],"对象的",["$","code",null,{"children":"timing"}],"属性指向一个对象，它包含了各种与浏览器性能有关的时间数据，提供浏览器处理网页各个阶段的耗时。 ",["$","img",null,{"alt":"image.png","src":"https://upload-images.jianshu.io/upload_images/4989175-53a05a806402148f.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240"}]]}]}],["$","$L16",null,{"className":"language-javascript","children":["$","code",null,{"className":"code-highlight language-javascript","children":[["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token literal-property property","children":"connectEnd"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token number","children":"1588117852573"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token literal-property property","children":"connectStart"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token number","children":"1588117852492"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token literal-property property","children":"domComplete"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token number","children":"1588117854411"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token literal-property property","children":"domContentLoadedEventEnd"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token number","children":"1588117853956"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token literal-property property","children":"domContentLoadedEventStart"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token number","children":"1588117853955"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token literal-property property","children":"domInteractive"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token number","children":"1588117853955"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token literal-property property","children":"domLoading"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token number","children":"1588117852694"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token literal-property property","children":"domainLookupEnd"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token number","children":"1588117852492"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token literal-property property","children":"domainLookupStart"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token number","children":"1588117852150"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token literal-property property","children":"fetchStart"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token number","children":"1588117852137"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token literal-property property","children":"loadEventEnd"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token number","children":"1588117854441"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token literal-property property","children":"loadEventStart"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token number","children":"1588117854411"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token literal-property property","children":"navigationStart"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token number","children":"1588117852120"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token literal-property property","children":"redirectEnd"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token number","children":"0"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token literal-property property","children":"redirectStart"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token number","children":"0"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token literal-property property","children":"requestStart"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token number","children":"1588117852573"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token literal-property property","children":"responseEnd"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token number","children":"1588117852670"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token literal-property property","children":"responseStart"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token number","children":"1588117852667"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token literal-property property","children":"secureConnectionStart"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token number","children":"1588117852505"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token literal-property property","children":"unloadEventEnd"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token number","children":"1588117852680"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token literal-property property","children":"unloadEventStart"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token number","children":"1588117852678"}],"\n"]}]]}]}],["$","p",null,{"children":[["$","code",null,{"children":"navigationStart"}],"：当前浏览器窗口的前一个网页关闭，发生",["$","code",null,{"children":"unload"}],"事件时的",["$","code",null,{"children":"Unix"}],"毫秒时间戳。如果没有前一个网页，则等于",["$","code",null,{"children":"fetchStart"}],"属性。 ",["$","code",null,{"children":"unloadEventStart"}],"：如果前一个网页与当前网页属于同一个域名，则返回前一个网页的",["$","code",null,{"children":"unload"}],"事件发生时的",["$","code",null,{"children":"Unix"}],"毫秒时间戳。如果没有前一个网页，或者之前的网页跳转不是在同一个域名内，则返回值为",["$","code",null,{"children":"0"}],"。 ",["$","code",null,{"children":"unloadEventEnd"}],"：如果前一个网页与当前网页属于同一个域名，则返回前一个网页",["$","code",null,{"children":"unload"}],"事件的回调函数结束时的",["$","code",null,{"children":"Unix"}],"毫秒时间戳。如果没有前一个网页，或者之前的网页跳转不是在同一个域名内，则返回值为",["$","code",null,{"children":"0"}],"。 ",["$","code",null,{"children":"redirectStart"}],"：返回第一个",["$","code",null,{"children":"HTTP"}],"跳转开始时的",["$","code",null,{"children":"Unix"}],"毫秒时间戳。如果没有跳转，或者不是同一个域名内部的跳转，则返回值为",["$","code",null,{"children":"0"}],"。 ",["$","code",null,{"children":"redirectEnd"}],"：返回最后一个",["$","code",null,{"children":"HTTP"}],"跳转结束时（即跳转回应的最后一个字节接受完成时）的",["$","code",null,{"children":"Unix"}],"毫秒时间戳。如果没有跳转，或者不是同一个域名内部的跳转，则返回值为",["$","code",null,{"children":"0"}],"。 ",["$","code",null,{"children":"fetchStart"}],"：返回浏览器准备使用HTTP请求读取文档时的",["$","code",null,{"children":"Unix"}],"毫秒时间戳。该事件在网页查询本地缓存之前发生。 ",["$","code",null,{"children":"domainLookupStart"}],"：返回域名查询开始时的Unix毫秒时间戳。如果使用持久连接，或者信息是从本地缓存获取的，则返回值等同于",["$","code",null,{"children":"fetchStart"}],"属性的值。 ",["$","code",null,{"children":"domainLookupEnd"}],"：返回域名查询结束时的",["$","code",null,{"children":"Unix"}],"毫秒时间戳。如果使用持久连接，或者信息是从本地缓存获取的，则返回值等同于",["$","code",null,{"children":"fetchStart"}],"属性的值。 ",["$","code",null,{"children":"connectStart"}],"：返回",["$","code",null,{"children":"HTTP"}],"请求开始向服务器发送时的",["$","code",null,{"children":"Unix"}],"毫秒时间戳。如果使用持久连接（",["$","code",null,{"children":"persistent connection"}],"），则返回值等同于",["$","code",null,{"children":"fetchStart"}],"属性的值。 ",["$","code",null,{"children":"connectEnd"}],"：返回浏览器与服务器之间的连接建立时的",["$","code",null,{"children":"Unix"}],"毫秒时间戳。如果建立的是持久连接，则返回值等同于",["$","code",null,{"children":"fetchStart"}],"属性的值。连接建立指的是所有握手和认证过程全部结束。 ",["$","code",null,{"children":"secureConnectionStart"}],"：返回浏览器与服务器开始安全链接的握手时的",["$","code",null,{"children":"Unix"}],"毫秒时间戳。如果当前网页不要求安全连接，则返回0。 ",["$","code",null,{"children":"requestStart"}],"：返回浏览器向服务器发出",["$","code",null,{"children":"HTTP"}],"请求时（或开始读取本地缓存时）",["$","code",null,{"children":"的Unix"}],"毫秒时间戳。 ",["$","code",null,{"children":"responseStart"}],"：返回浏览器从服务器收到（或从本地缓存读取）第一个字节时的",["$","code",null,{"children":"Unix"}],"毫秒时间戳。 ",["$","code",null,{"children":"responseEnd"}],"：返回浏览器从服务器收到（或从本地缓存读取）最后一个字节时（如果在此之前",["$","code",null,{"children":"HTTP"}],"连接已经关闭，则返回关闭时）的",["$","code",null,{"children":"Unix"}],"毫秒时间戳。 ",["$","code",null,{"children":"domLoading"}],"：返回当前网页",["$","code",null,{"children":"DOM"}],"结构开始解析时（即",["$","code",null,{"children":"Document.readyState"}],"属性变为 ",["$","code",null,{"children":"“loading” "}],"、相应的",["$","code",null,{"children":"readystatechange"}],"事件触发时）的",["$","code",null,{"children":"Unix"}],"毫秒时间戳。 ",["$","code",null,{"children":"domInteractive"}],"：返回当前网页",["$","code",null,{"children":"DOM"}],"结构结束解析、开始加载内嵌资源时（即",["$","code",null,{"children":"Document.readyState"}],"属性变为",["$","code",null,{"children":"“interactive”"}],"、相应的readystatechange事件触发时）的",["$","code",null,{"children":"Unix"}],"毫秒时间戳。 ",["$","code",null,{"children":"domContentLoadedEventStart"}],"：返回当前网页",["$","code",null,{"children":"DOMContentLoaded"}],"事件发生时（即",["$","code",null,{"children":"DOM"}],"结构解析完毕、所有脚本开始运行时）的",["$","code",null,{"children":"Unix"}],"毫秒时间戳。 ",["$","code",null,{"children":"domContentLoadedEventEnd"}],"：返回当前网页所有需要执行的脚本执行完成时的",["$","code",null,{"children":"Unix"}],"毫秒时间戳。 ",["$","code",null,{"children":"domComplete"}],"：返回当前网页",["$","code",null,{"children":"DOM"}],"结构生成时（即",["$","code",null,{"children":"Document.readyState"}],"属性变为",["$","code",null,{"children":"“complete”"}],"，以及相应的",["$","code",null,{"children":"readystatechange"}],"事件发生时）的",["$","code",null,{"children":"Unix"}],"毫秒时间戳。 ",["$","code",null,{"children":"loadEventStart"}],"：返回当前网页",["$","code",null,{"children":"load"}],"事件的回调函数开始时的",["$","code",null,{"children":"Unix"}],"毫秒时间戳。如果该事件还没有发生，返回",["$","code",null,{"children":"0"}],"。 ",["$","code",null,{"children":"loadEventEnd"}],"：返回当前网页",["$","code",null,{"children":"load"}],"事件的回调函数运行结束时的",["$","code",null,{"children":"Unix"}],"毫秒时间戳。如果该事件还没有发生，返回",["$","code",null,{"children":"0"}],"。 根据上面这些属性，可以计算出网页加载各个阶段的耗时。比如，网页加载整个过程的耗时的计算方法如下："]}],["$","$L16",null,{"className":"language-js","children":["$","code",null,{"className":"language-js code-highlight","children":[["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword","children":"var"}]," t ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token dom variable","children":"performance"}],["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access","children":"timing"}],["$","span",null,{"className":"token punctuation","children":";"}]," \n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword","children":"var"}]," pageLoadTime ",["$","span",null,{"className":"token operator","children":"="}]," t",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access","children":"loadEventEnd"}]," ",["$","span",null,{"className":"token operator","children":"-"}]," t",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access","children":"navigationStart"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}]]}]}],["$","p",null,{"children":["重定向次数：",["$","code",null,{"children":"performance.navigation.redirectCount"}]," 重定向耗时: ",["$","code",null,{"children":"redirectEnd - redirectStart"}]," ",["$","code",null,{"children":"DNS"}]," 解析耗时: ",["$","code",null,{"children":"domainLookupEnd - domainLookupStart"}]," ",["$","code",null,{"children":"TCP"}]," 连接耗时: ",["$","code",null,{"children":"connectEnd - connectStart"}]," ",["$","code",null,{"children":"SSL"}]," 安全连接耗时: ",["$","code",null,{"children":"connectEnd - secureConnectionStart"}]," 网络请求耗时 ",["$","code",null,{"children":"(TTFB)"}],": ",["$","code",null,{"children":"responseStart - requestStart"}]," 数据传输耗时: ",["$","code",null,{"children":"responseEnd - responseStart"}]," ",["$","code",null,{"children":"DOM"}]," 解析耗时: ",["$","code",null,{"children":"domInteractive - responseEnd"}]," 资源加载耗时:",["$","code",null,{"children":"loadEventStart - domContentLoadedEventEnd"}]," 首包时间: ",["$","code",null,{"children":"responseStart - domainLookupStart"}]," 白屏时间: ",["$","code",null,{"children":"responseEnd - fetchStart"}]," 首次可交互时间: ",["$","code",null,{"children":"domInteractive - fetchStart"}]," DOM Ready 时间: ",["$","code",null,{"children":"domContentLoadEventEnd - fetchStart"}]," 页面完全加载时间: ",["$","code",null,{"children":"loadEventStart - fetchStart"}]," http 头部大小： ",["$","code",null,{"children":"transferSize - encodedBodySize"}]," 2. ",["$","code",null,{"children":"performance.now()"}]," 返回当前网页自从",["$","code",null,{"children":"performance.timing.navigationStart"}],"到当前时间之间的毫秒数。"]}],["$","$L16",null,{"className":"language-js","children":["$","code",null,{"className":"language-js code-highlight","children":[["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token dom variable","children":"performance"}],["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access function method","children":"now"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token punctuation","children":")"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token comment","children":"//61919.05499999848"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token class-name known-class-name","children":"Date"}],["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access function method","children":"now"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token punctuation","children":")"}]," ",["$","span",null,{"className":"token operator","children":"-"}]," ",["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token dom variable","children":"performance"}],["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access","children":"timing"}],["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access","children":"navigationStart"}]," ",["$","span",null,{"className":"token operator","children":"+"}]," ",["$","span",null,{"className":"token dom variable","children":"performance"}],["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access function method","children":"now"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":")"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token comment","children":"//-0.965087890625"}],"\n"]}]]}]}],["$","p",null,{"children":[["$","code",null,{"children":"performance.timing.navigationStart"}],"加上",["$","code",null,{"children":"performance.now()"}],"，近似等于",["$","code",null,{"children":"Date.now()"}],"。但是，由于",["$","code",null,{"children":"performance.now()"}],"带有小数，因此精度更高。 通过两次调用",["$","code",null,{"children":"performance.now()"}],"方法，可以得到间隔的准确时间，用来衡量某种操作的耗时。"]}],["$","$L16",null,{"className":"language-js","children":["$","code",null,{"className":"language-js code-highlight","children":[["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword","children":"var"}]," start ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token dom variable","children":"performance"}],["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access function method","children":"now"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword control-flow","children":"for"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token keyword","children":"let"}]," i ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token number","children":"0"}],["$","span",null,{"className":"token punctuation","children":";"}]," i ",["$","span",null,{"className":"token operator","children":"<"}]," ",["$","span",null,{"className":"token number","children":"1000"}],["$","span",null,{"className":"token punctuation","children":";"}]," i",["$","span",null,{"className":"token operator","children":"++"}],["$","span",null,{"className":"token punctuation","children":")"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token keyword","children":"var"}]," end ",["$","span",null,{"className":"token operator","children":"="}]," ",["$","span",null,{"className":"token dom variable","children":"performance"}],["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access function method","children":"now"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":"\n"}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token class-name console","children":"console"}],["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access function method","children":"log"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token string","children":"'耗时：'"}]," ",["$","span",null,{"className":"token operator","children":"+"}]," ",["$","span",null,{"className":"token punctuation","children":"("}],"end ",["$","span",null,{"className":"token operator","children":"-"}]," start",["$","span",null,{"className":"token punctuation","children":")"}]," ",["$","span",null,{"className":"token operator","children":"+"}]," ",["$","span",null,{"className":"token string","children":"'毫秒。'"}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token comment","children":"//耗时：0.029999995604157448毫秒。"}],"\n"]}]]}]}],["$","ol",null,{"start":"3","children":["$","li",null,{"children":[["$","code",null,{"children":"performance.mark()"}]," ",["$","code",null,{"children":"mark"}],"方法用于为相应的视点做标记。"]}]}],["$","$L16",null,{"className":"language-js","children":["$","code",null,{"className":"language-js code-highlight","children":[["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token dom variable","children":"window"}],["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access","children":"performance"}],["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access function method","children":"mark"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token string","children":"'mark1'"}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token dom variable","children":"window"}],["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access","children":"performance"}],["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access function method","children":"mark"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token string","children":"'mark2'"}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token dom variable","children":"window"}],["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access","children":"performance"}],["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access function method","children":"getEntriesByType"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token string","children":"'mark'"}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}]]}]}],["$","p",null,{"children":[["$","code",null,{"children":"clearMarks"}],"方法用于清除标记，如果不加参数，就表示清除所有标记。"]}],["$","$L16",null,{"className":"language-js","children":["$","code",null,{"className":"language-js code-highlight","children":[["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token dom variable","children":"window"}],["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access","children":"peformance"}],["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access function method","children":"clearMarks"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token string","children":"'mark1'"}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token dom variable","children":"window"}],["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access","children":"performance"}],["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access function method","children":"clearMarks"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":";"}],"\n"]}]]}]}],["$","ol",null,{"start":"4","children":["$","li",null,{"children":[["$","code",null,{"children":"performance.getEntries()"}]," 浏览器获取网页时，会对网页中每一个对象（脚本文件、样式表、图片文件等等）发出一个",["$","code",null,{"children":"HTTP"}],"请求。",["$","code",null,{"children":"performance.getEntries"}],"方法以数组形式，返回这些请求的时间统计信息，有多少个请求，返回数组就会有多少个成员。"]}]}],["$","$L16",null,{"className":"language-js","children":["$","code",null,{"className":"language-js code-highlight","children":[["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token dom variable","children":"window"}],["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access","children":"performance"}],["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access function method","children":"getEntries"}],["$","span",null,{"className":"token punctuation","children":"("}],["$","span",null,{"className":"token punctuation","children":")"}],["$","span",null,{"className":"token punctuation","children":"["}],["$","span",null,{"className":"token number","children":"0"}],["$","span",null,{"className":"token punctuation","children":"]"}],["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access","children":"duration"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token comment","children":"// 1567.8199999965727"}],"\n"]}]]}]}],["$","ol",null,{"start":"5","children":["$","li",null,{"children":[["$","code",null,{"children":"performance.navigation"}],"对象 除了时间信息，",["$","code",null,{"children":"performance"}],"还可以提供一些用户行为信息，主要都存放在",["$","code",null,{"children":"performance.navigation"}],"对象上面。"]}]}],["$","$L16",null,{"className":"language-js","children":["$","code",null,{"className":"language-js code-highlight","children":["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token maybe-class-name","children":"PerformanceNavigation"}]," ",["$","span",null,{"className":"token punctuation","children":"{"}],["$","span",null,{"className":"token literal-property property","children":"type"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token number","children":"1"}],["$","span",null,{"className":"token punctuation","children":","}]," ",["$","span",null,{"className":"token literal-property property","children":"redirectCount"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token number","children":"0"}],["$","span",null,{"className":"token punctuation","children":"}"}],"\n"]}]}]}],["$","p",null,{"children":["(1) ",["$","code",null,{"children":"performance.navigation.type"}]," 该属性返回一个整数值，表示网页的加载来源，可能有以下",["$","code",null,{"children":"4"}],"种情况： ",["$","code",null,{"children":"0"}],"：网页通过点击链接、地址栏输入、表单提交、脚本操作等方式加载，相当于常数",["$","code",null,{"children":"performance.navigation.TYPE_NAVIGATENEXT"}],"。 ",["$","code",null,{"children":"1"}],"：网页通过“重新加载”按钮或者",["$","code",null,{"children":"location.reload()"}],"方法加载，相当于常数",["$","code",null,{"children":"performance.navigation.TYPE_RELOAD"}],"。 ",["$","code",null,{"children":"2"}],"：网页通过“前进”或“后退”按钮加载，相当于常数",["$","code",null,{"children":"performance.navigation.TYPE_BACK_FORWARD"}],"。 ",["$","code",null,{"children":"255"}],"：任何其他来源的加载，相当于常数",["$","code",null,{"children":"performance.navigation.TYPE_UNDEFINED"}],"。 (2) ",["$","code",null,{"children":"performance.navigation.redirectCount"}]," 该属性表示当前网页经过了多少次重定向跳转。 6. ",["$","code",null,{"children":"performance.memory"}]," 描述内存多少，是在",["$","code",null,{"children":"Chrome"}],"中添加的一个非标准属性。"]}],["$","$L16",null,{"className":"language-javascript","children":["$","code",null,{"className":"code-highlight language-javascript","children":[["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token literal-property property","children":"jsHeapSizeLimit"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token number","children":"2172649472"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token literal-property property","children":"totalJSHeapSize"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token number","children":"47238861"}],"\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token literal-property property","children":"usedJSHeapSize"}],["$","span",null,{"className":"token operator","children":":"}]," ",["$","span",null,{"className":"token number","children":"42139525"}],"\n"]}]]}]}],["$","p",null,{"children":[["$","code",null,{"children":"jsHeapSizeLimit"}],": 内存大小限制 ",["$","code",null,{"children":"totalJSHeapSize"}],": 可使用的内存 ",["$","code",null,{"children":"usedJSHeapSize"}],": ",["$","code",null,{"children":"JS"}],"对象(包括",["$","code",null,{"children":"V8"}],"引擎内部对象)占用的内存，不能大于",["$","code",null,{"children":"totalJSHeapSize"}],"，如果大于，有可能出现了内存泄漏 7. ",["$","code",null,{"children":"Chrome Devtools Performance"}]," ",["$","a",null,{"className":"break-words","target":"_blank","rel":"noopener noreferrer","href":"https://segmentfault.com/a/1190000011516068","children":"https://segmentfault.com/a/1190000011516068"}]," ",["$","img",null,{"alt":"image.png","src":"https://upload-images.jianshu.io/upload_images/4989175-0416b7b0aba9c588.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240"}]]}],["$","h2",null,{"className":"content-header","id":"三-react-profile","children":[["$","a",null,{"className":"break-words","href":"#三-react-profile","aria-hidden":"true","tabIndex":"-1","children":["$","span",null,{"className":"content-header-link","children":["$","svg",null,{"className":"h-5 linkicon w-5","fill":"currentColor","viewBox":"0 0 20 20","xmlns":"http://www.w3.org/2000/svg","children":[["$","path",null,{"d":"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z"}],["$","path",null,{"d":"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z"}]]}]}]}],"三. React Profile"]}],["$","ol",null,{"children":[["$","li",null,{"children":["开启高亮更新 ",["$","img",null,{"alt":"image.png","src":"https://upload-images.jianshu.io/upload_images/4989175-2fb15c64bac23271.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240"}]]}],["$","li",null,{"children":["查看性能数据 ",["$","img",null,{"alt":"image.png","src":"https://upload-images.jianshu.io/upload_images/4989175-9ce818caf5823f3a.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240"}]," 从概念上讲，",["$","code",null,{"children":"React"}]," 分两个阶段工作： (1) ",["$","code",null,{"children":"render"}],"(渲染)阶段，确定需要对",["$","code",null,{"children":"DOM"}],"进行哪些更改。在此阶段，",["$","code",null,{"children":"React"}],"调用 ",["$","code",null,{"children":"render"}]," 方法，然后将结果与之前的渲染进行比较。 (2) ",["$","code",null,{"children":"commit"}],"(提交)阶段，是 ",["$","code",null,{"children":"React"}]," 做出任何更新的阶段。(对于 ",["$","code",null,{"children":"React DOM"}]," 来时，这是",["$","code",null,{"children":"React"}],"插入，更新和删除",["$","code",null,{"children":"DOM"}],"节点的时候。) ",["$","code",null,{"children":"React"}]," 也在这个阶段调用 ",["$","code",null,{"children":"componentDidMount"}]," 和 ",["$","code",null,{"children":"componentDidUpdate"}]," 等生命周期函数。 ",["$","code",null,{"children":"DevTools Profiler"}],"(分析器) 根据 ",["$","code",null,{"children":"commits"}],"(提交) 对性能信息进行分组。",["$","code",null,{"children":"commits"}],"(提交) 显示在靠近 ",["$","code",null,{"children":"Profiler"}],"(分析器) 顶部的条形图中。 每个条形图的颜色和高度对应于 ",["$","code",null,{"children":"commit"}],"(提交) 渲染所需的时间 （较高的黄色竖条比较短的蓝色竖条耗时更长）。"]}],["$","li",null,{"children":["过滤",["$","code",null,{"children":"commits"}]," ",["$","img",null,{"alt":"image.png","src":"https://upload-images.jianshu.io/upload_images/4989175-5a4fad55fed1da08.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240"}]]}],["$","li",null,{"children":["火焰图表（",["$","code",null,{"children":"Flame chart"}],"） 火焰图表视图表示特定 ",["$","code",null,{"children":"commits"}],"(提交) 对应的应用的状态。 图表中的每个横条代表一个 ",["$","code",null,{"children":"React"}]," 组件（例如 ",["$","code",null,{"children":"App"}]," ，",["$","code",null,{"children":"Nav"}]," ）。 横条的大小和颜色表示渲染组件及其子组件所需的时间。 （横条的宽度表示组件上次渲染时花费的时间，颜色表示当前 ",["$","code",null,{"children":"commits"}],"(提交) 部分所花费的时间。） ",["$","img",null,{"alt":"image.png","src":"https://upload-images.jianshu.io/upload_images/4989175-5b614359f1db81f2.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240"}]," 可以通过单击组件放大或缩小火焰图。"]}],["$","li",null,{"children":["排序图表（",["$","code",null,{"children":"Ranked chart"}],"） 排序图视图表示单个 ",["$","code",null,{"children":"commit"}]," 。 图表中的每个横条代表一个 ",["$","code",null,{"children":"React"}]," 组件。 对图表进行排序，以便渲染时间最长的组件位于顶部。 ",["$","img",null,{"alt":"image.png","src":"https://upload-images.jianshu.io/upload_images/4989175-5b21aae57f9a2a75.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240"}]]}]]}],["$","h2",null,{"className":"content-header","id":"四-监控工具","children":[["$","a",null,{"className":"break-words","href":"#四-监控工具","aria-hidden":"true","tabIndex":"-1","children":["$","span",null,{"className":"content-header-link","children":["$","svg",null,{"className":"h-5 linkicon w-5","fill":"currentColor","viewBox":"0 0 20 20","xmlns":"http://www.w3.org/2000/svg","children":[["$","path",null,{"d":"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z"}],["$","path",null,{"d":"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z"}]]}]}]}],"四. 监控工具"]}],["$","h3",null,{"className":"content-header","id":"合成监控","children":[["$","a",null,{"className":"break-words","href":"#合成监控","aria-hidden":"true","tabIndex":"-1","children":["$","span",null,{"className":"content-header-link","children":["$","svg",null,{"className":"h-5 linkicon w-5","fill":"currentColor","viewBox":"0 0 20 20","xmlns":"http://www.w3.org/2000/svg","children":[["$","path",null,{"d":"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z"}],["$","path",null,{"d":"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z"}]]}]}]}],"合成监控"]}],["$","ol",null,{"children":["$","li",null,{"children":[["$","code",null,{"children":"Lighthouse"}]," (1) ",["$","code",null,{"children":"chrome"}],"运行 ",["$","code",null,{"children":"Lighthouse"}],"是直接集成到",["$","code",null,{"children":"chrome"}],"开发者工具中的，位于",["$","code",null,{"children":"Audits"}],"面板下 ",["$","img",null,{"alt":"image.png","src":"https://upload-images.jianshu.io/upload_images/4989175-ab6116f30ddc0e9a.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240"}]," ",["$","img",null,{"alt":"image.png","src":"https://upload-images.jianshu.io/upload_images/4989175-7870b7d871109e4a.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240"}]," (2) 本地运行"]}]}],["$","$L16",null,{"className":"language-js","children":["$","code",null,{"className":"language-js code-highlight","children":[["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token operator","children":"~"}]," npm i ",["$","span",null,{"className":"token operator","children":"-"}],"g lighthouse\n"]}],["$","span",null,{"className":"code-line","children":[["$","span",null,{"className":"token operator","children":"~"}]," lighthouse http",["$","span",null,{"className":"token operator","children":":"}],["$","span",null,{"className":"token operator","children":"/"}],["$","span",null,{"className":"token operator","children":"/"}],"secure",["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access","children":"finedevelop"}],["$","span",null,{"className":"token punctuation","children":"."}],["$","span",null,{"className":"token property-access","children":"com"}],["$","span",null,{"className":"token operator","children":":"}],["$","span",null,{"className":"token number","children":"65081"}],["$","span",null,{"className":"token operator","children":"/"}],"webroot",["$","span",null,{"className":"token operator","children":"/"}],"decision",["$","span",null,{"className":"token operator","children":"/"}],"url",["$","span",null,{"className":"token operator","children":"/"}],"mobile\n"]}]]}]}],["$","ol",null,{"start":"2","children":[["$","li",null,{"children":[["$","code",null,{"children":"PageSpeed"}]," ",["$","a",null,{"className":"break-words","target":"_blank","rel":"noopener noreferrer","href":"https://developers.google.com/speed/pagespeed/insights/","children":"https://developers.google.com/speed/pagespeed/insights/"}]," ",["$","img",null,{"alt":"image.png","src":"https://upload-images.jianshu.io/upload_images/4989175-d18734d173ca1502.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/440"}]]}],["$","li",null,{"children":[["$","code",null,{"children":"WebPageTest"}]," ",["$","a",null,{"className":"break-words","target":"_blank","rel":"noopener noreferrer","href":"https://www.webpagetest.org/","children":"https://www.webpagetest.org/"}]," ",["$","img",null,{"alt":"image.png","src":"https://upload-images.jianshu.io/upload_images/4989175-6215fc69c9f9f368.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240"}]]}]]}],["$","p",null,{"children":[["$","img",null,{"alt":"image.png","src":"https://upload-images.jianshu.io/upload_images/4989175-ffc5e3ce3ccc261c.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240"}]," 注释：关注",["$","code",null,{"children":"Start Render"}],"、",["$","code",null,{"children":"First Contentful Paint"}],"、",["$","code",null,{"children":"Speed Index"}],"等性能指标。"]}],["$","h3",null,{"className":"content-header","id":"真实用户监控","children":[["$","a",null,{"className":"break-words","href":"#真实用户监控","aria-hidden":"true","tabIndex":"-1","children":["$","span",null,{"className":"content-header-link","children":["$","svg",null,{"className":"h-5 linkicon w-5","fill":"currentColor","viewBox":"0 0 20 20","xmlns":"http://www.w3.org/2000/svg","children":[["$","path",null,{"d":"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z"}],["$","path",null,{"d":"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z"}]]}]}]}],"真实用户监控"]}],["$","h2",null,{"className":"content-header","id":"参考资料","children":[["$","a",null,{"className":"break-words","href":"#参考资料","aria-hidden":"true","tabIndex":"-1","children":["$","span",null,{"className":"content-header-link","children":["$","svg",null,{"className":"h-5 linkicon w-5","fill":"currentColor","viewBox":"0 0 20 20","xmlns":"http://www.w3.org/2000/svg","children":[["$","path",null,{"d":"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z"}],["$","path",null,{"d":"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z"}]]}]}]}],"参考资料"]}],["$","p",null,{"children":[["$","a",null,{"className":"break-words","target":"_blank","rel":"noopener noreferrer","href":"http://www.alloyteam.com/2020/01/14184/","title":"如何进行 web 性能监控？","children":"如何进行 web 性能监控？"}]," ",["$","a",null,{"className":"break-words","target":"_blank","rel":"noopener noreferrer","href":"https://zhuanlan.zhihu.com/p/20276064","children":"RAIL，以用户为核心的性能模型"}]," ",["$","a",null,{"className":"break-words","target":"_blank","rel":"noopener noreferrer","href":"https://javascript.ruanyifeng.com/bom/performance.html","children":"Performance API"}]," ",["$","a",null,{"className":"break-words","target":"_blank","rel":"noopener noreferrer","href":"https://segmentfault.com/a/1190000011516068","children":"全新Chrome Devtools Performance使用指南"}]," ",["$","a",null,{"className":"break-words","target":"_blank","rel":"noopener noreferrer","href":"https://juejin.im/post/5d06bf0a51882528194a9736#react-devtool-%E7%9A%84-interactions","children":"React性能测量和分析"}]]}]]}],["$","div",null,{"className":"pt-6 pb-6 text-center text-gray-700 dark:text-gray-300","id":"comment","children":["$","$L17",null,{"slug":"JavaScript/web前端性能监控"}]}],["$","footer",null,{"children":["$","div",null,{"className":"flex flex-col text-sm font-medium sm:flex-row sm:justify-between sm:text-base","children":[["$","div",null,{"className":"pt-4 xl:pt-8","children":["$","$L5",null,{"className":"text-primary-500 hover:text-primary-600 dark:hover:text-primary-400","href":"/blog/Python/Python-Web---Django开发与项目实战","aria-label":"Previous post: Python-Web---Django开发与项目实战","children":["← ","Python-Web---Django开发与项目实战"]}]}],["$","div",null,{"className":"pt-4 xl:pt-8","children":["$","$L5",null,{"className":"text-primary-500 hover:text-primary-600 dark:hover:text-primary-400","href":"/blog/React/React中使用Canvas","aria-label":"Next post: React中使用Canvas","children":["React中使用Canvas"," →"]}]}]]}]}]]}]}]]}]]
10:[["$","meta","0",{"charSet":"utf-8"}],["$","meta","1",{"name":"viewport","content":"width=device-width, initial-scale=1"}]]
d:null
e:null
12:[["$","title","0",{"children":"web前端性能监控 | 我的博客"}],["$","meta","1",{"name":"description","content":"web前端性能监控相关文章"}],["$","meta","2",{"name":"robots","content":"index, follow"}],["$","meta","3",{"name":"googlebot","content":"index, follow, max-video-preview:-1, max-image-preview:large, max-snippet:-1"}],["$","link","4",{"rel":"canonical","href":"https://nmwei.github.io/blog/JavaScript/web%E5%89%8D%E7%AB%AF%E6%80%A7%E8%83%BD%E7%9B%91%E6%8E%A7"}],["$","link","5",{"rel":"alternate","type":"application/rss+xml","href":"https://nmwei.github.io/feed.xml"}],["$","meta","6",{"property":"og:title","content":"web前端性能监控"}],["$","meta","7",{"property":"og:description","content":"web前端性能监控相关文章"}],["$","meta","8",{"property":"og:url","content":"https://nmwei.github.io/blog/JavaScript/web%E5%89%8D%E7%AB%AF%E6%80%A7%E8%83%BD%E7%9B%91%E6%8E%A7"}],["$","meta","9",{"property":"og:site_name","content":"我的博客"}],["$","meta","10",{"property":"og:locale","content":"en_US"}],["$","meta","11",{"property":"og:image","content":"https://nmwei.github.io/static/images/javascript.jpg"}],["$","meta","12",{"property":"og:type","content":"article"}],["$","meta","13",{"property":"article:published_time","content":"2020-04-26T00:00:00.000Z"}],["$","meta","14",{"property":"article:modified_time","content":"2020-04-26T00:00:00.000Z"}],["$","meta","15",{"property":"article:author","content":"倪梦威"}],["$","meta","16",{"name":"twitter:card","content":"summary_large_image"}],["$","meta","17",{"name":"twitter:title","content":"web前端性能监控"}],["$","meta","18",{"name":"twitter:description","content":"web前端性能监控相关文章"}],["$","meta","19",{"name":"twitter:image","content":"https://nmwei.github.io/static/images/javascript.jpg"}]]
