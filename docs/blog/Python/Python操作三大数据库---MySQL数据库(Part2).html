<!DOCTYPE html><html lang="zh-cn" class="__variable_bc0dcf scroll-smooth"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="preload" href="/_next/static/media/7cba1811e3c25a15-s.p.woff2" as="font" crossorigin="" type="font/woff2"/><link rel="preload" as="image" href="https://upload-images.jianshu.io/upload_images/4989175-753684dc3be87f3f.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/860"/><link rel="preload" as="image" href="https://upload-images.jianshu.io/upload_images/4989175-b0a6fffa9d30c05b.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240"/><link rel="preload" as="image" href="https://upload-images.jianshu.io/upload_images/4989175-e19ad55a43b756b6.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240"/><link rel="preload" as="image" href="https://upload-images.jianshu.io/upload_images/4989175-b5baafa4f89b2616.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240"/><link rel="preload" as="image" href="https://upload-images.jianshu.io/upload_images/4989175-4645b632821214ac.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240"/><link rel="preload" as="image" href="https://upload-images.jianshu.io/upload_images/4989175-6371649fa676fabc.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240"/><link rel="preload" as="image" href="https://upload-images.jianshu.io/upload_images/4989175-a400da4f3965d1c8.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240"/><link rel="preload" as="image" href="https://upload-images.jianshu.io/upload_images/4989175-290f6f10e2f9cafd.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240"/><link rel="preload" as="image" href="https://upload-images.jianshu.io/upload_images/4989175-2539f4cc806c34e8.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240"/><link rel="preload" as="image" href="https://upload-images.jianshu.io/upload_images/4989175-973f4246d804e618.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240"/><link rel="stylesheet" href="/_next/static/css/f71128b9ac16cc11.css" data-precedence="next"/><link rel="stylesheet" href="/_next/static/css/5fa3e5bae12b17db.css" data-precedence="next"/><link rel="stylesheet" href="/_next/static/css/206c8cd9f1135cc1.css" data-precedence="next"/><link rel="preload" as="script" fetchPriority="low" href="/_next/static/chunks/webpack-af24fb31267d6e11.js"/><script src="/_next/static/chunks/4bd1b696-5100ffb4d6775e5e.js" async=""></script><script src="/_next/static/chunks/684-4bcfa8f1cbca4f10.js" async=""></script><script src="/_next/static/chunks/main-app-b9fbee67b30e93b9.js" async=""></script><script src="/_next/static/chunks/c16f53c3-5b47b7f1ae12d8f6.js" async=""></script><script src="/_next/static/chunks/874-7cca39d2e0ddd8b8.js" async=""></script><script src="/_next/static/chunks/430-27ea613f983ffbaf.js" async=""></script><script src="/_next/static/chunks/app/layout-4f2fc603b9b897e8.js" async=""></script><script src="/_next/static/chunks/63-2b4206848ffc60fb.js" async=""></script><script src="/_next/static/chunks/app/blog/%5B...slug%5D/page-28d33eed3f173442.js" async=""></script><link rel="preload" href="https://analytics.umami.is/script.js" as="script"/><link rel="preload" as="image" href="https://upload-images.jianshu.io/upload_images/4989175-5c80246c7cb0be6d.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240"/><link rel="preload" as="image" href="https://upload-images.jianshu.io/upload_images/4989175-2b326f7942d1196e.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240"/><link rel="preload" as="image" href="https://upload-images.jianshu.io/upload_images/4989175-2882388e470201b7.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240"/><link rel="preload" as="image" href="https://upload-images.jianshu.io/upload_images/4989175-6db246b11160e6e2.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240"/><link rel="preload" as="image" href="https://upload-images.jianshu.io/upload_images/4989175-5da8c1803d804712.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240"/><link rel="preload" as="image" href="https://upload-images.jianshu.io/upload_images/4989175-da315e2e69c22f49.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240"/><link rel="preload" as="image" href="https://upload-images.jianshu.io/upload_images/4989175-3cea58d301d04e54.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240"/><meta name="next-size-adjust" content=""/><link rel="apple-touch-icon" sizes="76x76" href="/static/favicons/apple-touch-icon.png"/><link rel="icon" type="image/png" sizes="32x32" href="/static/favicons/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="16x16" href="/static/favicons/favicon-16x16.png"/><link rel="manifest" href="/static/favicons/site.webmanifest"/><link rel="mask-icon" href="/static/favicons/safari-pinned-tab.svg" color="#5bbad5"/><meta name="msapplication-TileColor" content="#000000"/><meta name="theme-color" media="(prefers-color-scheme: light)" content="#fff"/><meta name="theme-color" media="(prefers-color-scheme: dark)" content="#000"/><link rel="alternate" type="application/rss+xml" href="/feed.xml"/><title>Python操作三大数据库---MySQL数据库(Part2) | 我的博客</title><meta name="description" content="Python操作三大数据库---MySQL数据库(Part2)相关文章"/><meta name="robots" content="index, follow"/><meta name="googlebot" content="index, follow, max-video-preview:-1, max-image-preview:large, max-snippet:-1"/><link rel="canonical" href="https://nmwei.github.io/blog/Python/Python%E6%93%8D%E4%BD%9C%E4%B8%89%E5%A4%A7%E6%95%B0%E6%8D%AE%E5%BA%93---MySQL%E6%95%B0%E6%8D%AE%E5%BA%93(Part2)"/><link rel="alternate" type="application/rss+xml" href="https://nmwei.github.io/feed.xml"/><meta property="og:title" content="Python操作三大数据库---MySQL数据库(Part2)"/><meta property="og:description" content="Python操作三大数据库---MySQL数据库(Part2)相关文章"/><meta property="og:url" content="https://nmwei.github.io/blog/Python/Python%E6%93%8D%E4%BD%9C%E4%B8%89%E5%A4%A7%E6%95%B0%E6%8D%AE%E5%BA%93---MySQL%E6%95%B0%E6%8D%AE%E5%BA%93(Part2)"/><meta property="og:site_name" content="我的博客"/><meta property="og:locale" content="en_US"/><meta property="og:image" content="https://nmwei.github.io/static/images/python.jpg"/><meta property="og:type" content="article"/><meta property="article:published_time" content="2020-01-03T00:00:00.000Z"/><meta property="article:modified_time" content="2020-01-03T00:00:00.000Z"/><meta property="article:author" content="倪梦威"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:title" content="Python操作三大数据库---MySQL数据库(Part2)"/><meta name="twitter:description" content="Python操作三大数据库---MySQL数据库(Part2)相关文章"/><meta name="twitter:image" content="https://nmwei.github.io/static/images/python.jpg"/><script src="/_next/static/chunks/polyfills-42372ed130431b0a.js" noModule=""></script></head><body class="bg-white pl-[calc(100vw-100%)] text-black antialiased dark:bg-gray-950 dark:text-white"><script>((e,t,r,n,o,i,a,l)=>{let u=document.documentElement,s=["light","dark"];function c(t){var r;(Array.isArray(e)?e:[e]).forEach(e=>{let r="class"===e,n=r&&i?o.map(e=>i[e]||e):o;r?(u.classList.remove(...n),u.classList.add(i&&i[t]?i[t]:t)):u.setAttribute(e,t)}),r=t,l&&s.includes(r)&&(u.style.colorScheme=r)}if(n)c(n);else try{let e=localStorage.getItem(t)||r,n=a&&"system"===e?window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":e;c(n)}catch(e){}})("class","theme","system",null,["light","dark"],null,true,true)</script><section class="mx-auto max-w-3xl px-4 sm:px-6 xl:max-w-5xl xl:px-0"><header class="flex items-center w-full bg-white dark:bg-gray-950 justify-between py-10"><a class="break-words" aria-label="我的博客" href="/"><div class="flex items-center justify-between"><div class="mr-3"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="53.87" height="43.61" viewBox="344.564 330.278 111.737 91.218"><defs><linearGradient id="logo_svg__b" x1="420.97" x2="420.97" y1="331.28" y2="418.5" gradientUnits="userSpaceOnUse"><stop offset="0%" style="stop-color:#06b6d4;stop-opacity:1"></stop><stop offset="100%" style="stop-color:#67e8f9;stop-opacity:1"></stop></linearGradient><linearGradient id="logo_svg__d" x1="377.89" x2="377.89" y1="331.28" y2="418.5" gradientUnits="userSpaceOnUse"><stop offset="0%" style="stop-color:#06b6d4;stop-opacity:1"></stop><stop offset="100%" style="stop-color:#67e8f9;stop-opacity:1"></stop></linearGradient><path id="logo_svg__a" d="M453.3 331.28v28.57l-64.66 58.65v-30.08z"></path><path id="logo_svg__c" d="M410.23 331.28v28.57l-64.67 58.65v-30.08z"></path></defs><use xlink:href="#logo_svg__a" fill="url(#logo_svg__b)"></use><use xlink:href="#logo_svg__c" fill="url(#logo_svg__d)"></use></svg></div><div class="hidden h-6 text-2xl font-semibold sm:block">我的博客</div></div></a><div class="flex items-center space-x-4 leading-5 sm:-mr-6 sm:space-x-6"><div class="no-scrollbar hidden max-w-40 items-center gap-x-4 overflow-x-auto sm:flex md:max-w-72 lg:max-w-96"><a class="hover:text-primary-500 dark:hover:text-primary-400 m-1 font-medium text-gray-900 dark:text-gray-100" href="/blog">博客</a><a class="hover:text-primary-500 dark:hover:text-primary-400 m-1 font-medium text-gray-900 dark:text-gray-100" href="/tags">标签</a><a class="hover:text-primary-500 dark:hover:text-primary-400 m-1 font-medium text-gray-900 dark:text-gray-100" href="/projects">项目</a><a class="hover:text-primary-500 dark:hover:text-primary-400 m-1 font-medium text-gray-900 dark:text-gray-100" href="/about">关于</a></div><button aria-label="Search"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="hover:text-primary-500 dark:hover:text-primary-400 h-6 w-6 text-gray-900 dark:text-gray-100"><path stroke-linecap="round" stroke-linejoin="round" d="M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"></path></svg></button><div class="flex items-center"><div class="relative inline-block text-left" data-headlessui-state=""><div class="hover:text-primary-500 dark:hover:text-primary-400 flex items-center justify-center"><button aria-label="Theme switcher" id="headlessui-menu-button-«Rtpkqlb»" type="button" aria-haspopup="menu" aria-expanded="false" data-headlessui-state=""><svg class="h-6 w-6"></svg></button></div></div></div><button aria-label="Toggle Menu" class="sm:hidden"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="hover:text-primary-500 dark:hover:text-primary-400 h-8 w-8 text-gray-900 dark:text-gray-100"><path fill-rule="evenodd" d="M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z" clip-rule="evenodd"></path></svg></button><span hidden="" style="position:fixed;top:1px;left:1px;width:1px;height:0;padding:0;margin:-1px;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border-width:0;display:none"></span></div></header><main class="mb-auto"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","headline":"Python操作三大数据库---MySQL数据库(Part2)","datePublished":"2020-01-03T00:00:00.000Z","dateModified":"2020-01-03T00:00:00.000Z","description":"Python操作三大数据库---MySQL数据库(Part2)相关文章","image":"/static/images/python.jpg","url":"https://nmwei.github.io/blog/Python/Python操作三大数据库---MySQL数据库(Part2)","author":[{"@type":"Person","name":"倪梦威"}]}</script><section class="mx-auto max-w-3xl px-4 sm:px-6 xl:max-w-5xl xl:px-0"><div class="fixed right-8 bottom-8 hidden flex-col gap-3 md:hidden"><button aria-label="Scroll To Comment" class="rounded-full bg-gray-200 p-2 text-gray-500 transition-all hover:bg-gray-300 dark:bg-gray-700 dark:text-gray-400 dark:hover:bg-gray-600"><svg class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M18 10c0 3.866-3.582 7-8 7a8.841 8.841 0 01-4.083-.98L2 17l1.338-3.123C2.493 12.767 2 11.434 2 10c0-3.866 3.582-7 8-7s8 3.134 8 7zM7 9H5v2h2V9zm8 0h-2v2h2V9zM9 9h2v2H9V9z" clip-rule="evenodd"></path></svg></button><button aria-label="Scroll To Top" class="rounded-full bg-gray-200 p-2 text-gray-500 transition-all hover:bg-gray-300 dark:bg-gray-700 dark:text-gray-400 dark:hover:bg-gray-600"><svg class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M3.293 9.707a1 1 0 010-1.414l6-6a1 1 0 011.414 0l6 6a1 1 0 01-1.414 1.414L11 5.414V17a1 1 0 11-2 0V5.414L4.707 9.707a1 1 0 01-1.414 0z" clip-rule="evenodd"></path></svg></button></div><article><div class="xl:divide-y xl:divide-gray-200 xl:dark:divide-gray-700"><header class="pt-6 xl:pb-6"><div class="space-y-1 text-center"><dl class="space-y-10"><div><dt class="sr-only">Published on</dt><dd class="text-base leading-6 font-medium text-gray-500 dark:text-gray-400"><time dateTime="2020-01-03T00:00:00.000Z">2020年1月3日星期五</time></dd></div></dl><div><h1 class="text-3xl leading-9 font-extrabold tracking-tight text-gray-900 sm:text-4xl sm:leading-10 md:text-5xl md:leading-14 dark:text-gray-100">Python操作三大数据库---MySQL数据库(Part2)</h1></div></div></header><div class="grid-rows-[auto_1fr] divide-y divide-gray-200 pb-8 xl:grid xl:grid-cols-4 xl:gap-x-6 xl:divide-y-0 dark:divide-gray-700"><dl class="pt-6 pb-10 xl:border-b xl:border-gray-200 xl:pt-11 xl:dark:border-gray-700"><dt class="sr-only">Authors</dt><dd><ul class="flex flex-wrap justify-center gap-4 sm:space-x-12 xl:block xl:space-y-8 xl:space-x-0"><li class="flex items-center space-x-2"><img alt="avatar" loading="lazy" width="38" height="38" decoding="async" data-nimg="1" class="h-10 w-10 rounded-full" style="color:transparent" src="/static/images/avatar.png"/><dl class="text-sm leading-5 font-medium whitespace-nowrap"><dt class="sr-only">Name</dt><dd class="text-gray-900 dark:text-gray-100">倪梦威</dd><dt class="sr-only">Twitter</dt><dd></dd></dl></li></ul></dd></dl><div class="divide-y divide-gray-200 xl:col-span-3 xl:row-span-2 xl:pb-0 dark:divide-gray-700"><div class="prose dark:prose-invert max-w-none pt-10 pb-8"><h1 class="content-header" id="1-mysql的基本操作"><a class="break-words" href="#1-mysql的基本操作" aria-hidden="true" tabindex="-1"><span class="content-header-link"><svg class="h-5 linkicon w-5" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z"></path><path d="M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z"></path></svg></span></a>1. MySQL的基本操作</h1><h2 class="content-header" id="11-介绍"><a class="break-words" href="#11-介绍" aria-hidden="true" tabindex="-1"><span class="content-header-link"><svg class="h-5 linkicon w-5" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z"></path><path d="M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z"></path></svg></span></a>1.1 介绍</h2><ol><li>数据添加 <code>INSERT</code>语法、<code>INSERT</code>方言语法、<code>INSERT</code>子查询、<code>IGNORE</code>关键字。</li><li>数据修改 <code>UPDATE</code>语法、<code>UPDATE</code>表连接</li><li>数据删除 <code>DELETE</code>语法、<code>DELETE</code>表连接</li></ol><h2 class="content-header" id="12-数据插入操作"><a class="break-words" href="#12-数据插入操作" aria-hidden="true" tabindex="-1"><span class="content-header-link"><svg class="h-5 linkicon w-5" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z"></path><path d="M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z"></path></svg></span></a>1.2 数据插入操作</h2><ol><li><code>INSERT</code>语句 <code>INSERT</code>语句可以向数据表写入记录，可以是一条记录，也可以是多条记录。 <code>INSERT INTO 表名(字段1,字段2, ...) VALUES(值1,值2,...);</code> <code>INSERT INTO 表名(字段1,字段2, ...) VALUES(值1,值2,...), (值1,值2,...);</code> 例如：向部门表插入新的部门</li></ol><div class="relative"><pre><code class="language-js code-highlight"><span class="code-line"><span class="token constant">INSERT</span> <span class="token constant">INTO</span> <span class="token function">t_dept</span><span class="token punctuation">(</span>deptno<span class="token punctuation">,</span> dname<span class="token punctuation">,</span> loc<span class="token punctuation">)</span>
</span><span class="code-line"><span class="token constant">VALUES</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">,</span> <span class="token string">&quot;技术部&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;北京&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token constant">INSERT</span> <span class="token constant">INTO</span> <span class="token function">t_dept</span><span class="token punctuation">(</span>deptno<span class="token punctuation">,</span> dname<span class="token punctuation">,</span> loc<span class="token punctuation">)</span>
</span><span class="code-line"><span class="token constant">VALUES</span><span class="token punctuation">(</span><span class="token number">60</span><span class="token punctuation">,</span> <span class="token string">&quot;后勤部&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;北京&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">70</span><span class="token punctuation">,</span> <span class="token string">&quot;保安部&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;北京&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></code></pre></div><p>注意：不声明字段名称也可以写入数据，不过会降低写入效率。 2. <code>INSERT</code>插入字段可以有子查询，但子查询的结果必须是单行记录，并且子查询返回的字段必须只有一个。 例如：向技术部添加一名员工记录</p><div class="relative"><pre><code class="language-js code-highlight"><span class="code-line"><span class="token constant">INSERT</span> <span class="token constant">INTO</span> <span class="token function">t_emp</span>
</span><span class="code-line"><span class="token punctuation">(</span>empno<span class="token punctuation">,</span> ename<span class="token punctuation">,</span> job<span class="token punctuation">,</span> mgr<span class="token punctuation">,</span> hiredate<span class="token punctuation">,</span> sal<span class="token punctuation">,</span> comm<span class="token punctuation">,</span> deptno<span class="token punctuation">)</span>
</span><span class="code-line"><span class="token constant">VALUES</span><span class="token punctuation">(</span><span class="token number">8081</span><span class="token punctuation">,</span> <span class="token string">&quot;刘娜&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;SALESMAN&quot;</span><span class="token punctuation">,</span> <span class="token number">8000</span><span class="token punctuation">,</span> <span class="token string">&quot;1988-12-21&quot;</span><span class="token punctuation">,</span> <span class="token number">2000</span><span class="token punctuation">,</span> <span class="token constant">NULL</span><span class="token punctuation">,</span> 
</span><span class="code-line"><span class="token punctuation">(</span><span class="token constant">SELECT</span> deptno <span class="token constant">FROM</span> t_dept  <span class="token constant">WHERE</span> dname <span class="token operator">=</span> <span class="token string">&quot;技术部&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></code></pre></div><ol start="3"><li><code>INSERT</code>语句方言 方言：只能在<code>MySQL</code>数据库上执行的<code>SQL</code>语法,不具备通用性。 <code>INSERT [INTO] 表名 SET 字段1=值1, 字段2=值2, ...;</code> 其中，<code>INTO</code>关键字可以省略。</li></ol><div class="relative"><pre><code class="language-js code-highlight"><span class="code-line"><span class="token constant">INSERT</span> <span class="token constant">INTO</span> t_emp 
</span><span class="code-line"><span class="token constant">SET</span> empno<span class="token operator">=</span><span class="token number">8002</span><span class="token punctuation">,</span> ename<span class="token operator">=</span><span class="token string">&quot;Jake&quot;</span><span class="token punctuation">,</span> job<span class="token operator">=</span><span class="token string">&quot;SALESMAN&quot;</span><span class="token punctuation">,</span> mgr<span class="token operator">=</span><span class="token number">8000</span><span class="token punctuation">,</span>
</span><span class="code-line">hiredate<span class="token operator">=</span><span class="token string">&quot;1985-12-21&quot;</span><span class="token punctuation">,</span>sal<span class="token operator">=</span><span class="token number">2500</span><span class="token punctuation">,</span>comm<span class="token operator">=</span><span class="token constant">NULL</span><span class="token punctuation">,</span> deptno<span class="token operator">=</span><span class="token number">50</span><span class="token punctuation">;</span>
</span></code></pre></div><ol start="4"><li><code>IGNORE</code>关键字 插入多条数据时，如果与现有的记录产生主键冲突或唯一值冲突，写入报错，导致一条记录也写不进去。使用<code>IGNORE</code>关键字会让<code>INSERT</code>忽略冲突的数据，只插入没有冲突的数据。 <code>INSERT [IGNORE] INTO 表名 ...;</code></li></ol><div class="relative"><pre><code class="language-js code-highlight"><span class="code-line"><span class="token constant">INSERT</span> <span class="token constant">INTO</span> <span class="token function">t_dept</span><span class="token punctuation">(</span>deptno<span class="token punctuation">,</span> dname<span class="token punctuation">,</span> loc<span class="token punctuation">)</span>
</span><span class="code-line"><span class="token constant">VALUES</span><span class="token punctuation">(</span><span class="token number">60</span><span class="token punctuation">,</span> <span class="token string">&quot;A&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;北京&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">80</span><span class="token punctuation">,</span> <span class="token string">&quot;B&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;上海&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token operator">--</span> <span class="token number">1062</span> <span class="token operator">-</span> <span class="token maybe-class-name">Duplicate</span> entry <span class="token string">&#x27;60&#x27;</span> <span class="token keyword control-flow">for</span> key <span class="token string">&#x27;PRIMARY&#x27;</span><span class="token punctuation">,</span> <span class="token property literal-property">Time</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">.</span>012000s
</span><span class="code-line">
</span><span class="code-line"><span class="token constant">INSERT</span> <span class="token constant">IGNORE</span> <span class="token constant">INTO</span> <span class="token function">t_dept</span><span class="token punctuation">(</span>deptno<span class="token punctuation">,</span> dname<span class="token punctuation">,</span> loc<span class="token punctuation">)</span>
</span><span class="code-line"><span class="token constant">VALUES</span><span class="token punctuation">(</span><span class="token number">60</span><span class="token punctuation">,</span> <span class="token string">&quot;A&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;北京&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">80</span><span class="token punctuation">,</span> <span class="token string">&quot;B&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;上海&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token operator">--</span> <span class="token maybe-class-name">Affected</span> rows<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token property literal-property">Time</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">.</span>036000s
</span></code></pre></div><h2 class="content-header" id="13-数据更新操作"><a class="break-words" href="#13-数据更新操作" aria-hidden="true" tabindex="-1"><span class="content-header-link"><svg class="h-5 linkicon w-5" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z"></path><path d="M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z"></path></svg></span></a>1.3 数据更新操作</h2><ol><li><code>UPDATE</code>语句 <code>UPDATE [IGNORE] 表名 SET 字段1=值1, 字段2=值2,...</code> <code>[WHERE 条件1 ...] [ORDER BY ...] [LIMIT ...];</code> 注意：<code>UPDATE</code>中的<code>LIMIT</code>子句只能写一个参数<code>LIMIT N</code>。不可以写<code>LIMIT N M</code>。</li><li>数据更新练习 (1) 把每个员工的编号和上司的编号<code>+1</code>,使用<code>ORDER BY</code>子句完成</li></ol><div class="relative"><pre><code class="language-js code-highlight"><span class="code-line"><span class="token constant">UPDATE</span> t_emp 
</span><span class="code-line"><span class="token constant">SET</span> empno<span class="token operator">=</span>empno<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">,</span> mgr<span class="token operator">=</span>mgr<span class="token operator">+</span><span class="token number">1</span> 
</span><span class="code-line"><span class="token constant">ORDER</span> <span class="token constant">BY</span> empno <span class="token constant">DESC</span><span class="token punctuation">;</span>
</span></code></pre></div><p>注意：需要使用<code>ORDER BY</code>子句降序，否则在<code>+1</code>的时候可能发生主键冲突。 (2) 把月收入前<code>3</code>名的员工底薪减<code>100</code>元，用<code>LIMIT</code>子句完成</p><div class="relative"><pre><code class="language-js code-highlight"><span class="code-line"><span class="token constant">UPDATE</span> t_emp 
</span><span class="code-line"><span class="token constant">SET</span> sal <span class="token operator">=</span> sal <span class="token operator">-</span> <span class="token number">100</span>
</span><span class="code-line"><span class="token constant">ORDER</span> <span class="token constant">BY</span> sal <span class="token operator">+</span> <span class="token constant">IFNULL</span><span class="token punctuation">(</span>comm<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token constant">DESC</span>
</span><span class="code-line"><span class="token constant">LIMIT</span> <span class="token number">3</span><span class="token punctuation">;</span>
</span></code></pre></div><p>(3) 把<code>10</code>部门中，工龄超过<code>20</code>年的员工，底薪增加<code>200</code>。</p><div class="relative"><pre><code class="language-js code-highlight"><span class="code-line"><span class="token constant">UPDATE</span> t_emp 
</span><span class="code-line"><span class="token constant">SET</span> sal <span class="token operator">=</span> sal <span class="token operator">+</span> <span class="token number">200</span>
</span><span class="code-line"><span class="token constant">WHERE</span> deptno <span class="token operator">=</span> <span class="token number">10</span> <span class="token constant">AND</span> <span class="token constant">DATEDIFF</span><span class="token punctuation">(</span><span class="token constant">NOW</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>hiredate<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">365</span> <span class="token operator">&gt;</span> <span class="token number">20</span><span class="token punctuation">;</span>
</span></code></pre></div><ol start="3"><li><code>UPDATE</code>语句的表连接 例如：把<code>ALLEN</code>调往<code>RESEARCH</code>部门，职务调整为<code>ANALYST</code></li></ol><p>(1) 相关子查询写法，效率非常低。</p><div class="relative"><pre><code class="language-js code-highlight"><span class="code-line"><span class="token constant">UPDATE</span> t_emp
</span><span class="code-line"><span class="token constant">SET</span> deptno <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token constant">SELECT</span> deptno <span class="token constant">FROM</span> t_dept <span class="token constant">WHERE</span> dname <span class="token operator">=</span> <span class="token string">&#x27;RESEARCH&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
</span><span class="code-line">job <span class="token operator">=</span> <span class="token string">&#x27;ANALYST&#x27;</span>
</span><span class="code-line"><span class="token constant">WHERE</span> ename <span class="token operator">=</span> <span class="token string">&#x27;ALLEN&#x27;</span><span class="token punctuation">;</span>
</span></code></pre></div><p>(2) 使用表连接来改造<code>UPDATE</code>语句 语法1：<code>UPDATE 表1 JOIN 表2 ON 条件 SET 字段1=值1, 字段2=值2, ...;</code> 语法2：<code>UPDATE 表1, 表2 WHERE 条件 SET 字段1=值1, 字段2=值2, ...;</code> 表连接的<code>UPDATE</code>语句可以修改多张表的记录。</p><div class="relative"><pre><code class="language-js code-highlight"><span class="code-line"><span class="token constant">UPDATE</span> t_emp e 
</span><span class="code-line"><span class="token constant">JOIN</span> t_dept d
</span><span class="code-line"><span class="token constant">SET</span> e<span class="token punctuation">.</span><span class="token property-access">deptno</span>  <span class="token operator">=</span> d<span class="token punctuation">.</span><span class="token property-access">deptno</span><span class="token punctuation">,</span> e<span class="token punctuation">.</span><span class="token property-access">job</span> <span class="token operator">=</span> <span class="token string">&#x27;ANALYST&#x27;</span><span class="token punctuation">,</span> d<span class="token punctuation">.</span><span class="token property-access">loc</span><span class="token operator">=</span><span class="token string">&#x27;北京&#x27;</span>
</span><span class="code-line"><span class="token constant">WHERE</span> e<span class="token punctuation">.</span><span class="token property-access">ename</span> <span class="token operator">=</span> <span class="token string">&#x27;ALLEN&#x27;</span> <span class="token constant">AND</span> d<span class="token punctuation">.</span><span class="token property-access">dname</span> <span class="token operator">=</span> <span class="token string">&#x27;RESEARCH&#x27;</span><span class="token punctuation">;</span>
</span></code></pre></div><p>注释：①<code>JOIN</code>表连接并没有写<code>ON</code>连接条件。②同时修改了两张表的数据。 4. 数据更新和数据删除时不推荐使用子查询的原因 (1) 子查询效率低 (2) 不允许对要更新或删除的数据做子查询 5. 把底薪低于公司平均底薪的员工，带薪增加<code>150</code>元</p><div class="relative"><pre><code class="language-js code-highlight"><span class="code-line"><span class="token constant">UPDATE</span> t_emp e1 
</span><span class="code-line"><span class="token constant">JOIN</span> <span class="token punctuation">(</span><span class="token constant">SELECT</span> <span class="token constant">AVG</span><span class="token punctuation">(</span>sal<span class="token punctuation">)</span> avg <span class="token constant">FROM</span> t_emp<span class="token punctuation">)</span> s
</span><span class="code-line"><span class="token constant">ON</span> e1<span class="token punctuation">.</span><span class="token property-access">sal</span> <span class="token operator">&lt;</span> s<span class="token punctuation">.</span><span class="token property-access">avg</span>
</span><span class="code-line"><span class="token constant">SET</span> e1<span class="token punctuation">.</span><span class="token property-access">sal</span> <span class="token operator">=</span> e1<span class="token punctuation">.</span><span class="token property-access">sal</span> <span class="token operator">+</span> <span class="token number">150</span><span class="token punctuation">;</span>
</span></code></pre></div><ol start="6"><li><code>UPDATE</code>语句的表连接既可以是内连接，又可以是外连接 例如：把没有部门的员工，或者<code>SALES</code>部门低于<code>2000</code>元底薪的员工，都调到<code>20</code>部门。</li></ol><div class="relative"><pre><code class="language-js code-highlight"><span class="code-line"><span class="token constant">UPDATE</span> t_emp e
</span><span class="code-line"><span class="token constant">LEFT</span> <span class="token constant">JOIN</span> t_dept d
</span><span class="code-line"><span class="token constant">ON</span> e<span class="token punctuation">.</span><span class="token property-access">deptno</span> <span class="token operator">=</span> d<span class="token punctuation">.</span><span class="token property-access">deptno</span>   
</span><span class="code-line"><span class="token constant">SET</span> e<span class="token punctuation">.</span><span class="token property-access">deptno</span> <span class="token operator">=</span> <span class="token number">20</span>
</span><span class="code-line"><span class="token constant">WHERE</span> e<span class="token punctuation">.</span><span class="token property-access">deptno</span> <span class="token constant">IS</span> <span class="token constant">NULL</span> <span class="token constant">OR</span> <span class="token punctuation">(</span>d<span class="token punctuation">.</span><span class="token property-access">dname</span> <span class="token operator">=</span> <span class="token string">&#x27;SALES&#x27;</span> <span class="token constant">AND</span> e<span class="token punctuation">.</span><span class="token property-access">sal</span> <span class="token operator">&lt;</span> <span class="token number">2000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></code></pre></div><p>注释：① 判断是否是<code>NULL</code>-<code> IS NULL</code>。② 如果不使用<code>LEFT JOIN</code>，则取不到没有部门的员工。</p><h2 class="content-header" id="14-数据删除"><a class="break-words" href="#14-数据删除" aria-hidden="true" tabindex="-1"><span class="content-header-link"><svg class="h-5 linkicon w-5" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z"></path><path d="M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z"></path></svg></span></a>1.4 数据删除</h2><ol><li><code>DELETE</code>语句用于删除记录 <code>DELETE [IGNORE] FROM 表名 [WHERE 条件1, 条件2...] [ORDER BY ...] [LIMIT ...];</code> 子句执行顺序：<code>FROM &gt; WHERE &gt; ORDER BY &gt; LIMIT &gt; DELETE</code></li><li><code>DELETE</code>语句练习 (1) 删除<code>10</code>部门中，工龄超过<code>20</code>年的员工记录</li></ol><div class="relative"><pre><code class="language-js code-highlight"><span class="code-line"><span class="token constant">DELETE</span> <span class="token constant">FROM</span> t_emp
</span><span class="code-line"><span class="token constant">WHERE</span> deptno <span class="token operator">=</span> <span class="token number">10</span> <span class="token constant">AND</span> <span class="token constant">DATEDIFF</span><span class="token punctuation">(</span><span class="token constant">NOW</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>hiredate<span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">365</span> <span class="token operator">&gt;=</span> <span class="token number">20</span><span class="token punctuation">;</span>
</span></code></pre></div><p>(2) 删除<code>20</code>部门中工资最高的员工记录</p><div class="relative"><pre><code class="language-js code-highlight"><span class="code-line"><span class="token constant">DELETE</span> <span class="token constant">FROM</span> t_emp 
</span><span class="code-line"><span class="token constant">WHERE</span> deptno <span class="token operator">=</span> <span class="token number">20</span> 
</span><span class="code-line"><span class="token constant">ORDER</span> <span class="token constant">BY</span> sal <span class="token operator">+</span> <span class="token constant">IFNULL</span><span class="token punctuation">(</span>comm<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token constant">DESC</span> 
</span><span class="code-line"><span class="token constant">LIMIT</span> <span class="token number">1</span><span class="token punctuation">;</span>
</span></code></pre></div><ol start="3"><li><code>DELETE</code>语句的表连接 <code>WHERE</code>语句中写子查询的效率很低，我们可以使用表连接改造<code>DELETE</code>语句。 <code>DELETE 表1, ... FROM 表1 JOIN 表2 ON 条件</code> <code>[WHERE 条件1, 条件2...] [ORDER BY ...] [LIMIT ...];</code></li><li><code>DELETE</code>语句表连接联系 (1) 删除<code>SALES</code>部门和该部门的全体员工记录</li></ol><div class="relative"><pre><code class="language-js code-highlight"><span class="code-line"><span class="token constant">DELETE</span> e<span class="token punctuation">,</span> d <span class="token constant">FROM</span> t_emp e <span class="token constant">JOIN</span> t_dept d 
</span><span class="code-line"><span class="token constant">ON</span> e<span class="token punctuation">.</span><span class="token property-access">deptno</span> <span class="token operator">=</span> d<span class="token punctuation">.</span><span class="token property-access">deptno</span>
</span><span class="code-line"><span class="token constant">WHERE</span> d<span class="token punctuation">.</span><span class="token property-access">dname</span> <span class="token operator">=</span> <span class="token string">&#x27;SALES&#x27;</span><span class="token punctuation">;</span>
</span></code></pre></div><p>(2) 删除每个低于部门平均底薪的员工记录</p><div class="relative"><pre><code class="language-js code-highlight"><span class="code-line"><span class="token constant">DELETE</span> e <span class="token constant">FROM</span> t_emp e
</span><span class="code-line"><span class="token constant">JOIN</span> <span class="token punctuation">(</span><span class="token constant">SELECT</span> deptno<span class="token punctuation">,</span> <span class="token constant">AVG</span><span class="token punctuation">(</span>sal<span class="token punctuation">)</span> sal <span class="token constant">FROM</span> t_emp <span class="token constant">GROUP</span> <span class="token constant">BY</span> deptno<span class="token punctuation">)</span> g
</span><span class="code-line"><span class="token constant">ON</span> e<span class="token punctuation">.</span><span class="token property-access">deptno</span> <span class="token operator">=</span> g<span class="token punctuation">.</span><span class="token property-access">deptno</span>
</span><span class="code-line"><span class="token constant">WHERE</span> e<span class="token punctuation">.</span><span class="token property-access">sal</span> <span class="token operator">&lt;</span> g<span class="token punctuation">.</span><span class="token property-access">sal</span><span class="token punctuation">;</span>
</span></code></pre></div><p>(3) 删除员工<code>KING</code>和他直接下属的员工记录，用表连接实现</p><div class="relative"><pre><code class="language-js code-highlight"><span class="code-line"><span class="token operator">--</span> 表连接写法<span class="token number">1</span>
</span><span class="code-line"><span class="token constant">DELETE</span> e1<span class="token punctuation">,</span> e2 <span class="token constant">FROM</span> t_emp e1 <span class="token constant">JOIN</span> t_emp e2
</span><span class="code-line"><span class="token constant">ON</span> e1<span class="token punctuation">.</span><span class="token property-access">ename</span> <span class="token operator">=</span> <span class="token string">&#x27;KING&#x27;</span> <span class="token constant">AND</span> e1<span class="token punctuation">.</span><span class="token property-access">empno</span> <span class="token operator">=</span> e2<span class="token punctuation">.</span><span class="token property-access">mgr</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token operator">--</span>表连接写法<span class="token number">2</span>
</span><span class="code-line"><span class="token constant">DELETE</span> e1 <span class="token constant">FROM</span> t_emp e1
</span><span class="code-line"><span class="token constant">JOIN</span> <span class="token punctuation">(</span><span class="token constant">SELECT</span> empno <span class="token constant">FROM</span> t_emp <span class="token constant">WHERE</span> ename <span class="token operator">=</span> <span class="token string">&#x27;KING&#x27;</span><span class="token punctuation">)</span> e2
</span><span class="code-line"><span class="token constant">ON</span> e1<span class="token punctuation">.</span><span class="token property-access">mgr</span> <span class="token operator">=</span> e2<span class="token punctuation">.</span><span class="token property-access">empno</span> <span class="token constant">OR</span> e1<span class="token punctuation">.</span><span class="token property-access">ename</span> <span class="token operator">=</span> <span class="token string">&#x27;KING&#x27;</span><span class="token punctuation">;</span>
</span></code></pre></div><ol start="5"><li><code>DELETE</code>语句的表连接既可以是内连接，又可以是外连接 例如：删除<code>SALES</code>部门的员工以及没有部门的员工</li></ol><div class="relative"><pre><code class="language-js code-highlight"><span class="code-line"><span class="token constant">DELETE</span> e <span class="token constant">FROM</span> t_emp e 
</span><span class="code-line"><span class="token constant">LEFT</span> <span class="token constant">JOIN</span> t_dept d
</span><span class="code-line"><span class="token constant">ON</span> e<span class="token punctuation">.</span><span class="token property-access">deptno</span> <span class="token operator">=</span> d<span class="token punctuation">.</span><span class="token property-access">deptno</span>
</span><span class="code-line"><span class="token constant">WHERE</span> d<span class="token punctuation">.</span><span class="token property-access">dname</span> <span class="token operator">=</span> <span class="token string">&#x27;SALES&#x27;</span> <span class="token constant">OR</span> e<span class="token punctuation">.</span><span class="token property-access">deptno</span> <span class="token constant">IS</span> <span class="token constant">NULL</span><span class="token punctuation">;</span>
</span></code></pre></div><ol start="6"><li>快速清空数据表中所有记录 <code>DELETE</code>语句是在事务机制下删除记录，删除记录之前，先把将要删除的记录保存到日志文件里，然后再删除记录。 <code>TRUNCATE</code>语句在事务机制之外删除记录，速度远超<code>DELETE</code>语句。 语法：<code>TRUNCATE TABLE 表名;</code></li></ol><div class="relative"><pre><code class="language-js code-highlight"><span class="code-line"><span class="token constant">TRUNCATE</span> <span class="token constant">TABLE</span> t_emp<span class="token punctuation">;</span>
</span></code></pre></div><h2 class="content-header" id="15-总结"><a class="break-words" href="#15-总结" aria-hidden="true" tabindex="-1"><span class="content-header-link"><svg class="h-5 linkicon w-5" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z"></path><path d="M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z"></path></svg></span></a>1.5 总结</h2><ol><li>技能清单 掌握<code>INSERT</code>语法 掌握<code>UPDATE</code>语法 掌握<code>DELETE</code>语法 掌握数据更新和删除中的表连接语法</li><li>知识体系 初识数据库：<code>MySQL</code>安装与使用 <code>DDL</code>阶段：管理数据库与数据表 <code>DML</code>阶段：数据的增删改查</li></ol><h1 class="content-header" id="2-mysql基本函数的使用"><a class="break-words" href="#2-mysql基本函数的使用" aria-hidden="true" tabindex="-1"><span class="content-header-link"><svg class="h-5 linkicon w-5" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z"></path><path d="M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z"></path></svg></span></a>2. MySQL基本函数的使用</h1><h2 class="content-header" id="21-介绍"><a class="break-words" href="#21-介绍" aria-hidden="true" tabindex="-1"><span class="content-header-link"><svg class="h-5 linkicon w-5" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z"></path><path d="M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z"></path></svg></span></a>2.1 介绍</h2><ol><li>学习目标 (1) 数字函数 <code>FORMAT</code>、<code>ABS</code>、<code>MOD</code>、<code>CEIL</code>、<code>FLOOR</code>、<code>ROUND</code>、<code>EXP</code>... (2) 字符函数 <code>UPPER</code>、<code>LOWER</code>、<code>CHAR_LRNGTH</code>、<code>CONCAT</code>、<code>INSTR</code>... (3) 日期函数<code>&amp;</code>条件函数 <code>NOW</code>、<code>DATE_FORMAT</code>、<code>DATE_ADD</code>、<code>DATEDIFF</code>、<code>IF</code>、<code>IFNULL</code>...</li></ol><h2 class="content-header" id="22-mysql基本函数"><a class="break-words" href="#22-mysql基本函数" aria-hidden="true" tabindex="-1"><span class="content-header-link"><svg class="h-5 linkicon w-5" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z"></path><path d="M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z"></path></svg></span></a>2.2 MySQL基本函数</h2><ol><li><code>MySQL</code>的函数 数字函数、字符函数、日期函数、条件函数</li><li>数字函数</li></ol><div class="w-full overflow-x-auto"><table><thead><tr><th style="text-align:center">函数</th><th style="text-align:center">功能</th><th style="text-align:center">用例</th></tr></thead><tbody><tr><td style="text-align:center"><code>ABS</code></td><td style="text-align:center">绝对值</td><td style="text-align:center"><code>ABS(-100)</code></td></tr><tr><td style="text-align:center"><code>ROUND</code></td><td style="text-align:center">四舍五入</td><td style="text-align:center"><code>ROUND(4.62)</code></td></tr><tr><td style="text-align:center"><code>FLOOR</code></td><td style="text-align:center">向下取整</td><td style="text-align:center"><code>FLOOR(9.9)</code></td></tr><tr><td style="text-align:center"><code>CEIL</code></td><td style="text-align:center">向上取整</td><td style="text-align:center"><code>CEIL(3.2)</code></td></tr><tr><td style="text-align:center"><code>POWER</code></td><td style="text-align:center">幂函数</td><td style="text-align:center"><code>POWER(2,3)</code></td></tr><tr><td style="text-align:center"><code>LOG</code></td><td style="text-align:center">对数函数</td><td style="text-align:center"><code>LOG(7, 3)</code></td></tr><tr><td style="text-align:center"><code>LN</code></td><td style="text-align:center">求对数函数(以<code>e</code>为底数)</td><td style="text-align:center"><code>LN(10)</code></td></tr></tbody></table></div><div class="relative"><pre><code class="language-js code-highlight"><span class="code-line"><span class="token constant">SELECT</span> <span class="token constant">ABS</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span> # <span class="token number">100</span>
</span><span class="code-line"><span class="token constant">SELECT</span> <span class="token constant">ROUND</span><span class="token punctuation">(</span><span class="token number">4.6288</span> <span class="token operator">*</span> <span class="token number">100</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">100</span><span class="token punctuation">;</span> # <span class="token number">4.6300</span>
</span><span class="code-line"><span class="token constant">SELECT</span> <span class="token constant">FLOOR</span><span class="token punctuation">(</span><span class="token number">9.9</span><span class="token punctuation">)</span><span class="token punctuation">;</span> # <span class="token number">9</span>
</span><span class="code-line"><span class="token constant">SELECT</span> <span class="token constant">CEIL</span><span class="token punctuation">(</span><span class="token number">3.2</span><span class="token punctuation">)</span><span class="token punctuation">;</span> # <span class="token number">4</span>
</span><span class="code-line"><span class="token constant">SELECT</span> <span class="token constant">POWER</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span> # <span class="token number">8</span>
</span><span class="code-line"><span class="token constant">SELECT</span> <span class="token constant">LOG</span><span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span> # <span class="token number">0.5645750340535797</span>
</span><span class="code-line"><span class="token constant">SELECT</span> <span class="token constant">LN</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span> # <span class="token number">2.302585092994046</span>
</span></code></pre></div><div class="w-full overflow-x-auto"><table><thead><tr><th style="text-align:center">函数</th><th style="text-align:center">功能</th><th style="text-align:center">用例</th></tr></thead><tbody><tr><td style="text-align:center"><code>SQRT</code></td><td style="text-align:center">开平方</td><td style="text-align:center"><code>SQRT(9)</code></td></tr><tr><td style="text-align:center"><code>PI</code></td><td style="text-align:center">圆周率</td><td style="text-align:center"><code>PI()</code></td></tr><tr><td style="text-align:center"><code>SIN</code></td><td style="text-align:center">正弦</td><td style="text-align:center"><code>SIN(1)</code></td></tr><tr><td style="text-align:center"><code>COS</code></td><td style="text-align:center">余弦</td><td style="text-align:center"><code>COS(1)</code></td></tr><tr><td style="text-align:center"><code>TAN</code></td><td style="text-align:center">正切</td><td style="text-align:center"><code>TAN(1)</code></td></tr><tr><td style="text-align:center"><code>COT</code></td><td style="text-align:center">余切</td><td style="text-align:center"><code>COT(1)</code></td></tr><tr><td style="text-align:center"><code>RADIANS</code></td><td style="text-align:center">角度转换弧度</td><td style="text-align:center"><code>RADIANS(30)</code></td></tr><tr><td style="text-align:center"><code>DEGREES</code></td><td style="text-align:center">弧度转换角度</td><td style="text-align:center"><code>DEGREES(1)</code></td></tr></tbody></table></div><div class="relative"><pre><code class="language-js code-highlight"><span class="code-line"><span class="token constant">SELECT</span> <span class="token constant">SQRT</span><span class="token punctuation">(</span><span class="token number">9</span><span class="token punctuation">)</span><span class="token punctuation">;</span> # <span class="token number">3</span>
</span><span class="code-line"><span class="token constant">SELECT</span> <span class="token constant">PI</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> # <span class="token number">3.141593</span>
</span><span class="code-line"><span class="token constant">SELECT</span> <span class="token constant">SIN</span><span class="token punctuation">(</span><span class="token constant">RADIANS</span><span class="token punctuation">(</span><span class="token number">30</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> # <span class="token number">0.49999999999999994</span>
</span><span class="code-line"><span class="token constant">SELECT</span> <span class="token constant">COS</span><span class="token punctuation">(</span><span class="token constant">RADIANS</span><span class="token punctuation">(</span><span class="token number">45</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> # <span class="token number">0.7071067811865476</span>
</span><span class="code-line"><span class="token constant">SELECT</span> <span class="token constant">TAN</span><span class="token punctuation">(</span><span class="token constant">RADIANS</span><span class="token punctuation">(</span><span class="token number">35</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> # <span class="token number">0.7002075382097097</span>
</span><span class="code-line"><span class="token constant">SELECT</span> <span class="token constant">COT</span><span class="token punctuation">(</span><span class="token constant">RADIANS</span><span class="token punctuation">(</span><span class="token number">45</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> # <span class="token number">1.0000000000000002</span>
</span><span class="code-line"><span class="token constant">SELECT</span> <span class="token constant">DEGREES</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> # <span class="token number">57.29577951308232</span>
</span></code></pre></div><ol start="3"><li>获取系统时间函数 <code>NOW()</code>- 获取当前系统日期和时间，格式为<code>yyyy-MM-dd hh:mm:ss</code> <code>CURDATE()</code>- 获取当前系统日期，格式为<code>yyyy-MM-dd</code> <code>CURTIME()</code> - 获取当前系统时间，格式为<code>hh:mm:ss</code></li></ol><div class="relative"><pre><code class="language-js code-highlight"><span class="code-line"><span class="token constant">SELECT</span> <span class="token constant">NOW</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token constant">CURDATE</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token constant">CURTIME</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token number">2020</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">01</span> <span class="token number">10</span><span class="token operator">:</span><span class="token number">59</span><span class="token operator">:</span><span class="token number">43</span>	 <span class="token number">2020</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">01</span> 	<span class="token number">10</span><span class="token operator">:</span><span class="token number">59</span><span class="token operator">:</span><span class="token number">43</span>
</span></code></pre></div><ol start="4"><li>日期格式化函数 <code>DATE_FORMAT()</code> - 用于格式化日期</li></ol><div class="w-full overflow-x-auto"><table><thead><tr><th style="text-align:center">占位符</th><th style="text-align:center">作用</th><th style="text-align:center">占位符</th><th style="text-align:center">作用</th></tr></thead><tbody><tr><td style="text-align:center"><code>%Y</code></td><td style="text-align:center">年份</td><td style="text-align:center"><code>%m</code></td><td style="text-align:center">月份</td></tr><tr><td style="text-align:center"><code>%d</code></td><td style="text-align:center">日期</td><td style="text-align:center"><code>%w</code></td><td style="text-align:center">星期(数字）</td></tr><tr><td style="text-align:center"><code>%W</code></td><td style="text-align:center">星期(名称）</td><td style="text-align:center"><code>%j</code></td><td style="text-align:center">本年第几天</td></tr><tr><td style="text-align:center"><code>%U</code></td><td style="text-align:center">本年第几周</td><td style="text-align:center"><code>%H</code></td><td style="text-align:center">小时(<code>24</code>)</td></tr><tr><td style="text-align:center"><code>%h</code></td><td style="text-align:center">小时(<code>12</code>)</td><td style="text-align:center"><code>%i</code></td><td style="text-align:center">分钟</td></tr><tr><td style="text-align:center"><code>%s</code></td><td style="text-align:center">秒</td><td style="text-align:center"><code>%r</code></td><td style="text-align:center">时间(<code>24</code>)</td></tr><tr><td style="text-align:center"><code>%T</code></td><td style="text-align:center">时间(<code>12)</code></td><td style="text-align:center"></td><td style="text-align:center"></td></tr></tbody></table></div><div class="relative"><pre><code class="language-js code-highlight"><span class="code-line"><span class="token operator">--</span> 查询明天你的生日是星期几。
</span><span class="code-line"><span class="token constant">SELECT</span> <span class="token constant">DATE_FORMAT</span><span class="token punctuation">(</span><span class="token string">&#x27;2020-04-05&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;%w - %W&#x27;</span><span class="token punctuation">)</span> #<span class="token number">0</span> <span class="token operator">-</span> <span class="token maybe-class-name">Sunday</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token operator">--</span> 查询<span class="token number">1981</span>年上半年入职的员工有多少人
</span><span class="code-line"><span class="token constant">SELECT</span> <span class="token constant">COUNT</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token constant">FROM</span> t_emp
</span><span class="code-line"><span class="token constant">WHERE</span> <span class="token constant">DATE_FORMAT</span><span class="token punctuation">(</span>hiredate<span class="token punctuation">,</span> <span class="token string">&quot;%Y&quot;</span><span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token number">1981</span>
</span><span class="code-line"><span class="token constant">AND</span> <span class="token constant">DATE_FORMAT</span><span class="token punctuation">(</span>hiredate<span class="token punctuation">,</span> <span class="token string">&quot;%m&quot;</span><span class="token punctuation">)</span> <span class="token operator">&lt;=</span><span class="token number">6</span><span class="token punctuation">;</span> # <span class="token number">5</span>
</span></code></pre></div><p>注释：数据库中支持的最小的时间单位是秒，而不是毫秒。 5. 日期偏移计算 <code>DATE_ADD()</code> - 可以实现日期偏移计算。 格式：<code>DATE_ADD(日期, INTERVAL 偏移量 时间单位)</code></p><div class="relative"><pre><code class="language-js code-highlight"><span class="code-line"><span class="token constant">SELECT</span> 
</span><span class="code-line"><span class="token constant">NOW</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
</span><span class="code-line"><span class="token constant">DATE_ADD</span><span class="token punctuation">(</span><span class="token constant">NOW</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token constant">INTERVAL</span> <span class="token number">15</span> <span class="token constant">DAY</span><span class="token punctuation">)</span> d1<span class="token punctuation">,</span>
</span><span class="code-line"><span class="token constant">DATE_ADD</span><span class="token punctuation">(</span><span class="token constant">NOW</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token constant">INTERVAL</span> <span class="token operator">-</span><span class="token number">300</span> <span class="token constant">MINUTE</span><span class="token punctuation">)</span> d2<span class="token punctuation">,</span>
</span><span class="code-line"><span class="token constant">DATE_ADD</span><span class="token punctuation">(</span><span class="token constant">DATE_ADD</span><span class="token punctuation">(</span><span class="token constant">NOW</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token constant">INTERVAL</span> <span class="token operator">-</span><span class="token number">2</span> <span class="token constant">MONTH</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token constant">INTERVAL</span> <span class="token operator">-</span><span class="token number">3</span> <span class="token constant">DAY</span><span class="token punctuation">)</span> d3<span class="token punctuation">;</span>
</span><span class="code-line"># <span class="token number">2020</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">01</span> <span class="token number">11</span><span class="token operator">:</span><span class="token number">31</span><span class="token operator">:</span><span class="token number">28</span>	<span class="token number">2020</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">16</span> <span class="token number">11</span><span class="token operator">:</span><span class="token number">31</span><span class="token operator">:</span><span class="token number">28</span>	<span class="token number">2020</span><span class="token operator">-</span><span class="token number">01</span><span class="token operator">-</span><span class="token number">01</span> <span class="token number">06</span><span class="token operator">:</span><span class="token number">31</span><span class="token operator">:</span><span class="token number">28</span>	<span class="token number">2019</span><span class="token operator">-</span><span class="token number">10</span><span class="token operator">-</span><span class="token number">29</span> <span class="token number">11</span><span class="token operator">:</span><span class="token number">31</span><span class="token operator">:</span><span class="token number">28</span>
</span></code></pre></div><p>注释：在<code>MySQL</code>数据库中，两个日期不能直接加减，日期也不能与数字加减。 6. 日期差值 <code>DATEDIFF()</code> - 计算两个日期之间相差的天数。</p><div class="relative"><pre><code class="language-js code-highlight"><span class="code-line"><span class="token constant">SELECT</span> <span class="token constant">DATEDIFF</span><span class="token punctuation">(</span><span class="token constant">NOW</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token constant">DATE_ADD</span><span class="token punctuation">(</span><span class="token constant">NOW</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token constant">INTERVAL</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token constant">MONTH</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> # <span class="token number">31</span>
</span></code></pre></div><ol start="7"><li>字符函数</li></ol><div class="w-full overflow-x-auto"><table><thead><tr><th style="text-align:center">函数</th><th style="text-align:center">功能</th><th style="text-align:center">用例</th></tr></thead><tbody><tr><td style="text-align:center"><code>LOWER</code></td><td style="text-align:center">转换为小写</td><td style="text-align:center"><code>LOWER(ename)</code></td></tr><tr><td style="text-align:center"><code>UPPER</code></td><td style="text-align:center">转换为大写</td><td style="text-align:center"><code>UPPER(ename)</code></td></tr><tr><td style="text-align:center"><code>LENGTH</code></td><td style="text-align:center">字符数量</td><td style="text-align:center"><code>LENGTH(ename)</code></td></tr><tr><td style="text-align:center"><code>CONCAT</code></td><td style="text-align:center">连接字符串</td><td style="text-align:center"><code>CONCAT(sal, &quot;$&quot;)</code></td></tr><tr><td style="text-align:center"><code>INSTR</code></td><td style="text-align:center">字符出现的位置</td><td style="text-align:center"><code>INSTR(ename, &quot;A&quot;)</code></td></tr><tr><td style="text-align:center"><code>INSERT</code></td><td style="text-align:center">插入/替换字符串</td><td style="text-align:center"><code>INSERT(&quot;你好&quot;, 1, 0, &quot;先生&quot;)</code></td></tr><tr><td style="text-align:center"><code>REPLACE</code></td><td style="text-align:center">替换字符</td><td style="text-align:center"><code>REPLACE(&quot;你好先生&quot;, &quot;先生&quot;, &quot;女士&quot;)</code></td></tr></tbody></table></div><div class="relative"><pre><code class="language-js code-highlight"><span class="code-line"><span class="token constant">SELECT</span> <span class="token constant">LOWER</span><span class="token punctuation">(</span>ename<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token constant">UPPER</span><span class="token punctuation">(</span>ename<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token constant">LENGTH</span><span class="token punctuation">(</span>ename<span class="token punctuation">)</span><span class="token punctuation">,</span> 
</span><span class="code-line"><span class="token constant">CONCAT</span><span class="token punctuation">(</span>sal<span class="token punctuation">,</span> <span class="token string">&#x27;$&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token constant">INSTR</span><span class="token punctuation">(</span>ename<span class="token punctuation">,</span><span class="token string">&#x27;A&#x27;</span><span class="token punctuation">)</span> <span class="token constant">FROM</span> t_emp<span class="token punctuation">;</span>
</span><span class="code-line"><span class="token operator">--</span> <span class="token operator spread">...</span>
</span><span class="code-line"><span class="token operator">--</span> allen	<span class="token constant">ALLEN</span>	<span class="token number">5</span>	<span class="token number">1600</span><span class="token punctuation">.</span>00$	<span class="token number">1</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token constant">SELECT</span> <span class="token constant">INSERT</span><span class="token punctuation">(</span><span class="token string">&#x27;你好&#x27;</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token string">&#x27;先生&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> # 先生你好
</span><span class="code-line"><span class="token constant">SELECT</span> <span class="token constant">INSERT</span><span class="token punctuation">(</span><span class="token string">&#x27;你好&#x27;</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">&#x27;先生&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> # 先生好
</span><span class="code-line"><span class="token constant">SELECT</span> <span class="token constant">REPLACE</span><span class="token punctuation">(</span><span class="token string">&#x27;你好先生&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;先生&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;女士&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> # 你好女士
</span></code></pre></div><div class="w-full overflow-x-auto"><table><thead><tr><th style="text-align:center">函数</th><th style="text-align:center">功能</th><th style="text-align:center">用例</th></tr></thead><tbody><tr><td style="text-align:center"><code>SUNSTR</code></td><td style="text-align:center">截取字符串</td><td style="text-align:center"><code>SUNSTR(&#x27;你好世界&#x27;, 3, 4)</code></td></tr><tr><td style="text-align:center"><code>SUNSTRING</code></td><td style="text-align:center">截取字符串</td><td style="text-align:center"><code>SUNSTRING(&#x27;你好世界&#x27;, 3, 2)</code></td></tr><tr><td style="text-align:center"><code>LPAD</code></td><td style="text-align:center">左侧填充字符</td><td style="text-align:center"><code>LPAD(&#x27;Hello&#x27;, 10, &#x27;*&#x27;)</code></td></tr><tr><td style="text-align:center"><code>RPAD</code></td><td style="text-align:center">右侧填充字符</td><td style="text-align:center"><code>RPAD(&#x27;Hello&#x27;, 10, &#x27;*&#x27;)</code></td></tr><tr><td style="text-align:center"><code>TRIM</code></td><td style="text-align:center">去除首尾空格</td><td style="text-align:center"><code>TRIM(&#x27; 你好先生 &#x27;)</code></td></tr></tbody></table></div><div class="relative"><pre><code class="language-js code-highlight"><span class="code-line"><span class="token constant">SELECT</span> <span class="token constant">SUBSTR</span><span class="token punctuation">(</span><span class="token string">&#x27;你还世界&#x27;</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span> # 世界
</span><span class="code-line"><span class="token constant">SELECT</span> <span class="token constant">SUBSTRING</span><span class="token punctuation">(</span><span class="token string">&#x27;你好世界&#x27;</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span> # 世界
</span><span class="code-line"><span class="token constant">SELECT</span> <span class="token constant">LPAD</span><span class="token punctuation">(</span><span class="token constant">SUBSTRING</span><span class="token punctuation">(</span><span class="token string">&#x27;12345678901&#x27;</span><span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token number">11</span><span class="token punctuation">,</span><span class="token string">&#x27;*&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> # <span class="token operator">**</span><span class="token operator">**</span><span class="token operator">**</span><span class="token operator">*</span><span class="token number">8901</span>
</span><span class="code-line"><span class="token constant">SELECT</span> <span class="token constant">RPAD</span><span class="token punctuation">(</span><span class="token constant">SUBSTRING</span><span class="token punctuation">(</span><span class="token string">&#x27;李晓娜&#x27;</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token constant">LENGTH</span><span class="token punctuation">(</span><span class="token string">&#x27;李晓娜&#x27;</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">3</span><span class="token punctuation">,</span><span class="token string">&#x27;*&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> # 李<span class="token operator">**</span>
</span><span class="code-line"><span class="token constant">SELECT</span> <span class="token constant">TRIM</span><span class="token punctuation">(</span><span class="token string">&#x27;    Hello World!  &#x27;</span><span class="token punctuation">)</span> #<span class="token maybe-class-name">Hello</span> <span class="token maybe-class-name">World</span><span class="token operator">!</span>
</span></code></pre></div><ol start="8"><li>条件函数 <code>SQL</code>语句中可以利用条件函数来实现编程语言里的条件判断。 <code>IFNULL(表达式, 值)</code> <code>IF(表达式, 值1, 值2)</code> 例如：中秋节公司员工发放礼品，<code>SALES</code>部门发放<code>礼品A</code>, 其余部门发放<code>礼品B</code>, 打印每个员工获得的礼品。</li></ol><div class="relative"><pre><code class="language-js code-highlight"><span class="code-line"><span class="token constant">SELECT</span> e<span class="token punctuation">.</span><span class="token property-access">ename</span><span class="token punctuation">,</span> d<span class="token punctuation">.</span><span class="token property-access">dname</span><span class="token punctuation">,</span>  <span class="token constant">IF</span><span class="token punctuation">(</span>d<span class="token punctuation">.</span><span class="token property-access">dname</span> <span class="token operator">=</span> <span class="token string">&#x27;SALES&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;礼品A&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;礼品B&#x27;</span><span class="token punctuation">)</span>
</span><span class="code-line"><span class="token constant">FROM</span> t_emp e 
</span><span class="code-line"><span class="token constant">JOIN</span> t_dept d 
</span><span class="code-line"><span class="token constant">ON</span> e<span class="token punctuation">.</span><span class="token property-access">deptno</span> <span class="token operator">=</span> d<span class="token punctuation">.</span><span class="token property-access">deptno</span><span class="token punctuation">;</span>
</span></code></pre></div><ol start="9"><li>复杂条件判断 公司年庆决定组织员工集体旅游，每个部门旅游目的地不同。<code>SALES</code>部门去<code>P1</code>地点，<code>ACCOUNTING</code>部门去<code>P2</code>地点，<code>RESEARCH</code>部门去<code>P3</code>地点，查询每名员工的旅行地点。</li></ol><div class="relative"><pre><code class="language-js code-highlight"><span class="code-line"><span class="token constant">SELECT</span> 
</span><span class="code-line">e<span class="token punctuation">.</span><span class="token property-access">ename</span><span class="token punctuation">,</span> d<span class="token punctuation">.</span><span class="token property-access">dname</span><span class="token punctuation">,</span>
</span><span class="code-line"><span class="token constant">CASE</span> d<span class="token punctuation">.</span><span class="token property-access">dname</span>
</span><span class="code-line">	<span class="token constant">WHEN</span> <span class="token string">&#x27;SALES&#x27;</span> <span class="token constant">THEN</span> <span class="token string">&#x27;P1&#x27;</span>
</span><span class="code-line">	<span class="token constant">WHEN</span> <span class="token string">&#x27;ACCOUNTING&#x27;</span> <span class="token constant">THEN</span> <span class="token string">&#x27;P2&#x27;</span>
</span><span class="code-line">	<span class="token constant">WHEN</span> <span class="token string">&#x27;RESEARCH&#x27;</span> <span class="token constant">THEN</span> <span class="token string">&#x27;P3&#x27;</span>
</span><span class="code-line"><span class="token constant">END</span> <span class="token constant">AS</span> place
</span><span class="code-line"><span class="token constant">FROM</span> t_emp e
</span><span class="code-line"><span class="token constant">JOIN</span> t_dept d
</span><span class="code-line"><span class="token constant">ON</span> e<span class="token punctuation">.</span><span class="token property-access">deptno</span> <span class="token operator">=</span> d<span class="token punctuation">.</span><span class="token property-access">deptno</span>
</span></code></pre></div><ol start="10"><li>薪资调整方案 (1) <code>SALES</code>部门中工龄超过<code>20</code>年，涨<code>10%</code>。 (2) <code>SALES</code>部门中工龄不满<code>20</code>年，涨<code>5%</code>。 (3) <code>ACCOUNTING</code>部门，涨<code>300</code>。 (4) <code>RESEARCH</code>部门里低于部门平均底薪，涨<code>200</code>。 (5) 没有部门的员工，涨<code>100</code>。</li></ol><div class="relative"><pre><code class="language-js code-highlight"><span class="code-line"><span class="token constant">UPDATE</span> t_emp e <span class="token constant">LEFT</span> <span class="token constant">JOIN</span> t_dept d <span class="token constant">ON</span> e<span class="token punctuation">.</span><span class="token property-access">deptno</span> <span class="token operator">=</span> d<span class="token punctuation">.</span><span class="token property-access">deptno</span>
</span><span class="code-line"><span class="token constant">LEFT</span> <span class="token constant">JOIN</span> <span class="token punctuation">(</span><span class="token constant">SELECT</span> deptno<span class="token punctuation">,</span> <span class="token constant">AVG</span><span class="token punctuation">(</span>sal<span class="token punctuation">)</span> avg <span class="token constant">FROM</span> t_emp <span class="token constant">GROUP</span> <span class="token constant">BY</span> deptno<span class="token punctuation">)</span> g
</span><span class="code-line"><span class="token constant">ON</span> e<span class="token punctuation">.</span><span class="token property-access">deptno</span> <span class="token operator">=</span> g<span class="token punctuation">.</span><span class="token property-access">deptno</span>
</span><span class="code-line"><span class="token constant">SET</span> e<span class="token punctuation">.</span><span class="token property-access">sal</span> <span class="token operator">=</span> <span class="token punctuation">(</span>
</span><span class="code-line">	<span class="token constant">CASE</span>
</span><span class="code-line">	  <span class="token constant">WHEN</span> d<span class="token punctuation">.</span><span class="token property-access">dname</span> <span class="token operator">=</span> <span class="token string">&#x27;SALES&#x27;</span> <span class="token constant">AND</span> <span class="token constant">DATEDIFF</span><span class="token punctuation">(</span><span class="token constant">NOW</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>e<span class="token punctuation">.</span><span class="token property-access">hiredate</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">365</span> <span class="token operator">&gt;=</span> <span class="token number">20</span> <span class="token constant">THEN</span> e<span class="token punctuation">.</span><span class="token property-access">sal</span> <span class="token operator">*</span> <span class="token number">1.1</span>
</span><span class="code-line">		<span class="token constant">WHEN</span> d<span class="token punctuation">.</span><span class="token property-access">dname</span> <span class="token operator">=</span> <span class="token string">&#x27;SALES&#x27;</span> <span class="token constant">AND</span> <span class="token constant">DATEDIFF</span><span class="token punctuation">(</span><span class="token constant">NOW</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>e<span class="token punctuation">.</span><span class="token property-access">hiredate</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">365</span> <span class="token operator">&lt;</span> <span class="token number">20</span> <span class="token constant">THEN</span> e<span class="token punctuation">.</span><span class="token property-access">sal</span> <span class="token operator">*</span> <span class="token number">1.05</span>
</span><span class="code-line">		<span class="token constant">WHEN</span> d<span class="token punctuation">.</span><span class="token property-access">dname</span> <span class="token operator">=</span> <span class="token string">&#x27;ACCOUNTING&#x27;</span> <span class="token constant">THEN</span> e<span class="token punctuation">.</span><span class="token property-access">sal</span> <span class="token operator">+</span> <span class="token number">300</span>
</span><span class="code-line">		<span class="token constant">WHEN</span> d<span class="token punctuation">.</span><span class="token property-access">dname</span> <span class="token operator">=</span> <span class="token string">&#x27;RESEARCH&#x27;</span> <span class="token constant">AND</span> e<span class="token punctuation">.</span><span class="token property-access">sal</span> <span class="token operator">&lt;</span> g<span class="token punctuation">.</span><span class="token property-access">avg</span> <span class="token constant">THEN</span> e<span class="token punctuation">.</span><span class="token property-access">sal</span> <span class="token operator">+</span> <span class="token number">200</span>
</span><span class="code-line">		<span class="token constant">WHEN</span> e<span class="token punctuation">.</span><span class="token property-access">deptno</span> <span class="token constant">IS</span> <span class="token constant">NULL</span> <span class="token constant">THEN</span> e<span class="token punctuation">.</span><span class="token property-access">sal</span> <span class="token operator">+</span> <span class="token number">100</span>
</span><span class="code-line">		<span class="token constant">ELSE</span> e<span class="token punctuation">.</span><span class="token property-access">sal</span>
</span><span class="code-line">	<span class="token constant">END</span>
</span><span class="code-line"><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></code></pre></div><h2 class="content-header" id="23-总结"><a class="break-words" href="#23-总结" aria-hidden="true" tabindex="-1"><span class="content-header-link"><svg class="h-5 linkicon w-5" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z"></path><path d="M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z"></path></svg></span></a>2.3 总结</h2><ol><li>技能清单 熟练运用数字函数。 熟练运用字符函数。 熟练运用日期函数。 熟练运用条件函数。</li></ol><h1 class="content-header" id="3-mysql的综合应用"><a class="break-words" href="#3-mysql的综合应用" aria-hidden="true" tabindex="-1"><span class="content-header-link"><svg class="h-5 linkicon w-5" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z"></path><path d="M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z"></path></svg></span></a>3. MySQL的综合应用</h1><h2 class="content-header" id="31-介绍"><a class="break-words" href="#31-介绍" aria-hidden="true" tabindex="-1"><span class="content-header-link"><svg class="h-5 linkicon w-5" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z"></path><path d="M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z"></path></svg></span></a>3.1 介绍</h2><ol><li>数据库事务机制 <code>undo</code>和<code>redo</code>日志、开启事务、提交事务、回滚事务</li><li>数据的导出和导入 <code>SQL</code>文件的导入和导出、<code>TXT</code>文档的导入与导出</li><li>综合案例：设计数据表 设计新闻管理系统的数据表。</li></ol><h2 class="content-header" id="32-mysql数据库的事务机制"><a class="break-words" href="#32-mysql数据库的事务机制" aria-hidden="true" tabindex="-1"><span class="content-header-link"><svg class="h-5 linkicon w-5" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z"></path><path d="M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z"></path></svg></span></a>3.2 MySQL数据库的事务机制</h2><ol><li>事务概念 <code>SQL</code>语句直接操作数据文件是很危险的。 <code>MySQL</code>有<code>5</code>种日志，其中<code>redo</code>日志和<code>undo</code>地址与事务有关。 <img alt="image.png" src="https://upload-images.jianshu.io/upload_images/4989175-753684dc3be87f3f.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/860"/></li><li>事务机制(<code>Transaction</code>) <code>RDBMS</code>(关系数据库) = <code>SQL</code>语句 + 事务(<code>ACID</code>) 事务是一个或者多个<code>SQL</code>语句组成的整体，要么全部执行成功，要么全部执行失败。</li><li>管理事务 默认情况下，<code>MySQL</code>执行每条<code>SQL</code>语句都会自动开启和提交事务。 我们可以手动管理事务，让多条<code>SQL</code>语句纳入到一个事务之中。</li></ol><div class="relative"><pre><code class="language-js code-highlight"><span class="code-line"><span class="token constant">START</span> <span class="token constant">TRANSACTION</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token constant">SQL</span>语句
</span><span class="code-line"><span class="token punctuation">[</span><span class="token constant">COMMIT</span> <span class="token operator">|</span> <span class="token constant">ROLLBACK</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</span></code></pre></div><div class="relative"><pre><code class="language-js code-highlight"><span class="code-line"><span class="token constant">START</span> <span class="token constant">TRANSACTION</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token constant">DELETE</span> <span class="token constant">FROM</span> t_emp<span class="token punctuation">;</span>
</span><span class="code-line"><span class="token constant">DELETE</span> <span class="token constant">FROM</span> t_dept<span class="token punctuation">;</span>
</span><span class="code-line"><span class="token constant">SELECT</span> <span class="token constant">COUNT</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token constant">FROM</span> t_emp<span class="token punctuation">;</span> # <span class="token number">0</span>
</span><span class="code-line"><span class="token constant">SELECT</span> <span class="token constant">COUNT</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token constant">FROM</span> t_dept<span class="token punctuation">;</span> # <span class="token number">0</span>
</span><span class="code-line"><span class="token constant">COMMIT</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token operator">--</span> <span class="token constant">ROLLBACK</span><span class="token punctuation">;</span>
</span></code></pre></div><p>注意：<code>COMMIT</code>语句执行之前虽然查到的数据集合数目为<code>0</code>。但此时是在<code>redo</code>文件中查到的结果，真实数据库里数据还没有被删除，直到执行<code>COMMIT</code>语句。 4. 事务的<code>ACID</code>属性 (1) 原子性 一个事务中的所有操作要么全部完成，要么全部失败。事务执行后，不允许停留在中间某个状态。 (2) 一致性 不管在任何给定的时间、并发事务有多少，事务必须保证运行结果的一致性。 (3) 隔离性 隔离性要求事务不受其他并发事务的影响，如同在给定的时间内，该事务是数据库唯一运行的事务。 例如：默认情况下，<code>A</code>事务只能看到日志中该事务的相关数据。 (4) 持久性 事务一旦提交，结果便是永久性的。即便发生宕机，仍然可以依靠事务日志完成数据的持久化。 5. 事务的四个隔离级别</p><div class="w-full overflow-x-auto"><table><thead><tr><th style="text-align:center">序号</th><th style="text-align:center">隔离级别</th><th style="text-align:center">功能</th></tr></thead><tbody><tr><td style="text-align:center"><code>1</code></td><td style="text-align:center"><code>read uncommitted</code></td><td style="text-align:center">读取未提交数据</td></tr><tr><td style="text-align:center"><code>2</code></td><td style="text-align:center"><code>read committed</code></td><td style="text-align:center">读取已提交数据</td></tr><tr><td style="text-align:center"><code>3</code></td><td style="text-align:center"><code>repeatable read</code></td><td style="text-align:center">重复读取</td></tr><tr><td style="text-align:center"><code>4</code></td><td style="text-align:center"><code>serializable</code></td><td style="text-align:center">序列化</td></tr><tr><td style="text-align:center">注释：默认隔离级别为<code>repeatable read</code>。</td><td style="text-align:center"></td><td style="text-align:center"></td></tr></tbody></table></div><ol start="6"><li>买票事务案例 <img alt="image.png" src="https://upload-images.jianshu.io/upload_images/4989175-b0a6fffa9d30c05b.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240"/></li></ol><div class="relative"><pre><code class="language-js code-highlight"><span class="code-line"><span class="token operator">--</span> 查询面板<span class="token number">1</span> 
</span><span class="code-line"><span class="token constant">START</span> <span class="token constant">TRANSACTION</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token constant">UPDATE</span> t_emp <span class="token constant">SET</span> sal <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
</span></code></pre></div><div class="relative"><pre><code class="language-js code-highlight"><span class="code-line"><span class="token operator">--</span> 查询面板<span class="token number">2</span>
</span><span class="code-line"><span class="token constant">SET</span> <span class="token constant">SESSION</span> <span class="token constant">TRANSACTION</span> <span class="token constant">ISOLATION</span> <span class="token constant">LEVEL</span> <span class="token constant">READ</span> <span class="token constant">UNCOMMITTED</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token operator">--</span> 设置当前会话事务隔离级别：允许读取其他事务未提交数据。
</span><span class="code-line"><span class="token constant">START</span> <span class="token constant">TRANSACTION</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token constant">SELECT</span> empno<span class="token punctuation">,</span> ename<span class="token punctuation">,</span> sal <span class="token constant">FROM</span> t_emp<span class="token punctuation">;</span>
</span><span class="code-line"><span class="token constant">COMMIT</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token operator">--</span> <span class="token number">7369</span>	<span class="token constant">SMITH</span>	<span class="token number">1.00</span>
</span><span class="code-line"><span class="token operator">--</span> <span class="token number">7499</span>	<span class="token constant">ALLEN</span>	<span class="token number">1.00</span>
</span><span class="code-line"><span class="token operator">--</span> <span class="token number">7521</span>	<span class="token constant">WARD</span>	<span class="token number">1.00</span>
</span></code></pre></div><p>注释：①一个查询面板就是一个<code>SESSION</code>会话。②<code>isolation</code>隔离。 7. 转账事务案例 <img alt="image.png" src="https://upload-images.jianshu.io/upload_images/4989175-e19ad55a43b756b6.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240"/></p><div class="relative"><pre><code class="language-js code-highlight"><span class="code-line"><span class="token operator">--</span> 查询面板<span class="token number">1</span>
</span><span class="code-line"><span class="token constant">START</span> <span class="token constant">TRANSACTION</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token constant">UPDATE</span> t_emp <span class="token constant">SET</span> sal <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
</span></code></pre></div><div class="relative"><pre><code class="language-js code-highlight"><span class="code-line"><span class="token operator">--</span> 查询面板<span class="token number">2</span>
</span><span class="code-line"><span class="token constant">SET</span> <span class="token constant">SESSION</span> <span class="token constant">TRANSACTION</span> <span class="token constant">ISOLATION</span> <span class="token constant">LEVEL</span> <span class="token constant">READ</span> <span class="token constant">COMMITTED</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token operator">--</span> 设置当前会话事务隔离级别：允许读取其他事务已提交数据
</span><span class="code-line"><span class="token constant">START</span> <span class="token constant">TRANSACTION</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token constant">SELECT</span> empno<span class="token punctuation">,</span> ename<span class="token punctuation">,</span> sal <span class="token constant">FROM</span> t_emp<span class="token punctuation">;</span>
</span><span class="code-line"><span class="token constant">COMMIT</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token operator">--</span> <span class="token number">7369</span>	<span class="token constant">SMITH</span>	<span class="token number">800.00</span>
</span><span class="code-line"><span class="token operator">--</span> <span class="token number">7499</span>	<span class="token constant">ALLEN</span>	<span class="token number">1600.00</span>
</span><span class="code-line"><span class="token operator">--</span> <span class="token number">7521</span>	<span class="token constant">WARD</span>	<span class="token number">1250.00</span>
</span></code></pre></div><ol start="8"><li>购物案例 <img alt="image.png" src="https://upload-images.jianshu.io/upload_images/4989175-b5baafa4f89b2616.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240"/> <code>REPEATABLE READ</code>代表事务在执行中反复读取数据，得到的结果是一致的，不受其他事务的影响。</li></ol><div class="relative"><pre><code class="language-js code-highlight"><span class="code-line"><span class="token operator">--</span> 查询面板<span class="token number">1</span>
</span><span class="code-line"><span class="token constant">START</span> <span class="token constant">TRANSACTION</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token constant">UPDATE</span> t_emp <span class="token constant">SET</span> sal <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token constant">COMMIT</span><span class="token punctuation">;</span>
</span></code></pre></div><div class="relative"><pre><code class="language-js code-highlight"><span class="code-line"><span class="token operator">--</span>查询面板<span class="token number">2</span>
</span><span class="code-line"><span class="token constant">SET</span> <span class="token constant">SESSION</span> <span class="token constant">TRANSACTION</span> <span class="token constant">ISOLATION</span> <span class="token constant">LEVEL</span> <span class="token constant">REPEATABLE</span> <span class="token constant">READ</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token constant">START</span> <span class="token constant">TRANSACTION</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token constant">SELECT</span> empno<span class="token punctuation">,</span> ename<span class="token punctuation">,</span> sal <span class="token constant">FROM</span> t_emp<span class="token punctuation">;</span>
</span><span class="code-line"><span class="token constant">COMMIT</span><span class="token punctuation">;</span>
</span></code></pre></div><p>注意：事务执行<code>SELECT</code>语句之后，数据才会保存到<code>undo</code>日志，之后的查询结果才不受其他事务对数据的修改影响。 9. 事务的序列化 由于事务并发执行所带来的的各种问题，前三种隔离级别只适用于某些业务场景中。序列化隔离，让事务逐一执行，就不会产生上述问题了。 该隔离级别牺牲了事务的并发性，很少使用。</p><div class="relative"><pre><code class="language-js code-highlight"><span class="code-line"><span class="token operator">--</span> 查询面板<span class="token number">1</span>
</span><span class="code-line"><span class="token constant">START</span> <span class="token constant">TRANSACTION</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token constant">UPDATE</span> t_emp <span class="token constant">SET</span> sal <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token constant">COMMIT</span><span class="token punctuation">;</span>
</span></code></pre></div><div class="relative"><pre><code class="language-js code-highlight"><span class="code-line"><span class="token operator">--</span>查询面板<span class="token number">2</span>
</span><span class="code-line"><span class="token constant">SET</span> <span class="token constant">SESSION</span> <span class="token constant">TRANSACTION</span> <span class="token constant">ISOLATION</span> <span class="token constant">LEVEL</span> <span class="token constant">SERIALIZABLE</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token constant">START</span> <span class="token constant">TRANSACTION</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token constant">SELECT</span> empno<span class="token punctuation">,</span> ename<span class="token punctuation">,</span> sal <span class="token constant">FROM</span> t_emp<span class="token punctuation">;</span>
</span><span class="code-line"><span class="token constant">COMMIT</span><span class="token punctuation">;</span>
</span></code></pre></div><h2 class="content-header" id="33-数据的持久化"><a class="break-words" href="#33-数据的持久化" aria-hidden="true" tabindex="-1"><span class="content-header-link"><svg class="h-5 linkicon w-5" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z"></path><path d="M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z"></path></svg></span></a>3.3 数据的持久化</h2><ol><li>数据导出与备份的区别 数据导出：导出的只是数据文件。 数据备份：备份的是数据文件、日志文件、索引文件等。</li><li>数据导出分类 <code>SQL</code>文件、文本文件</li><li>导出<code>SQL</code>文件</li></ol><p>(1) 命令行语法 <code>mysqldump -uroot -p [no-data] 逻辑库 &gt; 路径</code></p><div class="relative"><pre><code class="language-js code-highlight"><span class="code-line">➜  <span class="token operator">~</span> mysqldump <span class="token operator">-</span>uroot <span class="token operator">-</span>p demo <span class="token operator">&gt;</span> <span class="token operator">/</span><span class="token maybe-class-name">Users</span><span class="token operator">/</span>nimengwei<span class="token operator">/</span>downloads<span class="token operator">/</span>demo<span class="token punctuation">.</span><span class="token property-access">sql</span> 
</span><span class="code-line"><span class="token maybe-class-name">Enter</span> password<span class="token operator">:</span> 
</span><span class="code-line">➜  <span class="token operator">~</span> 
</span></code></pre></div><p>(2) 图形化界面 <img alt="image.png" src="https://upload-images.jianshu.io/upload_images/4989175-4645b632821214ac.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240"/></p><p>注释：当数据导出为<code>SQL</code>文件时，<code>MySQL</code>会生成可以创建这些数据的<code>SQL</code>语句，效率低。 4. 导入<code>SQL</code>文件</p><p>(1) 命令行语法 <code>USE demo;</code> <code>SOURCE demo.sql;</code></p><div class="relative"><pre><code class="language-js code-highlight"><span class="code-line">➜  <span class="token operator">~</span> cd <span class="token operator">/</span><span class="token maybe-class-name">Users</span><span class="token operator">/</span>nimengwei<span class="token operator">/</span><span class="token maybe-class-name">Downloads</span><span class="token operator">/</span>sql_file 
</span><span class="code-line">➜  sql_file mysql <span class="token operator">-</span>uroot <span class="token operator">-</span>p
</span><span class="code-line"><span class="token maybe-class-name">Enter</span> password<span class="token operator">:</span> 
</span><span class="code-line">mysql<span class="token operator">&gt;</span> <span class="token constant">USE</span> demo<span class="token punctuation">;</span>
</span><span class="code-line"><span class="token maybe-class-name">Database</span> changed
</span><span class="code-line">mysql<span class="token operator">&gt;</span> <span class="token constant">SOURCE</span> demo<span class="token punctuation">.</span><span class="token property-access">sql</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token maybe-class-name">Query</span> <span class="token constant">OK</span><span class="token punctuation">,</span> <span class="token number">0</span> rows <span class="token function">affected</span> <span class="token punctuation">(</span><span class="token number">0.00</span> sec<span class="token punctuation">)</span>
</span><span class="code-line">mysql<span class="token operator">&gt;</span> 
</span></code></pre></div><p>(2) 图形化界面 <img alt="image.png" src="https://upload-images.jianshu.io/upload_images/4989175-6371649fa676fabc.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240"/> 5. 图形化界面导出为文本文件</p><p>(1) 导出数据结构</p><p><img alt="image.png" src="https://upload-images.jianshu.io/upload_images/4989175-a400da4f3965d1c8.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240"/> (2) 导出向导(数据)</p><p><img alt="image.png" src="https://upload-images.jianshu.io/upload_images/4989175-290f6f10e2f9cafd.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240"/></p><p>注释：当数据导出为文本文件时，由于文本文件中没有<code>SQL</code>语句，<code>MySQL</code>导出时不执行词法分析和语法优化，效率高。 6. 图形化界面导入文本文件</p><p>(1) 导入数据结构 <img alt="image.png" src="https://upload-images.jianshu.io/upload_images/4989175-2539f4cc806c34e8.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240"/> (2) 导入向导(数据) <img alt="导入向导" src="https://upload-images.jianshu.io/upload_images/4989175-973f4246d804e618.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240"/> <img alt="设置数据起始行数" src="https://upload-images.jianshu.io/upload_images/4989175-5c80246c7cb0be6d.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240"/> <img alt="映射字段" src="https://upload-images.jianshu.io/upload_images/4989175-2b326f7942d1196e.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240"/></p><h2 class="content-header" id="34-综合案例新闻管理系统数据库设计"><a class="break-words" href="#34-综合案例新闻管理系统数据库设计" aria-hidden="true" tabindex="-1"><span class="content-header-link"><svg class="h-5 linkicon w-5" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z"></path><path d="M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z"></path></svg></span></a>3.4 综合案例：新闻管理系统数据库设计</h2><ol><li>新闻管理系统成员 <img alt="image.png" src="https://upload-images.jianshu.io/upload_images/4989175-2882388e470201b7.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240"/></li><li>新闻有哪些属性 <img alt="image.png" src="https://upload-images.jianshu.io/upload_images/4989175-6db246b11160e6e2.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240"/></li><li>数据库<code>ER</code>图设计 <img alt="image.png" src="https://upload-images.jianshu.io/upload_images/4989175-5da8c1803d804712.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240"/></li><li>数据加密 (1) 数据加密 分类：对称加密、非对称加密 (2) 对称加密 加密和解密使用同一个秘钥。 分类：<code>DES</code>加密(已淘汰)、<code>AES</code>加密 (3) 非对称加密 加密和解密使用不同的秘钥。 公钥可以解密私钥加密的数据，私钥可以解密公钥加密的数据。 分类：<code>RSA</code>加密、<code>DSA</code>加密、<code>ECC</code>加密</li><li><code>AES</code>加密函数 <code>MySQL</code>提供了<code>AES</code>加密和解密的函数。 <code>AES_ENCRYPT(原始数据, 秘钥字符串);</code> <code>AES</code>解密要使用与加密相同的秘钥，才能解密出原始数据。 <code>AES_DECRYPT(加密结果, 秘钥字符串);</code></li></ol><div class="relative"><pre><code class="language-js code-highlight"><span class="code-line"><span class="token constant">SELECT</span> <span class="token constant">AES_ENCRYPT</span><span class="token punctuation">(</span><span class="token string">&#x27;你好世界&#x27;</span><span class="token punctuation">,</span><span class="token string">&#x27;ABC123456&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line"># è<span class="token constant">Z</span><span class="token maybe-class-name">KaB§</span><span class="token number">7</span><span class="token operator">^</span><span class="token constant">S</span>À<span class="token constant">T</span>\­<span class="token constant">H</span>î 乱码了，可转化为<span class="token number">16</span>进制解决乱码
</span><span class="code-line"><span class="token constant">SELECT</span> <span class="token constant">HEX</span><span class="token punctuation">(</span><span class="token constant">AES_ENCRYPT</span><span class="token punctuation">(</span><span class="token string">&#x27;你好世界&#x27;</span><span class="token punctuation">,</span><span class="token string">&#x27;ABC123456&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
</span><span class="code-line"># hex为<span class="token number">2</span>二进制转<span class="token number">16</span>进制
</span><span class="code-line"># <span class="token constant">E85A104B6142A7375E53C0545CAD48EE</span>
</span><span class="code-line"><span class="token constant">SELECT</span> <span class="token constant">AES_DECRYPT</span><span class="token punctuation">(</span><span class="token constant">UNHEX</span><span class="token punctuation">(</span><span class="token string">&#x27;E85A104B6142A7375E53C0545CAD48EE&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">&#x27;ABC123456&#x27;</span><span class="token punctuation">)</span> 
</span><span class="code-line"># unhex为<span class="token number">16</span>进制转<span class="token number">2</span>进制
</span><span class="code-line"># 你好世界
</span></code></pre></div><ol start="6"><li>数据库实现</li></ol><p>(1) 创建数据库</p><div class="relative"><pre><code class="language-js code-highlight"><span class="code-line"># 创建vega数据库
</span><span class="code-line"><span class="token constant">CREATE</span> <span class="token constant">DATABASE</span> vega<span class="token punctuation">;</span>
</span><span class="code-line"># 切换数据库
</span><span class="code-line"><span class="token constant">USE</span> vega<span class="token punctuation">;</span>
</span></code></pre></div><p>(2) <code>t_type</code>文章类型表 数据表中数据量不大时，可以不添加索引。例如：<code>t_type</code>文章类型表，<code>t_role</code>角色类型表。</p><div class="relative"><pre><code class="language-js code-highlight"><span class="code-line"># 创建文章类型表
</span><span class="code-line"><span class="token constant">CREATE</span> <span class="token constant">TABLE</span> <span class="token function">t_type</span><span class="token punctuation">(</span>
</span><span class="code-line">	id <span class="token constant">INT</span> <span class="token constant">UNSIGNED</span> <span class="token constant">PRIMARY</span> <span class="token constant">KEY</span> <span class="token constant">AUTO_INCREMENT</span><span class="token punctuation">,</span>
</span><span class="code-line">	type <span class="token constant">VARCHAR</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span> <span class="token constant">NOT</span> <span class="token constant">NULL</span> <span class="token constant">UNIQUE</span>
</span><span class="code-line"><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line"># 文章类型表插入数据
</span><span class="code-line"><span class="token constant">INSERT</span> <span class="token constant">INTO</span> <span class="token function">t_type</span><span class="token punctuation">(</span>type<span class="token punctuation">)</span> 
</span><span class="code-line"><span class="token constant">VALUES</span><span class="token punctuation">(</span><span class="token string">&quot;要闻&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token string">&quot;体育&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token string">&quot;科技&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token string">&quot;娱乐&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token string">&quot;历史&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></code></pre></div><p>(3) <code>t_role</code>角色类型表</p><div class="relative"><pre><code class="language-js code-highlight"><span class="code-line"># 创建角色类型表
</span><span class="code-line"><span class="token constant">CREATE</span> <span class="token constant">TABLE</span> <span class="token function">t_role</span><span class="token punctuation">(</span>
</span><span class="code-line">	id <span class="token constant">INT</span> <span class="token constant">UNSIGNED</span> <span class="token constant">PRIMARY</span> <span class="token constant">KEY</span> <span class="token constant">AUTO_INCREMENT</span><span class="token punctuation">,</span>
</span><span class="code-line">	role <span class="token constant">VARCHAR</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span> <span class="token constant">NOT</span> <span class="token constant">NULL</span> <span class="token constant">UNIQUE</span>
</span><span class="code-line"><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line"># 角色类型表插入数据
</span><span class="code-line"><span class="token constant">INSERT</span> <span class="token constant">INTO</span> <span class="token function">t_role</span><span class="token punctuation">(</span>role<span class="token punctuation">)</span>
</span><span class="code-line"><span class="token constant">VALUES</span><span class="token punctuation">(</span><span class="token string">&quot;管理员&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token string">&quot;新闻编辑&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></code></pre></div><p>(4) <code>t_user</code>用户表 数据表中数据量很大，并且经常使用某些字段查找数据，则应该对这些字段创建索引。例如：<code>t_user</code>表中的<code>username</code>。</p><div class="relative"><pre><code class="language-js code-highlight"><span class="code-line"># 创建用户表
</span><span class="code-line"><span class="token constant">CREATE</span> <span class="token constant">TABLE</span> <span class="token function">t_user</span><span class="token punctuation">(</span>
</span><span class="code-line">	id <span class="token constant">INT</span> <span class="token constant">UNSIGNED</span> <span class="token constant">PRIMARY</span> <span class="token constant">KEY</span> <span class="token constant">AUTO_INCREMENT</span><span class="token punctuation">,</span>
</span><span class="code-line">	username <span class="token constant">VARCHAR</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span> <span class="token constant">NOT</span> <span class="token constant">NULL</span> <span class="token constant">UNIQUE</span><span class="token punctuation">,</span>
</span><span class="code-line">	password <span class="token constant">VARCHAR</span><span class="token punctuation">(</span><span class="token number">500</span><span class="token punctuation">)</span> <span class="token constant">NOT</span> <span class="token constant">NULL</span><span class="token punctuation">,</span>
</span><span class="code-line">	email <span class="token constant">VARCHAR</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span> <span class="token constant">NOT</span> <span class="token constant">NULL</span><span class="token punctuation">,</span>
</span><span class="code-line">	role_id <span class="token constant">INT</span> <span class="token constant">UNSIGNED</span> <span class="token constant">NOT</span> <span class="token constant">NULL</span><span class="token punctuation">,</span>
</span><span class="code-line">	<span class="token constant">INDEX</span><span class="token punctuation">(</span>username<span class="token punctuation">)</span>
</span><span class="code-line"><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line"># 用户表插入数据
</span><span class="code-line"><span class="token constant">INSERT</span> <span class="token constant">IGNORE</span> <span class="token constant">INTO</span> <span class="token function">t_user</span><span class="token punctuation">(</span>username<span class="token punctuation">,</span> password<span class="token punctuation">,</span> email<span class="token punctuation">,</span> role_id<span class="token punctuation">)</span> <span class="token constant">VALUES</span>
</span><span class="code-line"><span class="token punctuation">(</span><span class="token string">&#x27;admin&#x27;</span><span class="token punctuation">,</span> <span class="token constant">HEX</span><span class="token punctuation">(</span><span class="token constant">AES_ENCRYPT</span><span class="token punctuation">(</span><span class="token string">&#x27;123456&#x27;</span><span class="token punctuation">,</span><span class="token string">&#x27;HelloWord&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">&#x27;admin@163.com&#x27;</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
</span><span class="code-line"><span class="token punctuation">(</span><span class="token string">&#x27;scott&#x27;</span><span class="token punctuation">,</span> <span class="token constant">HEX</span><span class="token punctuation">(</span><span class="token constant">AES_ENCRYPT</span><span class="token punctuation">(</span><span class="token string">&#x27;123456&#x27;</span><span class="token punctuation">,</span><span class="token string">&#x27;HelloWord&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">&#x27;scott@163.com&#x27;</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></code></pre></div><p>(5) <code>t_news</code>新闻表 新闻内容数据的特点为：数据量大、安全级别低，适合存储在<code>mongodb</code>数据库中。通过<code>content_id</code>查找。</p><div class="relative"><pre><code class="language-js code-highlight"><span class="code-line"># 创建新闻表
</span><span class="code-line"><span class="token constant">CREATE</span> <span class="token constant">TABLE</span> <span class="token function">t_news</span><span class="token punctuation">(</span>
</span><span class="code-line">	id <span class="token constant">INT</span> <span class="token constant">UNSIGNED</span> <span class="token constant">PRIMARY</span> <span class="token constant">KEY</span> <span class="token constant">AUTO_INCREMENT</span><span class="token punctuation">,</span>
</span><span class="code-line">	title <span class="token constant">VARCHAR</span><span class="token punctuation">(</span><span class="token number">40</span><span class="token punctuation">)</span> <span class="token constant">NOT</span> <span class="token constant">NULL</span><span class="token punctuation">,</span>
</span><span class="code-line">	editor_id <span class="token constant">INT</span> <span class="token constant">UNSIGNED</span> <span class="token constant">NOT</span> <span class="token constant">NULL</span><span class="token punctuation">,</span>
</span><span class="code-line">	type_id <span class="token constant">INT</span> <span class="token constant">UNSIGNED</span> <span class="token constant">NOT</span> <span class="token constant">NULL</span><span class="token punctuation">,</span>
</span><span class="code-line">	content_id <span class="token constant">VARCHAR</span><span class="token punctuation">(</span><span class="token number">24</span><span class="token punctuation">)</span> <span class="token constant">NOT</span> <span class="token constant">NULL</span><span class="token punctuation">,</span>
</span><span class="code-line">	is_top <span class="token constant">TINYINT</span> <span class="token constant">UNSIGNED</span> <span class="token constant">NOT</span> <span class="token constant">NULL</span><span class="token punctuation">,</span>
</span><span class="code-line">	create_time <span class="token constant">TIMESTAMP</span> <span class="token constant">NOT</span> <span class="token constant">NULL</span> <span class="token constant">DEFAULT</span> <span class="token constant">CURRENT_TIMESTAMP</span><span class="token punctuation">,</span>
</span><span class="code-line">	update_time <span class="token constant">TIMESTAMP</span> <span class="token constant">NOT</span> <span class="token constant">NULL</span> <span class="token constant">DEFAULT</span> <span class="token constant">CURRENT_TIMESTAMP</span><span class="token punctuation">,</span>
</span><span class="code-line">	state <span class="token constant">ENUM</span><span class="token punctuation">(</span><span class="token string">&#x27;草稿&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;待审批&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;已审批&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;隐藏&#x27;</span><span class="token punctuation">)</span> <span class="token constant">NOT</span> <span class="token constant">NULL</span><span class="token punctuation">,</span>
</span><span class="code-line">	<span class="token constant">INDEX</span><span class="token punctuation">(</span>editor_id<span class="token punctuation">)</span><span class="token punctuation">,</span>
</span><span class="code-line">	<span class="token constant">INDEX</span><span class="token punctuation">(</span>type_id<span class="token punctuation">)</span><span class="token punctuation">,</span>
</span><span class="code-line">	<span class="token constant">INDEX</span><span class="token punctuation">(</span>state<span class="token punctuation">)</span><span class="token punctuation">,</span>
</span><span class="code-line">	<span class="token constant">INDEX</span><span class="token punctuation">(</span>is_top<span class="token punctuation">)</span><span class="token punctuation">,</span>
</span><span class="code-line">	<span class="token constant">INDEX</span><span class="token punctuation">(</span>create_time<span class="token punctuation">)</span>
</span><span class="code-line"><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></code></pre></div><h2 class="content-header" id="35-总结"><a class="break-words" href="#35-总结" aria-hidden="true" tabindex="-1"><span class="content-header-link"><svg class="h-5 linkicon w-5" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z"></path><path d="M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z"></path></svg></span></a>3.5 总结</h2><ol><li>技能清单 学习了事务机制的原理和特性。 掌握了事务的管理。 掌握了数据导出与导入的操作。 完成了新闻管理系统数据表的设计。</li></ol><h1 class="content-header" id="4-mysql与python交互"><a class="break-words" href="#4-mysql与python交互" aria-hidden="true" tabindex="-1"><span class="content-header-link"><svg class="h-5 linkicon w-5" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z"></path><path d="M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z"></path></svg></span></a>4. MySQL与Python交互</h1><h2 class="content-header" id="41-介绍"><a class="break-words" href="#41-介绍" aria-hidden="true" tabindex="-1"><span class="content-header-link"><svg class="h-5 linkicon w-5" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z"></path><path d="M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z"></path></svg></span></a>4.1 介绍</h2><ol><li><code>MySQL Connector</code>模块 数据库连接池、预编译<code>SQL</code>、<code>CRUD</code>操作、事务管理、异常处理</li><li>新闻管理系统 新闻管理、用户管理、系统登录、数据分页等</li></ol><h2 class="content-header" id="42-mysql与python的交互"><a class="break-words" href="#42-mysql与python的交互" aria-hidden="true" tabindex="-1"><span class="content-header-link"><svg class="h-5 linkicon w-5" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z"></path><path d="M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z"></path></svg></span></a>4.2 MySQL与Python的交互</h2><ol><li><code>MySQL Connector</code>模块 <code>MySQL Connector</code>是<code>MySQL</code>官方的驱动模块，兼容性特别好。</li></ol><div class="relative"><pre><code class="language-js code-highlight"><span class="code-line">➜  <span class="token operator">~</span> pip3 install mysql<span class="token operator">-</span>connector
</span><span class="code-line"><span class="token operator spread">...</span>
</span><span class="code-line"><span class="token maybe-class-name">Successfully</span> installed mysql<span class="token operator">-</span>connector<span class="token operator">-</span><span class="token number">2.2</span><span class="token number">.9</span>
</span></code></pre></div><ol start="2"><li>创建连接</li></ol><p>(1) 语法一</p><div class="relative"><pre><code class="language-js code-highlight"><span class="code-line"><span class="token keyword module">import</span> mysql<span class="token punctuation">.</span><span class="token property-access">connector</span>
</span><span class="code-line">con <span class="token operator">=</span> mysql<span class="token punctuation">.</span><span class="token property-access">connector</span><span class="token punctuation">.</span><span class="token property-access function method">connect</span><span class="token punctuation">(</span>
</span><span class="code-line">    host<span class="token operator">=</span><span class="token string">&quot;localhost&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">    port<span class="token operator">=</span><span class="token number">3306</span><span class="token punctuation">,</span>
</span><span class="code-line">    user<span class="token operator">=</span><span class="token string">&quot;root&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">    password<span class="token operator">=</span><span class="token string">&quot;299***&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">    database<span class="token operator">=</span><span class="token string">&quot;demo&quot;</span>
</span><span class="code-line"><span class="token punctuation">)</span>
</span><span class="code-line">
</span><span class="code-line">con<span class="token punctuation">.</span><span class="token property-access function method">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</span></code></pre></div><p>(2) 语法二</p><div class="relative"><pre><code class="language-js code-highlight"><span class="code-line"><span class="token keyword module">import</span> mysql<span class="token punctuation">.</span><span class="token property-access">connector</span>
</span><span class="code-line">
</span><span class="code-line">config <span class="token operator">=</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token property string-property">&quot;host&quot;</span><span class="token operator">:</span><span class="token string">&quot;localhost&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token property string-property">&quot;port&quot;</span><span class="token operator">:</span> <span class="token number">3306</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token property string-property">&quot;user&quot;</span><span class="token operator">:</span> <span class="token string">&quot;root&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token property string-property">&quot;password&quot;</span><span class="token operator">:</span> <span class="token string">&quot;299***&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token property string-property">&quot;database&quot;</span><span class="token operator">:</span> <span class="token string">&quot;demo&quot;</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line">con <span class="token operator">=</span> mysql<span class="token punctuation">.</span><span class="token property-access">connector</span><span class="token punctuation">.</span><span class="token property-access function method">connect</span><span class="token punctuation">(</span><span class="token operator">**</span>config<span class="token punctuation">)</span>
</span><span class="code-line">
</span><span class="code-line">con<span class="token punctuation">.</span><span class="token property-access function method">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</span></code></pre></div><ol start="3"><li>游标(<code>Cursor</code>) <code>MySQL Connector</code>里的游标用来执行<code>SQL</code>语句，查询的结果集也会保存在游标中。</li></ol><div class="relative"><pre><code class="language-js code-highlight"><span class="code-line">cursor <span class="token operator">=</span> con<span class="token punctuation">.</span><span class="token property-access function method">cursor</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</span><span class="code-line">cursor<span class="token punctuation">.</span><span class="token property-access function method">execute</span><span class="token punctuation">(</span>sql语句<span class="token punctuation">)</span>
</span></code></pre></div><div class="relative"><pre><code class="language-js code-highlight"><span class="code-line"><span class="token keyword module">import</span> mysql<span class="token punctuation">.</span><span class="token property-access">connector</span>
</span><span class="code-line">
</span><span class="code-line">con <span class="token operator">=</span> mysql<span class="token punctuation">.</span><span class="token property-access">connector</span><span class="token punctuation">.</span><span class="token property-access function method">connect</span><span class="token punctuation">(</span>
</span><span class="code-line">    host<span class="token operator">=</span><span class="token string">&quot;localhost&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">    port<span class="token operator">=</span><span class="token number">3306</span><span class="token punctuation">,</span>
</span><span class="code-line">    user<span class="token operator">=</span><span class="token string">&quot;root&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">    password<span class="token operator">=</span><span class="token string">&quot;299***&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">    database<span class="token operator">=</span><span class="token string">&quot;demo&quot;</span>
</span><span class="code-line"><span class="token punctuation">)</span>
</span><span class="code-line">
</span><span class="code-line">cursor <span class="token operator">=</span> con<span class="token punctuation">.</span><span class="token property-access function method">cursor</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</span><span class="code-line">sql <span class="token operator">=</span> <span class="token string">&quot;SELECT empno, ename, hiredate FROM t_emp;&quot;</span>
</span><span class="code-line">cursor<span class="token punctuation">.</span><span class="token property-access function method">execute</span><span class="token punctuation">(</span>sql<span class="token punctuation">)</span>
</span><span class="code-line"><span class="token keyword control-flow">for</span> item <span class="token keyword">in</span> <span class="token property literal-property">cursor</span><span class="token operator">:</span>
</span><span class="code-line">    <span class="token function">print</span><span class="token punctuation">(</span>item<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">,</span> item<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">,</span> item<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</span><span class="code-line"># <span class="token number">7369</span> <span class="token constant">SMITH</span> <span class="token number">1980</span><span class="token operator">-</span><span class="token number">12</span><span class="token operator">-</span><span class="token number">17</span>
</span><span class="code-line"># <span class="token number">7499</span> <span class="token constant">ALLEN</span> <span class="token number">1981</span><span class="token operator">-</span><span class="token number">02</span><span class="token operator">-</span><span class="token number">20</span>
</span><span class="code-line"># <span class="token operator spread">...</span>
</span><span class="code-line">
</span><span class="code-line">con<span class="token punctuation">.</span><span class="token property-access function method">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</span></code></pre></div><ol start="4"><li><code>SQL</code>注入攻击</li></ol><div class="relative"><pre><code class="language-js code-highlight"><span class="code-line"><span class="token keyword module">import</span> mysql<span class="token punctuation">.</span><span class="token property-access">connector</span>
</span><span class="code-line">
</span><span class="code-line">config <span class="token operator">=</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token property string-property">&quot;host&quot;</span><span class="token operator">:</span> <span class="token string">&quot;localhost&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token property string-property">&quot;port&quot;</span><span class="token operator">:</span> <span class="token number">3306</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token property string-property">&quot;user&quot;</span><span class="token operator">:</span> <span class="token string">&quot;root&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token property string-property">&quot;password&quot;</span><span class="token operator">:</span> <span class="token string">&quot;299***&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token property string-property">&quot;database&quot;</span><span class="token operator">:</span> <span class="token string">&quot;vega&quot;</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line"># 连接数据库
</span><span class="code-line">con <span class="token operator">=</span> mysql<span class="token punctuation">.</span><span class="token property-access">connector</span><span class="token punctuation">.</span><span class="token property-access function method">connect</span><span class="token punctuation">(</span><span class="token operator">**</span>config<span class="token punctuation">)</span>
</span><span class="code-line">
</span><span class="code-line"># 获取游标
</span><span class="code-line">cursor <span class="token operator">=</span> con<span class="token punctuation">.</span><span class="token property-access function method">cursor</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</span><span class="code-line">username <span class="token operator">=</span> <span class="token string">&quot;1 OR 1=1&quot;</span>
</span><span class="code-line">password <span class="token operator">=</span> <span class="token string">&quot;1 OR 1=1&quot;</span>
</span><span class="code-line">sql <span class="token operator">=</span> <span class="token string">&quot;SELECT COUNT(*) FROM t_user WHERE username=%s&quot;</span> \
</span><span class="code-line">    <span class="token string">&quot; AND AES_DECRYPT(UNHEX(password), &#x27;HelloWord&#x27;)=%s;&quot;</span>
</span><span class="code-line">
</span><span class="code-line">cursor<span class="token punctuation">.</span><span class="token property-access function method">execute</span><span class="token punctuation">(</span>sql<span class="token operator">%</span><span class="token punctuation">(</span>username<span class="token punctuation">,</span> password<span class="token punctuation">)</span><span class="token punctuation">)</span>
</span><span class="code-line"><span class="token function">print</span><span class="token punctuation">(</span>cursor<span class="token punctuation">.</span><span class="token property-access function method">fetchone</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span>  # <span class="token number">2</span>
</span><span class="code-line"># 关闭数据库连接
</span><span class="code-line">con<span class="token punctuation">.</span><span class="token property-access function method">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</span></code></pre></div><p>注意：密码必须是字符串格式。 5. <code>SQL</code>注入攻击的危害 由于<code>SQL</code>语句是解释型语言，所以在拼接<code>SQL</code>语句的时候，容易被注入恶意的<code>SQL</code>语句。</p><div class="relative"><pre><code class="language-js code-highlight"><span class="code-line">id <span class="token operator">=</span> <span class="token string">&quot;1 OR 1=1&quot;</span>
</span><span class="code-line">sql <span class="token operator">=</span> <span class="token string">&quot;DELETE FROM t_news WHERE id={}&quot;</span><span class="token punctuation">.</span><span class="token property-access function method">format</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span>
</span></code></pre></div><ol start="6"><li><code>SQL</code>预编译机制 (1) <code>SQL</code>预编译机制 预编译<code>SQL</code>就是数据库提前把<code>SQL</code>语句编译成二进制，这样反复执行同一条<code>SQL</code>语句的效率就会提升。 (2) 抵御注入攻击 <code>SQL</code>语句编译的过程中，关键字已经被解析过了，所以向编译后的<code>SQL</code>语句传入参数，参数都被当做字符串处理，数据库不会解析其中注入的<code>SQL</code>语句。 注释：预编译机制既可以提升<code>SQL</code>语句的执行效率，又可以抵御注入攻击。</li><li>抵御注入攻击</li></ol><div class="relative"><pre><code class="language-js code-highlight"><span class="code-line"><span class="token keyword module">import</span> mysql<span class="token punctuation">.</span><span class="token property-access">connector</span>
</span><span class="code-line">
</span><span class="code-line">config <span class="token operator">=</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token property string-property">&quot;host&quot;</span><span class="token operator">:</span> <span class="token string">&quot;localhost&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token property string-property">&quot;port&quot;</span><span class="token operator">:</span> <span class="token number">3306</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token property string-property">&quot;user&quot;</span><span class="token operator">:</span> <span class="token string">&quot;root&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token property string-property">&quot;password&quot;</span><span class="token operator">:</span> <span class="token string">&quot;299***&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token property string-property">&quot;database&quot;</span><span class="token operator">:</span> <span class="token string">&quot;vega&quot;</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line"># 连接数据库
</span><span class="code-line">con <span class="token operator">=</span> mysql<span class="token punctuation">.</span><span class="token property-access">connector</span><span class="token punctuation">.</span><span class="token property-access function method">connect</span><span class="token punctuation">(</span><span class="token operator">**</span>config<span class="token punctuation">)</span>
</span><span class="code-line">
</span><span class="code-line"># 获取游标
</span><span class="code-line">cursor <span class="token operator">=</span> con<span class="token punctuation">.</span><span class="token property-access function method">cursor</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</span><span class="code-line">username <span class="token operator">=</span> <span class="token string">&quot;1 OR 1=1&quot;</span>
</span><span class="code-line">password <span class="token operator">=</span> <span class="token string">&quot;1 OR 1=1&quot;</span>
</span><span class="code-line">sql <span class="token operator">=</span> <span class="token string">&quot;SELECT COUNT(*) FROM t_user WHERE username=%s&quot;</span> \
</span><span class="code-line">    <span class="token string">&quot; AND AES_DECRYPT(UNHEX(password), &#x27;HelloWord&#x27;)=%s;&quot;</span>
</span><span class="code-line">
</span><span class="code-line">cursor<span class="token punctuation">.</span><span class="token property-access function method">execute</span><span class="token punctuation">(</span>sql<span class="token punctuation">,</span> <span class="token punctuation">(</span>username<span class="token punctuation">,</span> password<span class="token punctuation">)</span><span class="token punctuation">)</span>
</span><span class="code-line"><span class="token function">print</span><span class="token punctuation">(</span>cursor<span class="token punctuation">.</span><span class="token property-access function method">fetchone</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span>  # <span class="token number">0</span>
</span><span class="code-line"># 关闭数据库连接
</span><span class="code-line">con<span class="token punctuation">.</span><span class="token property-access function method">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</span></code></pre></div><p>注意：<code>execute</code>的第二个参数为元组或数组，例如: <code>[a]</code>、<code>(a,)</code>。 8. 事务控制</p><div class="relative"><pre><code class="language-js code-highlight"><span class="code-line">con<span class="token punctuation">.</span><span class="token property-access function method">start_transaction</span><span class="token punctuation">(</span><span class="token punctuation">[</span>事务隔离机制<span class="token punctuation">]</span><span class="token punctuation">)</span>
</span><span class="code-line">con<span class="token punctuation">.</span><span class="token property-access function method">commit</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</span><span class="code-line">con<span class="token punctuation">.</span><span class="token property-access function method">rollback</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</span></code></pre></div><ol start="9"><li>异常处理</li></ol><p>(1) 语法</p><div class="relative"><pre><code class="language-js code-highlight"><span class="code-line"><span class="token keyword control-flow">try</span><span class="token operator">:</span>
</span><span class="code-line">    con <span class="token operator">=</span> mysql<span class="token punctuation">.</span><span class="token property-access">connector</span><span class="token punctuation">.</span><span class="token property-access function method">connect</span><span class="token punctuation">(</span><span class="token operator spread">...</span><span class="token punctuation">)</span>
</span><span class="code-line">    <span class="token punctuation">[</span> con<span class="token punctuation">.</span><span class="token property-access function method">start_transaction</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">]</span>
</span><span class="code-line">    <span class="token operator spread">...</span>
</span><span class="code-line">    con<span class="token punctuation">.</span><span class="token property-access function method">commit</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</span><span class="code-line">except <span class="token maybe-class-name">Exception</span> <span class="token keyword module">as</span> <span class="token property literal-property">e</span><span class="token operator">:</span>
</span><span class="code-line">    <span class="token punctuation">[</span> con<span class="token punctuation">.</span><span class="token property-access function method">rollback</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">]</span>
</span><span class="code-line">    <span class="token function">print</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span>
</span><span class="code-line"><span class="token keyword control-flow">finally</span><span class="token operator">:</span>
</span><span class="code-line">    <span class="token keyword control-flow">if</span> <span class="token string">&quot;con&quot;</span> <span class="token keyword">in</span> <span class="token function">dir</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span>
</span><span class="code-line">        con<span class="token punctuation">.</span><span class="token property-access function method">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</span></code></pre></div><p>(2) 示例</p><div class="relative"><pre><code class="language-js code-highlight"><span class="code-line"><span class="token keyword module">import</span> mysql<span class="token punctuation">.</span><span class="token property-access">connector</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword control-flow">try</span><span class="token operator">:</span>
</span><span class="code-line">    con <span class="token operator">=</span> mysql<span class="token punctuation">.</span><span class="token property-access">connector</span><span class="token punctuation">.</span><span class="token property-access function method">connect</span><span class="token punctuation">(</span>
</span><span class="code-line">        host<span class="token operator">=</span><span class="token string">&#x27;localhost&#x27;</span><span class="token punctuation">,</span>
</span><span class="code-line">        port<span class="token operator">=</span><span class="token number">3306</span><span class="token punctuation">,</span>
</span><span class="code-line">        user<span class="token operator">=</span><span class="token string">&#x27;root&#x27;</span><span class="token punctuation">,</span>
</span><span class="code-line">        password<span class="token operator">=</span><span class="token string">&#x27;299***&#x27;</span><span class="token punctuation">,</span>
</span><span class="code-line">        database<span class="token operator">=</span><span class="token string">&#x27;demo&#x27;</span>
</span><span class="code-line">    <span class="token punctuation">)</span>
</span><span class="code-line">    con<span class="token punctuation">.</span><span class="token property-access function method">start_transaction</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</span><span class="code-line">    cursor <span class="token operator">=</span> con<span class="token punctuation">.</span><span class="token property-access function method">cursor</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</span><span class="code-line">    sql <span class="token operator">=</span> <span class="token string">&quot;INSERT INTO t_emp(empno,ename,job,mgr,hiredate,sal,comm,deptno) &quot;</span> \
</span><span class="code-line">          <span class="token string">&quot;VALUES(%s, %s, %s, %s, %s, %s, %s, %s);&quot;</span>
</span><span class="code-line">    cursor<span class="token punctuation">.</span><span class="token property-access function method">execute</span><span class="token punctuation">(</span>sql<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">9600</span><span class="token punctuation">,</span> <span class="token string">&#x27;赵娜&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;SALESMAN&#x27;</span><span class="token punctuation">,</span> <span class="token maybe-class-name">None</span><span class="token punctuation">,</span><span class="token string">&#x27;1998-09-08&#x27;</span><span class="token punctuation">,</span> <span class="token number">2000</span><span class="token punctuation">,</span> <span class="token maybe-class-name">None</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</span><span class="code-line">    con<span class="token punctuation">.</span><span class="token property-access function method">commit</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</span><span class="code-line">except <span class="token maybe-class-name">Exception</span> <span class="token keyword module">as</span> <span class="token property literal-property">e</span><span class="token operator">:</span>
</span><span class="code-line">    <span class="token keyword control-flow">if</span> <span class="token string">&#x27;con&#x27;</span> <span class="token keyword">in</span> <span class="token function">dir</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span>
</span><span class="code-line">        con<span class="token punctuation">.</span><span class="token property-access function method">rollback</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</span><span class="code-line">    <span class="token function">print</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span>
</span><span class="code-line"><span class="token keyword control-flow">finally</span><span class="token operator">:</span>
</span><span class="code-line">    <span class="token keyword control-flow">if</span> <span class="token string">&#x27;con&#x27;</span> <span class="token keyword">in</span> <span class="token function">dir</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span>
</span><span class="code-line">        con<span class="token punctuation">.</span><span class="token property-access function method">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</span></code></pre></div><ol start="10"><li>数据库连接池技术 数据库连接是一种关键的、有限的、昂贵的资源，在并发执行的应用程序中体现的尤为突出。<code>TCP</code>连接需要三次握手，四次挥手，然后数据库还要验证用户信息。 数据库连接池(<code>ConnectionPool</code>)预先创建出一些数据库连接，然后缓存起来，避免了程序语言反复创建和销毁连接的昂贵代价。</li></ol><div class="relative"><pre><code class="language-js code-highlight"><span class="code-line"><span class="token keyword module">import</span> mysql<span class="token punctuation">.</span><span class="token property-access">connector</span><span class="token punctuation">.</span><span class="token property-access">pooling</span>
</span><span class="code-line">
</span><span class="code-line">config <span class="token operator">=</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token property string-property">&#x27;host&#x27;</span><span class="token operator">:</span> <span class="token string">&#x27;localhost&#x27;</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token property string-property">&#x27;port&#x27;</span><span class="token operator">:</span> <span class="token string">&#x27;3306&#x27;</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token property string-property">&#x27;user&#x27;</span><span class="token operator">:</span> <span class="token string">&#x27;root&#x27;</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token property string-property">&#x27;password&#x27;</span><span class="token operator">:</span> <span class="token string">&#x27;299***&#x27;</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token property string-property">&#x27;database&#x27;</span><span class="token operator">:</span> <span class="token string">&#x27;demo&#x27;</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword control-flow">try</span><span class="token operator">:</span>
</span><span class="code-line">    pool <span class="token operator">=</span> mysql<span class="token punctuation">.</span><span class="token property-access">connector</span><span class="token punctuation">.</span><span class="token property-access">pooling</span><span class="token punctuation">.</span><span class="token property-access function method"><span class="token maybe-class-name">MySQLConnectionPool</span></span><span class="token punctuation">(</span>
</span><span class="code-line">        <span class="token operator">**</span>config<span class="token punctuation">,</span>
</span><span class="code-line">        pool_size<span class="token operator">=</span><span class="token number">10</span>
</span><span class="code-line">    <span class="token punctuation">)</span>
</span><span class="code-line">    con <span class="token operator">=</span> pool<span class="token punctuation">.</span><span class="token property-access function method">get_connection</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</span><span class="code-line">    con<span class="token punctuation">.</span><span class="token property-access function method">start_transaction</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</span><span class="code-line">    cursor <span class="token operator">=</span> con<span class="token punctuation">.</span><span class="token property-access function method">cursor</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</span><span class="code-line">    sql <span class="token operator">=</span> <span class="token string">&quot;UPDATE t_emp SET sal=sal+%s WHERE deptno=%s;&quot;</span>
</span><span class="code-line">    cursor<span class="token punctuation">.</span><span class="token property-access function method">execute</span><span class="token punctuation">(</span>sql<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</span><span class="code-line">    con<span class="token punctuation">.</span><span class="token property-access function method">commit</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</span><span class="code-line">except <span class="token maybe-class-name">Exception</span> <span class="token keyword module">as</span> <span class="token property literal-property">e</span><span class="token operator">:</span>
</span><span class="code-line">    <span class="token keyword control-flow">if</span> <span class="token string">&quot;con&quot;</span> <span class="token keyword">in</span> <span class="token function">dir</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span>
</span><span class="code-line">        con<span class="token punctuation">.</span><span class="token property-access function method">rollback</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</span><span class="code-line">    <span class="token function">print</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span>
</span><span class="code-line"><span class="token keyword control-flow">finally</span><span class="token operator">:</span>
</span><span class="code-line">    <span class="token keyword control-flow">if</span> <span class="token string">&quot;con&quot;</span> <span class="token keyword">in</span> <span class="token function">dir</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span>
</span><span class="code-line">        con<span class="token punctuation">.</span><span class="token property-access function method">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</span></code></pre></div><p>注意：使用数据库连接池(<code>ConnectionPool</code>)也需要关闭(<code>close</code>)。 11. 删除数据</p><p>(1) <code>DELETE</code>语句删除记录</p><div class="relative"><pre><code class="language-js code-highlight"><span class="code-line"><span class="token keyword module">import</span> mysql<span class="token punctuation">.</span><span class="token property-access">connector</span><span class="token punctuation">.</span><span class="token property-access">pooling</span>
</span><span class="code-line">
</span><span class="code-line">config <span class="token operator">=</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token property string-property">&#x27;host&#x27;</span><span class="token operator">:</span> <span class="token string">&#x27;localhost&#x27;</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token property string-property">&#x27;port&#x27;</span><span class="token operator">:</span> <span class="token number">3306</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token property string-property">&#x27;user&#x27;</span><span class="token operator">:</span> <span class="token string">&#x27;root&#x27;</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token property string-property">&#x27;password&#x27;</span><span class="token operator">:</span> <span class="token string">&#x27;299***&#x27;</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token property string-property">&#x27;database&#x27;</span><span class="token operator">:</span> <span class="token string">&#x27;demo&#x27;</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword control-flow">try</span><span class="token operator">:</span>
</span><span class="code-line">    pool <span class="token operator">=</span> mysql<span class="token punctuation">.</span><span class="token property-access">connector</span><span class="token punctuation">.</span><span class="token property-access">pooling</span><span class="token punctuation">.</span><span class="token property-access function method"><span class="token maybe-class-name">MySQLConnectionPool</span></span><span class="token punctuation">(</span>
</span><span class="code-line">        <span class="token operator">**</span>config<span class="token punctuation">,</span>
</span><span class="code-line">        pool_size<span class="token operator">=</span><span class="token number">10</span>
</span><span class="code-line">    <span class="token punctuation">)</span>
</span><span class="code-line">    con <span class="token operator">=</span> pool<span class="token punctuation">.</span><span class="token property-access function method">get_connection</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</span><span class="code-line">    con<span class="token punctuation">.</span><span class="token property-access function method">start_transaction</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</span><span class="code-line">    cursor <span class="token operator">=</span> con<span class="token punctuation">.</span><span class="token property-access function method">cursor</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</span><span class="code-line">    sql <span class="token operator">=</span> <span class="token string">&quot;DELETE e, d FROM t_emp e JOIN t_dept d ON e.deptno=d.deptno &quot;</span> \
</span><span class="code-line">          <span class="token string">&quot;WHERE d.deptno=20;&quot;</span>
</span><span class="code-line">    cursor<span class="token punctuation">.</span><span class="token property-access function method">execute</span><span class="token punctuation">(</span>sql<span class="token punctuation">)</span>
</span><span class="code-line">    con<span class="token punctuation">.</span><span class="token property-access function method">commit</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</span><span class="code-line">except <span class="token maybe-class-name">Exception</span> <span class="token keyword module">as</span> <span class="token property literal-property">e</span><span class="token operator">:</span>
</span><span class="code-line">    <span class="token keyword control-flow">if</span> <span class="token string">&#x27;con&#x27;</span> <span class="token keyword">in</span> <span class="token function">dir</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span>
</span><span class="code-line">        con<span class="token punctuation">.</span><span class="token property-access function method">rollback</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</span><span class="code-line">    <span class="token function">print</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span>
</span><span class="code-line"><span class="token keyword control-flow">finally</span><span class="token operator">:</span>
</span><span class="code-line">    <span class="token keyword control-flow">if</span> <span class="token string">&quot;con&quot;</span> <span class="token keyword">in</span> <span class="token function">dir</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span>
</span><span class="code-line">        con<span class="token punctuation">.</span><span class="token property-access function method">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</span></code></pre></div><p>(2) <code>TRUNCATE</code>语句快速删除记录 <code>TRUNCATE</code>语句是在事务机制之外删除记录。</p><div class="relative"><pre><code class="language-js code-highlight"><span class="code-line"><span class="token keyword module">import</span> mysql<span class="token punctuation">.</span><span class="token property-access">connector</span><span class="token punctuation">.</span><span class="token property-access">pooling</span>
</span><span class="code-line">
</span><span class="code-line">config <span class="token operator">=</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token property string-property">&#x27;host&#x27;</span><span class="token operator">:</span> <span class="token string">&#x27;localhost&#x27;</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token property string-property">&#x27;port&#x27;</span><span class="token operator">:</span> <span class="token number">3306</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token property string-property">&#x27;user&#x27;</span><span class="token operator">:</span> <span class="token string">&#x27;root&#x27;</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token property string-property">&#x27;password&#x27;</span><span class="token operator">:</span> <span class="token string">&#x27;299***&#x27;</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token property string-property">&#x27;database&#x27;</span><span class="token operator">:</span> <span class="token string">&#x27;demo&#x27;</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword control-flow">try</span><span class="token operator">:</span>
</span><span class="code-line">    pool <span class="token operator">=</span> mysql<span class="token punctuation">.</span><span class="token property-access">connector</span><span class="token punctuation">.</span><span class="token property-access">pooling</span><span class="token punctuation">.</span><span class="token property-access function method"><span class="token maybe-class-name">MySQLConnectionPool</span></span><span class="token punctuation">(</span>
</span><span class="code-line">        <span class="token operator">**</span>config<span class="token punctuation">,</span>
</span><span class="code-line">        pool_size<span class="token operator">=</span><span class="token number">10</span>
</span><span class="code-line">    <span class="token punctuation">)</span>
</span><span class="code-line">    con <span class="token operator">=</span> pool<span class="token punctuation">.</span><span class="token property-access function method">get_connection</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</span><span class="code-line">    cursor <span class="token operator">=</span> con<span class="token punctuation">.</span><span class="token property-access function method">cursor</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</span><span class="code-line">    sql <span class="token operator">=</span> <span class="token string">&quot;TRUNCATE TABLE t_emp&quot;</span>
</span><span class="code-line">    cursor<span class="token punctuation">.</span><span class="token property-access function method">execute</span><span class="token punctuation">(</span>sql<span class="token punctuation">)</span>
</span><span class="code-line">except <span class="token maybe-class-name">Exception</span> <span class="token keyword module">as</span> <span class="token property literal-property">e</span><span class="token operator">:</span>
</span><span class="code-line">    <span class="token function">print</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span>
</span></code></pre></div><ol start="12"><li>循环执行<code>SQL</code>语句</li></ol><p>(1) <code>for</code>循环执行<code>execute()</code>函数</p><div class="relative"><pre><code class="language-js code-highlight"><span class="code-line"><span class="token keyword module">import</span> mysql<span class="token punctuation">.</span><span class="token property-access">connector</span><span class="token punctuation">.</span><span class="token property-access">pooling</span>
</span><span class="code-line">
</span><span class="code-line">config <span class="token operator">=</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token property string-property">&#x27;host&#x27;</span><span class="token operator">:</span> <span class="token string">&#x27;localhost&#x27;</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token property string-property">&#x27;port&#x27;</span><span class="token operator">:</span> <span class="token number">3306</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token property string-property">&#x27;user&#x27;</span><span class="token operator">:</span> <span class="token string">&#x27;root&#x27;</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token property string-property">&#x27;password&#x27;</span><span class="token operator">:</span> <span class="token string">&#x27;299***&#x27;</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token property string-property">&#x27;database&#x27;</span><span class="token operator">:</span> <span class="token string">&#x27;demo&#x27;</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword control-flow">try</span><span class="token operator">:</span>
</span><span class="code-line">    pool <span class="token operator">=</span> mysql<span class="token punctuation">.</span><span class="token property-access">connector</span><span class="token punctuation">.</span><span class="token property-access">pooling</span><span class="token punctuation">.</span><span class="token property-access function method"><span class="token maybe-class-name">MySQLConnectionPool</span></span><span class="token punctuation">(</span>
</span><span class="code-line">        <span class="token operator">**</span>config<span class="token punctuation">,</span>
</span><span class="code-line">        pool_size<span class="token operator">=</span><span class="token number">10</span>
</span><span class="code-line">    <span class="token punctuation">)</span>
</span><span class="code-line">    con <span class="token operator">=</span> pool<span class="token punctuation">.</span><span class="token property-access function method">get_connection</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</span><span class="code-line">    con<span class="token punctuation">.</span><span class="token property-access function method">start_transaction</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</span><span class="code-line">    cursor <span class="token operator">=</span> con<span class="token punctuation">.</span><span class="token property-access function method">cursor</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</span><span class="code-line">    sql <span class="token operator">=</span> <span class="token string">&quot;INSERT INTO t_dept(deptno, dname, loc) VALUES (%s, %s, %s);&quot;</span>
</span><span class="code-line">    data <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">50</span><span class="token punctuation">,</span> <span class="token string">&#x27;部门1&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;北京&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">60</span><span class="token punctuation">,</span> <span class="token string">&#x27;部门2&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;上海&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
</span><span class="code-line">    <span class="token keyword control-flow">for</span> item <span class="token keyword">in</span> <span class="token property literal-property">data</span><span class="token operator">:</span>
</span><span class="code-line">        cursor<span class="token punctuation">.</span><span class="token property-access function method">execute</span><span class="token punctuation">(</span>sql<span class="token punctuation">,</span> item<span class="token punctuation">)</span>
</span><span class="code-line">    con<span class="token punctuation">.</span><span class="token property-access function method">commit</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</span><span class="code-line">except <span class="token maybe-class-name">Exception</span> <span class="token keyword module">as</span> <span class="token property literal-property">e</span><span class="token operator">:</span>
</span><span class="code-line">    <span class="token keyword control-flow">if</span> <span class="token string">&#x27;con&#x27;</span> <span class="token keyword">in</span> <span class="token function">dir</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span>
</span><span class="code-line">        con<span class="token punctuation">.</span><span class="token property-access function method">rollback</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</span><span class="code-line">    <span class="token function">print</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span>
</span><span class="code-line"><span class="token keyword control-flow">finally</span><span class="token operator">:</span>
</span><span class="code-line">    <span class="token keyword control-flow">if</span> <span class="token string">&quot;con&quot;</span> <span class="token keyword">in</span> <span class="token function">dir</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span>
</span><span class="code-line">        con<span class="token punctuation">.</span><span class="token property-access function method">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</span></code></pre></div><p>(2) 游标(<code>cursor</code>)对象中的<code>executemany()</code>函数可以反复执行一条<code>SQL</code>语句。</p><div class="relative"><pre><code class="language-js code-highlight"><span class="code-line"><span class="token keyword module">import</span> mysql<span class="token punctuation">.</span><span class="token property-access">connector</span><span class="token punctuation">.</span><span class="token property-access">pooling</span>
</span><span class="code-line">
</span><span class="code-line">config <span class="token operator">=</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token property string-property">&#x27;host&#x27;</span><span class="token operator">:</span> <span class="token string">&#x27;localhost&#x27;</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token property string-property">&#x27;port&#x27;</span><span class="token operator">:</span> <span class="token number">3306</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token property string-property">&#x27;user&#x27;</span><span class="token operator">:</span> <span class="token string">&#x27;root&#x27;</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token property string-property">&#x27;password&#x27;</span><span class="token operator">:</span> <span class="token string">&#x27;299***&#x27;</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token property string-property">&#x27;database&#x27;</span><span class="token operator">:</span> <span class="token string">&#x27;demo&#x27;</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword control-flow">try</span><span class="token operator">:</span>
</span><span class="code-line">    pool <span class="token operator">=</span> mysql<span class="token punctuation">.</span><span class="token property-access">connector</span><span class="token punctuation">.</span><span class="token property-access">pooling</span><span class="token punctuation">.</span><span class="token property-access function method"><span class="token maybe-class-name">MySQLConnectionPool</span></span><span class="token punctuation">(</span>
</span><span class="code-line">        <span class="token operator">**</span>config<span class="token punctuation">,</span>
</span><span class="code-line">        pool_size<span class="token operator">=</span><span class="token number">10</span>
</span><span class="code-line">    <span class="token punctuation">)</span>
</span><span class="code-line">    con <span class="token operator">=</span> pool<span class="token punctuation">.</span><span class="token property-access function method">get_connection</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</span><span class="code-line">    con<span class="token punctuation">.</span><span class="token property-access function method">start_transaction</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</span><span class="code-line">    cursor <span class="token operator">=</span> con<span class="token punctuation">.</span><span class="token property-access function method">cursor</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</span><span class="code-line">    sql <span class="token operator">=</span> <span class="token string">&quot;INSERT INTO t_dept(deptno, dname, loc) VALUES (%s, %s, %s);&quot;</span>
</span><span class="code-line">    data <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token number">70</span><span class="token punctuation">,</span> <span class="token string">&#x27;部门1&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;北京&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token number">80</span><span class="token punctuation">,</span> <span class="token string">&#x27;部门2&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;上海&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
</span><span class="code-line">    cursor<span class="token punctuation">.</span><span class="token property-access function method">executemany</span><span class="token punctuation">(</span>sql<span class="token punctuation">,</span> data<span class="token punctuation">)</span>
</span><span class="code-line">    con<span class="token punctuation">.</span><span class="token property-access function method">commit</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</span><span class="code-line">except <span class="token maybe-class-name">Exception</span> <span class="token keyword module">as</span> <span class="token property literal-property">e</span><span class="token operator">:</span>
</span><span class="code-line">    <span class="token keyword control-flow">if</span> <span class="token string">&#x27;con&#x27;</span> <span class="token keyword">in</span> <span class="token function">dir</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span>
</span><span class="code-line">        con<span class="token punctuation">.</span><span class="token property-access function method">rollback</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</span><span class="code-line">    <span class="token function">print</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span>
</span><span class="code-line"><span class="token keyword control-flow">finally</span><span class="token operator">:</span>
</span><span class="code-line">    <span class="token keyword control-flow">if</span> <span class="token string">&quot;con&quot;</span> <span class="token keyword">in</span> <span class="token function">dir</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span>
</span><span class="code-line">        con<span class="token punctuation">.</span><span class="token property-access function method">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</span></code></pre></div><ol start="13"><li>使用<code>INSERT</code>语句，把部门平均底薪超过公司平均底薪这样的部门里的员工信息导入到<code>t_emp_new</code>表里，并且让这些员工隶属于<code>sales</code>部门。 编程语言中，数据库查询结果可以通过变量保存，比直接通过<code>SQL</code>语句操作数据库的写法简单。</li></ol><div class="relative"><pre><code class="language-js code-highlight"><span class="code-line"><span class="token keyword module">import</span> mysql<span class="token punctuation">.</span><span class="token property-access">connector</span><span class="token punctuation">.</span><span class="token property-access">pooling</span>
</span><span class="code-line">
</span><span class="code-line">config <span class="token operator">=</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token property string-property">&#x27;host&#x27;</span><span class="token operator">:</span> <span class="token string">&#x27;localhost&#x27;</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token property string-property">&#x27;port&#x27;</span><span class="token operator">:</span> <span class="token string">&#x27;3306&#x27;</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token property string-property">&#x27;user&#x27;</span><span class="token operator">:</span> <span class="token string">&#x27;root&#x27;</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token property string-property">&#x27;password&#x27;</span><span class="token operator">:</span> <span class="token string">&#x27;299***&#x27;</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token property string-property">&#x27;database&#x27;</span><span class="token operator">:</span> <span class="token string">&#x27;demo&#x27;</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword control-flow">try</span><span class="token operator">:</span>
</span><span class="code-line">    pool <span class="token operator">=</span> mysql<span class="token punctuation">.</span><span class="token property-access">connector</span><span class="token punctuation">.</span><span class="token property-access">pooling</span><span class="token punctuation">.</span><span class="token property-access function method"><span class="token maybe-class-name">MySQLConnectionPool</span></span><span class="token punctuation">(</span>
</span><span class="code-line">        <span class="token operator">**</span>config<span class="token punctuation">,</span>
</span><span class="code-line">        pool_size<span class="token operator">=</span><span class="token number">10</span>
</span><span class="code-line">    <span class="token punctuation">)</span>
</span><span class="code-line">    con <span class="token operator">=</span> pool<span class="token punctuation">.</span><span class="token property-access function method">get_connection</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</span><span class="code-line">    con<span class="token punctuation">.</span><span class="token property-access function method">start_transaction</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</span><span class="code-line">    cursor <span class="token operator">=</span> con<span class="token punctuation">.</span><span class="token property-access function method">cursor</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</span><span class="code-line">    # 创建数据表
</span><span class="code-line">    sql <span class="token operator">=</span> <span class="token string">&quot;CREATE TABLE t_emp_new LIKE t_emp;&quot;</span>
</span><span class="code-line">    cursor<span class="token punctuation">.</span><span class="token property-access function method">execute</span><span class="token punctuation">(</span>sql<span class="token punctuation">)</span>
</span><span class="code-line">    # 公司平均底薪
</span><span class="code-line">    sql <span class="token operator">=</span> <span class="token string">&quot;SELECT AVG(sal) as avg FROM t_emp;&quot;</span>
</span><span class="code-line">    cursor<span class="token punctuation">.</span><span class="token property-access function method">execute</span><span class="token punctuation">(</span>sql<span class="token punctuation">)</span>
</span><span class="code-line">    avg <span class="token operator">=</span> cursor<span class="token punctuation">.</span><span class="token property-access function method">fetchone</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
</span><span class="code-line">    # <span class="token function">print</span><span class="token punctuation">(</span>avg<span class="token punctuation">)</span> # <span class="token number">2073.214286</span>
</span><span class="code-line">    # 部门底薪超过公司平均底薪的部门
</span><span class="code-line">    sql <span class="token operator">=</span> <span class="token string">&quot;SELECT deptno FROM t_emp GROUP BY deptno HAVING AVG(sal) &gt;= %s;&quot;</span>
</span><span class="code-line">    cursor<span class="token punctuation">.</span><span class="token property-access function method">execute</span><span class="token punctuation">(</span>sql<span class="token punctuation">,</span> <span class="token punctuation">(</span>avg<span class="token punctuation">,</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</span><span class="code-line">    deptnos <span class="token operator">=</span> cursor<span class="token punctuation">.</span><span class="token property-access function method">fetchall</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</span><span class="code-line">    # <span class="token function">print</span><span class="token punctuation">(</span>deptnos<span class="token punctuation">)</span> # <span class="token punctuation">[</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">,</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
</span><span class="code-line">    # 符合条件的部门员工导入到新表
</span><span class="code-line">    deptnos_str <span class="token operator">=</span> <span class="token string">&#x27;(&#x27;</span>
</span><span class="code-line">    <span class="token keyword control-flow">for</span> index <span class="token keyword">in</span> <span class="token function">range</span><span class="token punctuation">(</span><span class="token function">len</span><span class="token punctuation">(</span>deptnos<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">:</span>
</span><span class="code-line">        <span class="token keyword control-flow">if</span> index <span class="token operator">==</span> <span class="token function">len</span><span class="token punctuation">(</span>deptnos<span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token operator">:</span>
</span><span class="code-line">            deptnos_str <span class="token operator">+=</span> <span class="token punctuation">(</span><span class="token function">str</span><span class="token punctuation">(</span>deptnos<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</span><span class="code-line">        <span class="token keyword control-flow">else</span><span class="token operator">:</span>
</span><span class="code-line">            deptnos_str <span class="token operator">+=</span> <span class="token punctuation">(</span><span class="token function">str</span><span class="token punctuation">(</span>deptnos<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&#x27;,&#x27;</span><span class="token punctuation">)</span>
</span><span class="code-line">    deptnos_str <span class="token operator">+=</span> <span class="token string">&#x27;)&#x27;</span>
</span><span class="code-line">    sql <span class="token operator">=</span> <span class="token string">&quot;INSERT INTO t_emp_new (SELECT * FROM t_emp WHERE deptno IN {});&quot;</span><span class="token punctuation">.</span><span class="token property-access function method">format</span><span class="token punctuation">(</span>deptnos_str<span class="token punctuation">)</span>
</span><span class="code-line">    cursor<span class="token punctuation">.</span><span class="token property-access function method">execute</span><span class="token punctuation">(</span>sql<span class="token punctuation">)</span>
</span><span class="code-line">    sql <span class="token operator">=</span> <span class="token string">&quot;DELETE FROM t_emp WHERE deptno IN {};&quot;</span><span class="token punctuation">.</span><span class="token property-access function method">format</span><span class="token punctuation">(</span>deptnos_str<span class="token punctuation">)</span>
</span><span class="code-line">    cursor<span class="token punctuation">.</span><span class="token property-access function method">execute</span><span class="token punctuation">(</span>sql<span class="token punctuation">)</span>
</span><span class="code-line">    # 将t_emp_new表的员工部门修改为sales部门
</span><span class="code-line">    sql <span class="token operator">=</span> <span class="token string">&quot;SELECT deptno FROM t_dept WHERE dname=%s;&quot;</span>
</span><span class="code-line">    cursor<span class="token punctuation">.</span><span class="token property-access function method">execute</span><span class="token punctuation">(</span>sql<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">&#x27;SALES&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
</span><span class="code-line">    new_emptno <span class="token operator">=</span> cursor<span class="token punctuation">.</span><span class="token property-access function method">fetchone</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
</span><span class="code-line">    <span class="token function">print</span><span class="token punctuation">(</span>new_emptno<span class="token punctuation">)</span>
</span><span class="code-line">    sql <span class="token operator">=</span> <span class="token string">&quot;UPDATE t_emp_new SET deptno=%s&quot;</span>
</span><span class="code-line">    cursor<span class="token punctuation">.</span><span class="token property-access function method">execute</span><span class="token punctuation">(</span>sql<span class="token punctuation">,</span> <span class="token punctuation">[</span>new_emptno<span class="token punctuation">]</span><span class="token punctuation">)</span>
</span><span class="code-line">    con<span class="token punctuation">.</span><span class="token property-access function method">commit</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</span><span class="code-line">except <span class="token maybe-class-name">Exception</span> <span class="token keyword module">as</span> <span class="token property literal-property">e</span><span class="token operator">:</span>
</span><span class="code-line">    <span class="token keyword control-flow">if</span> <span class="token string">&#x27;con&#x27;</span> <span class="token keyword">in</span> <span class="token function">dir</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span>
</span><span class="code-line">        con<span class="token punctuation">.</span><span class="token property-access function method">rollback</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</span><span class="code-line">    <span class="token function">print</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span>
</span><span class="code-line"><span class="token keyword control-flow">finally</span><span class="token operator">:</span>
</span><span class="code-line">    <span class="token keyword control-flow">if</span> <span class="token string">&quot;con&quot;</span> <span class="token keyword">in</span> <span class="token function">dir</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span>
</span><span class="code-line">        con<span class="token punctuation">.</span><span class="token property-access function method">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</span></code></pre></div><p>注意：① <code>&#x27;CREATE TABLE t_emp_new LIKE t_emp;&#x27;</code>表示使用<code>t_emp</code>表的结构创建<code>t_emp_new</code>表。② <code>CREATE TABLE</code>语句为<code>DDL</code>语句，不受事务控制。③ 由于不知道符合条件的部门个数，因此该案例只能使用字符串拼接，不能使用字符串格式化。 ④ <code>INSERT INTO t_emp_new 查询出的表结果;</code>语法可以将查询出的数据表集合插入到<code>t_emp_new</code>表中。 14. 编写一个<code>INSERT</code>语句，向部门表插入两条记录，每条记录都在部门原有最大主键值的基础上加<code>10</code>。</p><p>(1) 不支持边插入，边查询本表数据 例如：<code>INSERT INTO 表名(字段1,字段2, ...) VALUES(值1,值2,...);</code></p><div class="relative"><pre><code class="language-js code-highlight"><span class="code-line"><span class="token constant">INSERT</span> <span class="token constant">INTO</span> <span class="token function">t_dept</span><span class="token punctuation">(</span>deptno<span class="token punctuation">,</span> dname<span class="token punctuation">,</span> loc<span class="token punctuation">)</span> 
</span><span class="code-line"><span class="token constant">VALUES</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token constant">SELECT</span> <span class="token constant">MAX</span><span class="token punctuation">(</span>deotno<span class="token punctuation">)</span> <span class="token constant">FROM</span> t_dept<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token string">&quot;A部门&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;南京&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line"># 报错 <span class="token maybe-class-name">Unknown</span> column <span class="token string">&#x27;deotno&#x27;</span> <span class="token keyword">in</span> <span class="token string">&#x27;field list&#x27;</span><span class="token punctuation">,</span> <span class="token property literal-property">Time</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">.</span>014000s
</span></code></pre></div><p>(2) 可以先查询出数据表，再写入 例如：<code>INSERT INTO 表名 数据集;</code></p><div class="relative"><pre><code class="language-js code-highlight"><span class="code-line"><span class="token constant">INSERT</span> <span class="token constant">INTO</span> <span class="token function">t_dept</span> <span class="token punctuation">(</span><span class="token constant">SELECT</span> <span class="token constant">MAX</span><span class="token punctuation">(</span>deptno<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token string">&quot;A部门&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;南京&quot;</span> <span class="token constant">FROM</span> t_dept<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></code></pre></div><div class="relative"><pre><code class="language-js code-highlight"><span class="code-line"><span class="token constant">INSERT</span> <span class="token constant">INTO</span> <span class="token function">t_dept</span> <span class="token punctuation">(</span><span class="token constant">SELECT</span> <span class="token constant">MAX</span><span class="token punctuation">(</span>deptno<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token string">&quot;A部门&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;南京&quot;</span> <span class="token constant">FROM</span> t_dept<span class="token punctuation">)</span> <span class="token constant">UNION</span> 
</span><span class="code-line"><span class="token punctuation">(</span><span class="token constant">SELECT</span> <span class="token constant">MAX</span><span class="token punctuation">(</span>deptno<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token string">&quot;B部门&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;上海&quot;</span> <span class="token constant">FROM</span> t_dept<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></code></pre></div><p>(3) <code>Python</code>语言实现</p><div class="relative"><pre><code class="language-js code-highlight"><span class="code-line"><span class="token keyword module">import</span> mysql<span class="token punctuation">.</span><span class="token property-access">connector</span><span class="token punctuation">.</span><span class="token property-access">pooling</span>
</span><span class="code-line">
</span><span class="code-line">config <span class="token operator">=</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token property string-property">&#x27;host&#x27;</span><span class="token operator">:</span> <span class="token string">&#x27;localhost&#x27;</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token property string-property">&#x27;port&#x27;</span><span class="token operator">:</span> <span class="token number">3306</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token property string-property">&#x27;user&#x27;</span><span class="token operator">:</span> <span class="token string">&#x27;root&#x27;</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token property string-property">&#x27;password&#x27;</span><span class="token operator">:</span> <span class="token string">&#x27;299***&#x27;</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token property string-property">&#x27;database&#x27;</span><span class="token operator">:</span> <span class="token string">&#x27;demo&#x27;</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword control-flow">try</span><span class="token operator">:</span>
</span><span class="code-line">    pool <span class="token operator">=</span> mysql<span class="token punctuation">.</span><span class="token property-access">connector</span><span class="token punctuation">.</span><span class="token property-access">pooling</span><span class="token punctuation">.</span><span class="token property-access function method"><span class="token maybe-class-name">MySQLConnectionPool</span></span><span class="token punctuation">(</span>
</span><span class="code-line">        <span class="token operator">**</span>config<span class="token punctuation">,</span>
</span><span class="code-line">        pool_size<span class="token operator">=</span><span class="token number">10</span>
</span><span class="code-line">    <span class="token punctuation">)</span>
</span><span class="code-line">    con <span class="token operator">=</span> pool<span class="token punctuation">.</span><span class="token property-access function method">get_connection</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</span><span class="code-line">    con<span class="token punctuation">.</span><span class="token property-access function method">start_transaction</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</span><span class="code-line">    cursor <span class="token operator">=</span> con<span class="token punctuation">.</span><span class="token property-access function method">cursor</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</span><span class="code-line">    sql <span class="token operator">=</span> <span class="token string">&quot;INSERT INTO t_dept &quot;</span> \
</span><span class="code-line">          <span class="token string">&quot;(SELECT MAX(deptno) + 10, %s, %s FROM t_dept) &quot;</span> \
</span><span class="code-line">          <span class="token string">&quot;UNION &quot;</span> \
</span><span class="code-line">          <span class="token string">&quot;(SELECT MAX(deptno) + 20, %s, %s FROM t_dept);&quot;</span>
</span><span class="code-line">    cursor<span class="token punctuation">.</span><span class="token property-access function method">execute</span><span class="token punctuation">(</span>sql<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token string">&#x27;A部门&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;北京&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;B部门&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;上海&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</span><span class="code-line">    con<span class="token punctuation">.</span><span class="token property-access function method">commit</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</span><span class="code-line">except <span class="token maybe-class-name">Exception</span> <span class="token keyword module">as</span> <span class="token property literal-property">e</span><span class="token operator">:</span>
</span><span class="code-line">    <span class="token keyword control-flow">if</span> <span class="token string">&#x27;con&#x27;</span> <span class="token keyword">in</span> <span class="token function">dir</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span>
</span><span class="code-line">        con<span class="token punctuation">.</span><span class="token property-access function method">rollback</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</span><span class="code-line">    <span class="token function">print</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span>
</span><span class="code-line"><span class="token keyword control-flow">finally</span><span class="token operator">:</span>
</span><span class="code-line">    <span class="token keyword control-flow">if</span> <span class="token string">&quot;con&quot;</span> <span class="token keyword">in</span> <span class="token function">dir</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span>
</span><span class="code-line">        con<span class="token punctuation">.</span><span class="token property-access function method">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</span></code></pre></div><h2 class="content-header" id="43-总结"><a class="break-words" href="#43-总结" aria-hidden="true" tabindex="-1"><span class="content-header-link"><svg class="h-5 linkicon w-5" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z"></path><path d="M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z"></path></svg></span></a>4.3 总结</h2><ol><li>技能清单 掌握了数据库连接池技术 掌握了<code>Python</code>程序的<code>CRUD</code>操作 掌握了用预编译<code>SQL</code>抵御<code>SQL</code>注入攻击</li></ol><h1 class="content-header" id="5-开发新闻管理系统"><a class="break-words" href="#5-开发新闻管理系统" aria-hidden="true" tabindex="-1"><span class="content-header-link"><svg class="h-5 linkicon w-5" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z"></path><path d="M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z"></path></svg></span></a>5. 开发新闻管理系统</h1><ol><li>第三方模块 (1) 升级<code>pip</code> <code>➜ ~ python3 -m pip install --upgrade pip</code> (2) 安装<code>colorama</code> <code>➜ ~ pip3 install colorama</code> 向控制台输出彩色文字</li></ol><div class="relative"><pre><code class="language-js code-highlight"><span class="code-line"><span class="token keyword module">from</span> colorama <span class="token keyword module">import</span> <span class="token maybe-class-name">Back</span><span class="token punctuation">,</span> <span class="token maybe-class-name">Fore</span><span class="token punctuation">,</span> <span class="token maybe-class-name">Style</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token function">print</span><span class="token punctuation">(</span><span class="token maybe-class-name">Fore</span><span class="token punctuation">.</span><span class="token constant">LIGHTBLUE_EX</span><span class="token punctuation">,</span> <span class="token string">&#x27;HelloWord&#x27;</span><span class="token punctuation">)</span>  # 设置字体颜色
</span><span class="code-line"><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&#x27;HelloWord&#x27;</span><span class="token punctuation">)</span>
</span><span class="code-line"><span class="token function">print</span><span class="token punctuation">(</span><span class="token maybe-class-name">Back</span><span class="token punctuation">.</span><span class="token constant">LIGHTRED_EX</span><span class="token punctuation">,</span> <span class="token string">&#x27;HelloWord&#x27;</span><span class="token punctuation">)</span>  # 设置背景色
</span><span class="code-line"><span class="token function">print</span><span class="token punctuation">(</span><span class="token string">&#x27;HelloWord&#x27;</span><span class="token punctuation">)</span>
</span><span class="code-line"><span class="token function">print</span><span class="token punctuation">(</span><span class="token maybe-class-name">Style</span><span class="token punctuation">.</span><span class="token constant">RESET_ALL</span><span class="token punctuation">,</span> <span class="token string">&#x27;HelloWord&#x27;</span><span class="token punctuation">)</span>  # 重置样式
</span></code></pre></div><ol start="2"><li>项目介绍</li></ol><p>(1) 新建项目 <img alt="image.png" src="https://upload-images.jianshu.io/upload_images/4989175-da315e2e69c22f49.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240"/> (2) 项目结构 <code>vega</code> - <code>db</code>、<code>service</code>、<code>app.py</code> (3) 管理员身份操作流程图 <img alt="流程图" src="https://upload-images.jianshu.io/upload_images/4989175-3cea58d301d04e54.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240"/> 3. 代码地址 <a class="break-words" target="_blank" rel="noopener noreferrer" href="https://github.com/nmwei/database-vega">https://github.com/nmwei/database-vega</a> 4. 代码示例(部分) (1) <code>mysql_db</code>提供数据库连接池</p><div class="relative"><pre><code class="language-js code-highlight"><span class="code-line"><span class="token keyword module">import</span> mysql<span class="token punctuation">.</span><span class="token property-access">connector</span><span class="token punctuation">.</span><span class="token property-access">pooling</span>
</span><span class="code-line">
</span><span class="code-line">__config <span class="token operator">=</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token property string-property">&#x27;host&#x27;</span><span class="token operator">:</span> <span class="token string">&#x27;localhost&#x27;</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token property string-property">&#x27;port&#x27;</span><span class="token operator">:</span> <span class="token number">3306</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token property string-property">&#x27;user&#x27;</span><span class="token operator">:</span> <span class="token string">&#x27;root&#x27;</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token property string-property">&#x27;password&#x27;</span><span class="token operator">:</span> <span class="token string">&#x27;299792&#x27;</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token property string-property">&#x27;database&#x27;</span><span class="token operator">:</span> <span class="token string">&#x27;vega&#x27;</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword control-flow">try</span><span class="token operator">:</span>
</span><span class="code-line">    pool <span class="token operator">=</span> mysql<span class="token punctuation">.</span><span class="token property-access">connector</span><span class="token punctuation">.</span><span class="token property-access">pooling</span><span class="token punctuation">.</span><span class="token property-access function method"><span class="token maybe-class-name">MySQLConnectionPool</span></span><span class="token punctuation">(</span>
</span><span class="code-line">        <span class="token operator">**</span>__config<span class="token punctuation">,</span>
</span><span class="code-line">        pool_size<span class="token operator">=</span><span class="token number">10</span>
</span><span class="code-line">    <span class="token punctuation">)</span>
</span><span class="code-line">except <span class="token maybe-class-name">Exception</span> <span class="token keyword module">as</span> <span class="token property literal-property">e</span><span class="token operator">:</span>
</span><span class="code-line">    <span class="token function">print</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span>
</span></code></pre></div><p>(2) <code>dao</code>文件用来操作数据库，以<code>user_dao.py</code>为例。</p><div class="relative"><pre><code class="language-js code-highlight"><span class="code-line"><span class="token keyword module">from</span> db<span class="token punctuation">.</span><span class="token property-access">mysql_db</span> <span class="token keyword module">import</span> pool
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">class</span> <span class="token class-name">UserDao</span><span class="token operator">:</span>
</span><span class="code-line">    # 验证用户登录
</span><span class="code-line">    def <span class="token function">login</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> username<span class="token punctuation">,</span> password<span class="token punctuation">)</span><span class="token operator">:</span>
</span><span class="code-line">        <span class="token keyword control-flow">try</span><span class="token operator">:</span>
</span><span class="code-line">            con <span class="token operator">=</span> pool<span class="token punctuation">.</span><span class="token property-access function method">get_connection</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</span><span class="code-line">            cursor <span class="token operator">=</span> con<span class="token punctuation">.</span><span class="token property-access function method">cursor</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</span><span class="code-line">            sql <span class="token operator">=</span> <span class="token string">&quot;SELECT COUNT(*) FROM t_user WHERE username=%s AND &quot;</span> \
</span><span class="code-line">                <span class="token string">&quot;AES_DECRYPT(UNHEX(password), &#x27;HelloWord&#x27;)=%s;&quot;</span>
</span><span class="code-line">            cursor<span class="token punctuation">.</span><span class="token property-access function method">execute</span><span class="token punctuation">(</span>sql<span class="token punctuation">,</span> <span class="token punctuation">(</span>username<span class="token punctuation">,</span> password<span class="token punctuation">)</span><span class="token punctuation">)</span>
</span><span class="code-line">            count <span class="token operator">=</span> cursor<span class="token punctuation">.</span><span class="token property-access function method">fetchone</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
</span><span class="code-line">            # <span class="token maybe-class-name">Python中的三元运算符</span>
</span><span class="code-line">            <span class="token keyword control-flow">return</span> <span class="token maybe-class-name">True</span> <span class="token keyword control-flow">if</span> count <span class="token operator">==</span> <span class="token number">1</span> <span class="token keyword control-flow">else</span> <span class="token maybe-class-name">False</span>
</span><span class="code-line">        except <span class="token maybe-class-name">Exception</span> <span class="token keyword module">as</span> <span class="token property literal-property">e</span><span class="token operator">:</span>
</span><span class="code-line">            <span class="token function">print</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span>
</span><span class="code-line">        <span class="token keyword control-flow">finally</span><span class="token operator">:</span>
</span><span class="code-line">            <span class="token keyword control-flow">if</span> <span class="token string">&quot;con&quot;</span> <span class="token keyword">in</span> <span class="token function">dir</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span>
</span><span class="code-line">                con<span class="token punctuation">.</span><span class="token property-access function method">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</span><span class="code-line"><span class="token operator spread">...</span>
</span></code></pre></div><p>(3) <code>service</code>文件用来调用<code>dao</code>函数，并处理业务逻辑。以<code>user_service.py</code>为例。</p><div class="relative"><pre><code class="language-js code-highlight"><span class="code-line"><span class="token keyword module">from</span> db<span class="token punctuation">.</span><span class="token property-access">user_dao</span> <span class="token keyword module">import</span> <span class="token maybe-class-name">UserDao</span>
</span><span class="code-line">
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">class</span> <span class="token class-name">UserService</span><span class="token operator">:</span>
</span><span class="code-line">    __user_dao <span class="token operator">=</span> <span class="token function"><span class="token maybe-class-name">UserDao</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</span><span class="code-line">
</span><span class="code-line">    # 验证用户登录
</span><span class="code-line">    def <span class="token function">login</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> username<span class="token punctuation">,</span> password<span class="token punctuation">)</span><span class="token operator">:</span>
</span><span class="code-line">        <span class="token keyword control-flow">return</span> self<span class="token punctuation">.</span><span class="token property-access">__user_dao</span><span class="token punctuation">.</span><span class="token property-access function method">login</span><span class="token punctuation">(</span>username<span class="token punctuation">,</span> password<span class="token punctuation">)</span>
</span><span class="code-line"><span class="token operator spread">...</span>
</span></code></pre></div><p>(4) <code>app.py</code>程序入口</p><div class="relative"><pre><code class="language-js code-highlight"><span class="code-line"><span class="token keyword module">from</span> colorama <span class="token keyword module">import</span> <span class="token maybe-class-name">Fore</span><span class="token punctuation">,</span> <span class="token maybe-class-name">Style</span>
</span><span class="code-line"><span class="token keyword module">from</span> getpass <span class="token keyword module">import</span> <span class="token imports">getpass</span>
</span><span class="code-line"><span class="token keyword module">from</span> service<span class="token punctuation">.</span><span class="token property-access">user_service</span> <span class="token keyword module">import</span> <span class="token imports"><span class="token maybe-class-name">UserService</span></span>
</span><span class="code-line"><span class="token keyword module">from</span> service<span class="token punctuation">.</span><span class="token property-access">news_service</span> <span class="token keyword module">import</span> <span class="token imports"><span class="token maybe-class-name">NewsService</span></span>
</span><span class="code-line"><span class="token keyword module">from</span> service<span class="token punctuation">.</span><span class="token property-access">role_service</span> <span class="token keyword module">import</span> <span class="token maybe-class-name">RoleService</span>
</span><span class="code-line"><span class="token keyword module">import</span> os
</span><span class="code-line"><span class="token keyword module">import</span> sys
</span><span class="code-line"><span class="token keyword module">import</span> time
</span><span class="code-line">
</span><span class="code-line">__user_service <span class="token operator">=</span> <span class="token function"><span class="token maybe-class-name">UserService</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</span><span class="code-line">__news_service <span class="token operator">=</span> <span class="token function"><span class="token maybe-class-name">NewsService</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</span><span class="code-line">__role_service <span class="token operator">=</span> <span class="token function"><span class="token maybe-class-name">RoleService</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword control-flow">while</span> <span class="token property literal-property">True</span><span class="token operator">:</span>  # 轮询操作
</span><span class="code-line">    os<span class="token punctuation">.</span><span class="token property-access function method">system</span><span class="token punctuation">(</span><span class="token string">&#x27;clear&#x27;</span><span class="token punctuation">)</span>  # 如果是<span class="token dom variable">window</span>系统，使用cls
</span><span class="code-line">    <span class="token function">print</span><span class="token punctuation">(</span><span class="token maybe-class-name">Fore</span><span class="token punctuation">.</span><span class="token constant">LIGHTBLUE_EX</span><span class="token punctuation">,</span> <span class="token string">&#x27;\n\t=================&#x27;</span><span class="token punctuation">)</span>
</span><span class="code-line">    <span class="token function">print</span><span class="token punctuation">(</span><span class="token maybe-class-name">Fore</span><span class="token punctuation">.</span><span class="token constant">LIGHTBLUE_EX</span><span class="token punctuation">,</span> <span class="token string">&#x27;\n\t欢迎使用新闻管理系统&#x27;</span><span class="token punctuation">)</span>
</span><span class="code-line">    <span class="token function">print</span><span class="token punctuation">(</span><span class="token maybe-class-name">Fore</span><span class="token punctuation">.</span><span class="token constant">LIGHTBLUE_EX</span><span class="token punctuation">,</span> <span class="token string">&#x27;\n\t=================&#x27;</span><span class="token punctuation">)</span>
</span><span class="code-line">    <span class="token function">print</span><span class="token punctuation">(</span><span class="token maybe-class-name">Fore</span><span class="token punctuation">.</span><span class="token constant">LIGHTGREEN_EX</span><span class="token punctuation">,</span> <span class="token string">&#x27;\n\t1. 登录系统&#x27;</span><span class="token punctuation">)</span>
</span><span class="code-line">    <span class="token function">print</span><span class="token punctuation">(</span><span class="token maybe-class-name">Fore</span><span class="token punctuation">.</span><span class="token constant">LIGHTGREEN_EX</span><span class="token punctuation">,</span> <span class="token string">&#x27;\n\t2. 退出系统&#x27;</span><span class="token punctuation">)</span>
</span><span class="code-line">    <span class="token function">print</span><span class="token punctuation">(</span><span class="token maybe-class-name">Style</span><span class="token punctuation">.</span><span class="token constant">RESET_ALL</span><span class="token punctuation">)</span>  # 重置样式
</span><span class="code-line">    opt <span class="token operator">=</span> <span class="token function">input</span><span class="token punctuation">(</span><span class="token string">&quot;\n\t请输入操作编号: &quot;</span><span class="token punctuation">)</span>
</span><span class="code-line">    <span class="token keyword control-flow">if</span> opt <span class="token operator">==</span> <span class="token string">&#x27;1&#x27;</span><span class="token operator">:</span>
</span><span class="code-line">        username <span class="token operator">=</span> <span class="token function">input</span><span class="token punctuation">(</span><span class="token string">&#x27;\n\t用户名: &#x27;</span><span class="token punctuation">)</span>
</span><span class="code-line">        password <span class="token operator">=</span> <span class="token function">getpass</span><span class="token punctuation">(</span><span class="token string">&#x27;\n\t密码: &#x27;</span><span class="token punctuation">)</span>  # 使输密码过程不可见
</span><span class="code-line">        result <span class="token operator">=</span> __user_service<span class="token punctuation">.</span><span class="token property-access function method">login</span><span class="token punctuation">(</span>username<span class="token punctuation">,</span> password<span class="token punctuation">)</span>
</span><span class="code-line">        # 登录成功
</span><span class="code-line"><span class="token operator spread">...</span>
</span></code></pre></div><p>注意：①<code>Python</code>中的三元运算符：<code>True if count == 1 else False</code>。②数据库中管理员用户名密码为：<code>admin</code> <code>123456</code>。</p></div><div class="pt-6 pb-6 text-sm text-gray-700 dark:text-gray-300"><a class="break-words" target="_blank" rel="nofollow" href="https://mobile.twitter.com/search?q=https%3A%2F%2Fnmwei.github.io%2Fblog%2FPython%2FPython%E6%93%8D%E4%BD%9C%E4%B8%89%E5%A4%A7%E6%95%B0%E6%8D%AE%E5%BA%93---MySQL%E6%95%B0%E6%8D%AE%E5%BA%93(Part2)">Discuss on Twitter</a> • <a class="break-words" target="_blank" rel="noopener noreferrer" href="https://github.com/nmwei/nmwei.github.io/blob/main/data/blog/Python/Python操作三大数据库---MySQL数据库(Part2).mdx">View on GitHub</a></div><div class="pt-6 pb-6 text-center text-gray-700 dark:text-gray-300" id="comment"><button>Load Comments</button></div></div><footer><div class="divide-gray-200 text-sm leading-5 font-medium xl:col-start-1 xl:row-start-2 xl:divide-y dark:divide-gray-700"><div class="py-4 xl:py-8"><h2 class="text-xs tracking-wide text-gray-500 uppercase dark:text-gray-400">Tags</h2><div class="flex flex-wrap"><a class="text-primary-500 hover:text-primary-600 dark:hover:text-primary-400 mr-3 text-sm font-medium" href="/tags/python">Python</a><a class="text-primary-500 hover:text-primary-600 dark:hover:text-primary-400 mr-3 text-sm font-medium" href="/tags/后端">后端</a></div></div><div class="flex justify-between py-4 xl:block xl:space-y-8 xl:py-8"><div><h2 class="text-xs tracking-wide text-gray-500 uppercase dark:text-gray-400">Previous Article</h2><div class="text-primary-500 hover:text-primary-600 dark:hover:text-primary-400"><a class="break-words" href="/blog/Python/Python基础入门---内存管理与多线程">Python基础入门---内存管理与多线程</a></div></div><div><h2 class="text-xs tracking-wide text-gray-500 uppercase dark:text-gray-400">Next Article</h2><div class="text-primary-500 hover:text-primary-600 dark:hover:text-primary-400"><a class="break-words" href="/blog/Python/Python操作三大数据库---MySQL数据库(Part1)">Python操作三大数据库---MySQL数据库(Part1)</a></div></div></div></div><div class="pt-4 xl:pt-8"><a class="text-primary-500 hover:text-primary-600 dark:hover:text-primary-400" aria-label="Back to the blog" href="/blog">← Back to the blog</a></div></footer></div></div></article></section></main><footer><div class="mt-16 flex flex-col items-center"><div class="mb-3 flex space-x-4"><a class="text-sm text-gray-500 transition hover:text-gray-600" target="_blank" rel="noopener noreferrer" href="mailto:254060001@qq.com"><span class="sr-only">mail</span><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" class="hover:text-primary-500 dark:hover:text-primary-400 fill-current text-gray-700 dark:text-gray-200 h-6 w-6"><title>Mail</title><path d="M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z"></path><path d="M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z"></path></svg></a><a class="text-sm text-gray-500 transition hover:text-gray-600" target="_blank" rel="noopener noreferrer" href="https://github.com"><span class="sr-only">github</span><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="hover:text-primary-500 dark:hover:text-primary-400 fill-current text-gray-700 dark:text-gray-200 h-6 w-6"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"></path></svg></a></div><div class="mb-2 flex space-x-2 text-sm text-gray-500 dark:text-gray-400"><div>倪梦威</div><div> • </div><div>© 2025</div><div> • </div><a class="break-words" href="/">我的博客</a></div></div></footer></section><script src="/_next/static/chunks/webpack-af24fb31267d6e11.js" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0])</script><script>self.__next_f.push([1,"1:\"$Sreact.fragment\"\n2:I[1478,[\"545\",\"static/chunks/c16f53c3-5b47b7f1ae12d8f6.js\",\"874\",\"static/chunks/874-7cca39d2e0ddd8b8.js\",\"430\",\"static/chunks/430-27ea613f983ffbaf.js\",\"177\",\"static/chunks/app/layout-4f2fc603b9b897e8.js\"],\"ThemeProviders\"]\n3:I[9243,[\"545\",\"static/chunks/c16f53c3-5b47b7f1ae12d8f6.js\",\"874\",\"static/chunks/874-7cca39d2e0ddd8b8.js\",\"430\",\"static/chunks/430-27ea613f983ffbaf.js\",\"177\",\"static/chunks/app/layout-4f2fc603b9b897e8.js\"],\"\"]\n4:I[7392,[\"545\",\"static/chunks/c16f53c3-5b47b7f1ae12d8f6.js\",\"874\",\"static/chunks/874-7cca39d2e0ddd8b8.js\",\"430\",\"static/chunks/430-27ea613f983ffbaf.js\",\"177\",\"static/chunks/app/layout-4f2fc603b9b897e8.js\"],\"KBarSearchProvider\"]\n5:I[6874,[\"874\",\"static/chunks/874-7cca39d2e0ddd8b8.js\",\"63\",\"static/chunks/63-2b4206848ffc60fb.js\",\"909\",\"static/chunks/app/blog/%5B...slug%5D/page-28d33eed3f173442.js\"],\"\"]\n6:I[4159,[\"545\",\"static/chunks/c16f53c3-5b47b7f1ae12d8f6.js\",\"874\",\"static/chunks/874-7cca39d2e0ddd8b8.js\",\"430\",\"static/chunks/430-27ea613f983ffbaf.js\",\"177\",\"static/chunks/app/layout-4f2fc603b9b897e8.js\"],\"KBarButton\"]\n7:I[1762,[\"545\",\"static/chunks/c16f53c3-5b47b7f1ae12d8f6.js\",\"874\",\"static/chunks/874-7cca39d2e0ddd8b8.js\",\"430\",\"static/chunks/430-27ea613f983ffbaf.js\",\"177\",\"static/chunks/app/layout-4f2fc603b9b897e8.js\"],\"default\"]\n8:I[7298,[\"545\",\"static/chunks/c16f53c3-5b47b7f1ae12d8f6.js\",\"874\",\"static/chunks/874-7cca39d2e0ddd8b8.js\",\"430\",\"static/chunks/430-27ea613f983ffbaf.js\",\"177\",\"static/chunks/app/layout-4f2fc603b9b897e8.js\"],\"default\"]\n9:I[7555,[],\"\"]\na:I[1295,[],\"\"]\nc:I[9665,[],\"OutletBoundary\"]\nf:I[9665,[],\"ViewportBoundary\"]\n11:I[9665,[],\"MetadataBoundary\"]\n13:I[6614,[],\"\"]\n:HL[\"/_next/static/media/7cba1811e3c25a15-s.p.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n:HL[\"/_next/static/css/f71128b9ac16cc11.css\",\"style\"]\n:HL[\"/_next/static/css/5fa3e5bae12b17db.css\",\"style\"]\n:HL[\"/_next/static/css/206c8cd9f1135cc1.css\",\"style\"]\n"])</script><script>self.__next_f.push([1,"0:{\"P\":null,\"b\":\"zD_bYF5SZMVS-oUQR0xRK\",\"p\":\"\",\"c\":[\"\",\"blog\",\"Python\",\"Python%E6%93%8D%E4%BD%9C%E4%B8%89%E5%A4%A7%E6%95%B0%E6%8D%AE%E5%BA%93---MySQL%E6%95%B0%E6%8D%AE%E5%BA%93(Part2)\"],\"i\":false,\"f\":[[[\"\",{\"children\":[\"blog\",{\"children\":[[\"slug\",\"Python/Python%E6%93%8D%E4%BD%9C%E4%B8%89%E5%A4%A7%E6%95%B0%E6%8D%AE%E5%BA%93---MySQL%E6%95%B0%E6%8D%AE%E5%BA%93(Part2)\",\"c\"],{\"children\":[\"__PAGE__\",{}]}]}]},\"$undefined\",\"$undefined\",true],[\"\",[\"$\",\"$1\",\"c\",{\"children\":[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/f71128b9ac16cc11.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}],[\"$\",\"link\",\"1\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/5fa3e5bae12b17db.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}]],[\"$\",\"html\",null,{\"lang\":\"zh-cn\",\"className\":\"__variable_bc0dcf scroll-smooth\",\"suppressHydrationWarning\":true,\"children\":[[\"$\",\"link\",null,{\"rel\":\"apple-touch-icon\",\"sizes\":\"76x76\",\"href\":\"/static/favicons/apple-touch-icon.png\"}],[\"$\",\"link\",null,{\"rel\":\"icon\",\"type\":\"image/png\",\"sizes\":\"32x32\",\"href\":\"/static/favicons/favicon-32x32.png\"}],[\"$\",\"link\",null,{\"rel\":\"icon\",\"type\":\"image/png\",\"sizes\":\"16x16\",\"href\":\"/static/favicons/favicon-16x16.png\"}],[\"$\",\"link\",null,{\"rel\":\"manifest\",\"href\":\"/static/favicons/site.webmanifest\"}],[\"$\",\"link\",null,{\"rel\":\"mask-icon\",\"href\":\"/static/favicons/safari-pinned-tab.svg\",\"color\":\"#5bbad5\"}],[\"$\",\"meta\",null,{\"name\":\"msapplication-TileColor\",\"content\":\"#000000\"}],[\"$\",\"meta\",null,{\"name\":\"theme-color\",\"media\":\"(prefers-color-scheme: light)\",\"content\":\"#fff\"}],[\"$\",\"meta\",null,{\"name\":\"theme-color\",\"media\":\"(prefers-color-scheme: dark)\",\"content\":\"#000\"}],[\"$\",\"link\",null,{\"rel\":\"alternate\",\"type\":\"application/rss+xml\",\"href\":\"/feed.xml\"}],[\"$\",\"body\",null,{\"className\":\"bg-white pl-[calc(100vw-100%)] text-black antialiased dark:bg-gray-950 dark:text-white\",\"children\":[\"$\",\"$L2\",null,{\"children\":[[\"$undefined\",\"$undefined\",\"$undefined\",[\"$\",\"$L3\",null,{\"async\":true,\"defer\":true,\"src\":\"https://analytics.umami.is/script.js\"}],\"$undefined\",\"$undefined\"],[\"$\",\"section\",null,{\"className\":\"mx-auto max-w-3xl px-4 sm:px-6 xl:max-w-5xl xl:px-0\",\"children\":[[\"$\",\"$L4\",null,{\"kbarConfig\":{\"searchDocumentsPath\":\"/search.json\"},\"children\":[[\"$\",\"header\",null,{\"className\":\"flex items-center w-full bg-white dark:bg-gray-950 justify-between py-10\",\"children\":[[\"$\",\"$L5\",null,{\"className\":\"break-words\",\"href\":\"/\",\"aria-label\":\"我的博客\",\"children\":[\"$\",\"div\",null,{\"className\":\"flex items-center justify-between\",\"children\":[[\"$\",\"div\",null,{\"className\":\"mr-3\",\"children\":[\"$\",\"svg\",null,{\"xmlns\":\"http://www.w3.org/2000/svg\",\"xmlnsXlink\":\"http://www.w3.org/1999/xlink\",\"width\":53.87,\"height\":43.61,\"viewBox\":\"344.564 330.278 111.737 91.218\",\"children\":[[\"$\",\"defs\",null,{\"children\":[[\"$\",\"linearGradient\",null,{\"id\":\"logo_svg__b\",\"x1\":420.97,\"x2\":420.97,\"y1\":331.28,\"y2\":418.5,\"gradientUnits\":\"userSpaceOnUse\",\"children\":[[\"$\",\"stop\",null,{\"offset\":\"0%\",\"style\":{\"stopColor\":\"#06b6d4\",\"stopOpacity\":1}}],[\"$\",\"stop\",null,{\"offset\":\"100%\",\"style\":{\"stopColor\":\"#67e8f9\",\"stopOpacity\":1}}]]}],[\"$\",\"linearGradient\",null,{\"id\":\"logo_svg__d\",\"x1\":377.89,\"x2\":377.89,\"y1\":331.28,\"y2\":418.5,\"gradientUnits\":\"userSpaceOnUse\",\"children\":[[\"$\",\"stop\",null,{\"offset\":\"0%\",\"style\":{\"stopColor\":\"#06b6d4\",\"stopOpacity\":1}}],[\"$\",\"stop\",null,{\"offset\":\"100%\",\"style\":{\"stopColor\":\"#67e8f9\",\"stopOpacity\":1}}]]}],[\"$\",\"path\",null,{\"id\":\"logo_svg__a\",\"d\":\"M453.3 331.28v28.57l-64.66 58.65v-30.08z\"}],[\"$\",\"path\",null,{\"id\":\"logo_svg__c\",\"d\":\"M410.23 331.28v28.57l-64.67 58.65v-30.08z\"}]]}],[\"$\",\"use\",null,{\"xlinkHref\":\"#logo_svg__a\",\"fill\":\"url(#logo_svg__b)\"}],[\"$\",\"use\",null,{\"xlinkHref\":\"#logo_svg__c\",\"fill\":\"url(#logo_svg__d)\"}]]}]}],[\"$\",\"div\",null,{\"className\":\"hidden h-6 text-2xl font-semibold sm:block\",\"children\":\"我的博客\"}]]}]}],[\"$\",\"div\",null,{\"className\":\"flex items-center space-x-4 leading-5 sm:-mr-6 sm:space-x-6\",\"children\":[[\"$\",\"div\",null,{\"className\":\"no-scrollbar hidden max-w-40 items-center gap-x-4 overflow-x-auto sm:flex md:max-w-72 lg:max-w-96\",\"children\":[[\"$\",\"$L5\",\"博客\",{\"className\":\"hover:text-primary-500 dark:hover:text-primary-400 m-1 font-medium text-gray-900 dark:text-gray-100\",\"href\":\"/blog\",\"children\":\"博客\"}],[\"$\",\"$L5\",\"标签\",{\"className\":\"hover:text-primary-500 dark:hover:text-primary-400 m-1 font-medium text-gray-900 dark:text-gray-100\",\"href\":\"/tags\",\"children\":\"标签\"}],[\"$\",\"$L5\",\"项目\",{\"className\":\"hover:text-primary-500 dark:hover:text-primary-400 m-1 font-medium text-gray-900 dark:text-gray-100\",\"href\":\"/projects\",\"children\":\"项目\"}],[\"$\",\"$L5\",\"关于\",{\"className\":\"hover:text-primary-500 dark:hover:text-primary-400 m-1 font-medium text-gray-900 dark:text-gray-100\",\"href\":\"/about\",\"children\":\"关于\"}]]}],[\"$\",\"$L6\",null,{\"aria-label\":\"Search\",\"children\":[\"$\",\"svg\",null,{\"xmlns\":\"http://www.w3.org/2000/svg\",\"fill\":\"none\",\"viewBox\":\"0 0 24 24\",\"strokeWidth\":1.5,\"stroke\":\"currentColor\",\"className\":\"hover:text-primary-500 dark:hover:text-primary-400 h-6 w-6 text-gray-900 dark:text-gray-100\",\"children\":[\"$\",\"path\",null,{\"strokeLinecap\":\"round\",\"strokeLinejoin\":\"round\",\"d\":\"M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z\"}]}]}],[\"$\",\"$L7\",null,{}],[\"$\",\"$L8\",null,{}]]}]]}],[\"$\",\"main\",null,{\"className\":\"mb-auto\",\"children\":[\"$\",\"$L9\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$La\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[[\"$\",\"div\",null,{\"className\":\"flex flex-col items-start justify-start md:mt-24 md:flex-row md:items-center md:justify-center md:space-x-6\",\"children\":[[\"$\",\"div\",null,{\"className\":\"space-x-2 pt-6 pb-8 md:space-y-5\",\"children\":[\"$\",\"h1\",null,{\"className\":\"text-6xl leading-9 font-extrabold tracking-tight text-gray-900 md:border-r-2 md:px-6 md:text-8xl md:leading-14 dark:text-gray-100\",\"children\":\"404\"}]}],[\"$\",\"div\",null,{\"className\":\"max-w-md\",\"children\":[[\"$\",\"p\",null,{\"className\":\"mb-4 text-xl leading-normal font-bold md:text-2xl\",\"children\":\"Sorry we couldn't find this page.\"}],[\"$\",\"p\",null,{\"className\":\"mb-8\",\"children\":\"But dont worry, you can find plenty of other things on our homepage.\"}],[\"$\",\"$L5\",null,{\"className\":\"focus:shadow-outline-blue inline rounded-lg border border-transparent bg-blue-600 px-4 py-2 text-sm leading-5 font-medium text-white shadow-xs transition-colors duration-150 hover:bg-blue-700 focus:outline-hidden dark:hover:bg-blue-500\",\"href\":\"/\",\"children\":\"Back to homepage\"}]]}]]}],[]],\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]}]]}],[\"$\",\"footer\",null,{\"children\":[\"$\",\"div\",null,{\"className\":\"mt-16 flex flex-col items-center\",\"children\":[[\"$\",\"div\",null,{\"className\":\"mb-3 flex space-x-4\",\"children\":[[\"$\",\"a\",null,{\"className\":\"text-sm text-gray-500 transition hover:text-gray-600\",\"target\":\"_blank\",\"rel\":\"noopener noreferrer\",\"href\":\"mailto:254060001@qq.com\",\"children\":[[\"$\",\"span\",null,{\"className\":\"sr-only\",\"children\":\"mail\"}],[\"$\",\"svg\",null,{\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 20 20\",\"className\":\"hover:text-primary-500 dark:hover:text-primary-400 fill-current text-gray-700 dark:text-gray-200 h-6 w-6\",\"children\":[[\"$\",\"title\",null,{\"children\":\"Mail\"}],[\"$\",\"path\",null,{\"d\":\"M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z\"}],[\"$\",\"path\",null,{\"d\":\"M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z\"}]]}]]}],[\"$\",\"a\",null,{\"className\":\"text-sm text-gray-500 transition hover:text-gray-600\",\"target\":\"_blank\",\"rel\":\"noopener noreferrer\",\"href\":\"https://github.com\",\"children\":[[\"$\",\"span\",null,{\"className\":\"sr-only\",\"children\":\"github\"}],[\"$\",\"svg\",null,{\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 24 24\",\"className\":\"hover:text-primary-500 dark:hover:text-primary-400 fill-current text-gray-700 dark:text-gray-200 h-6 w-6\",\"children\":[[\"$\",\"title\",null,{\"children\":\"GitHub\"}],[\"$\",\"path\",null,{\"d\":\"M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12\"}]]}]]}],null,null,null,null,null,null,null,null,null]}],[\"$\",\"div\",null,{\"className\":\"mb-2 flex space-x-2 text-sm text-gray-500 dark:text-gray-400\",\"children\":[[\"$\",\"div\",null,{\"children\":\"倪梦威\"}],[\"$\",\"div\",null,{\"children\":\" • \"}],[\"$\",\"div\",null,{\"children\":\"© 2025\"}],[\"$\",\"div\",null,{\"children\":\" • \"}],[\"$\",\"$L5\",null,{\"className\":\"break-words\",\"href\":\"/\",\"children\":\"我的博客\"}]]}],false]}]}]]}]]}]}]]}]]}],{\"children\":[\"blog\",[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$L9\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$La\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}],{\"children\":[[\"slug\",\"Python/Python%E6%93%8D%E4%BD%9C%E4%B8%89%E5%A4%A7%E6%95%B0%E6%8D%AE%E5%BA%93---MySQL%E6%95%B0%E6%8D%AE%E5%BA%93(Part2)\",\"c\"],[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$L9\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$La\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}],{\"children\":[\"__PAGE__\",[\"$\",\"$1\",\"c\",{\"children\":[\"$Lb\",\"$undefined\",[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/206c8cd9f1135cc1.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}]],[\"$\",\"$Lc\",null,{\"children\":[\"$Ld\",\"$Le\",null]}]]}],{},null,false]},null,false]},null,false]},null,false],[\"$\",\"$1\",\"h\",{\"children\":[null,[\"$\",\"$1\",\"DvzxYuLjoJTvpgM64kk8d\",{\"children\":[[\"$\",\"$Lf\",null,{\"children\":\"$L10\"}],[\"$\",\"meta\",null,{\"name\":\"next-size-adjust\",\"content\":\"\"}]]}],[\"$\",\"$L11\",null,{\"children\":\"$L12\"}]]}],false]],\"m\":\"$undefined\",\"G\":[\"$13\",\"$undefined\"],\"s\":false,\"S\":true}\n"])</script><script>self.__next_f.push([1,"14:I[1839,[\"874\",\"static/chunks/874-7cca39d2e0ddd8b8.js\",\"63\",\"static/chunks/63-2b4206848ffc60fb.js\",\"909\",\"static/chunks/app/blog/%5B...slug%5D/page-28d33eed3f173442.js\"],\"default\"]\n15:I[3063,[\"874\",\"static/chunks/874-7cca39d2e0ddd8b8.js\",\"63\",\"static/chunks/63-2b4206848ffc60fb.js\",\"909\",\"static/chunks/app/blog/%5B...slug%5D/page-28d33eed3f173442.js\"],\"Image\"]\n16:I[2100,[\"874\",\"static/chunks/874-7cca39d2e0ddd8b8.js\",\"63\",\"static/chunks/63-2b4206848ffc60fb.js\",\"909\",\"static/chunks/app/blog/%5B...slug%5D/page-28d33eed3f173442.js\"],\"default\"]\n17:I[1449,[\"874\",\"static/chunks/874-7cca39d2e0ddd8b8.js\",\"63\",\"static/chunks/63-2b4206848ffc60fb.js\",\"909\",\"static/chunks/app/blog/%5B...slug%5D/page-28d33eed3f173442.js\"],\"default\"]\n"])</script><script>self.__next_f.push([1,"b:[[\"$\",\"script\",null,{\"type\":\"application/ld+json\",\"dangerouslySetInnerHTML\":{\"__html\":\"{\\\"@context\\\":\\\"https://schema.org\\\",\\\"@type\\\":\\\"BlogPosting\\\",\\\"headline\\\":\\\"Python操作三大数据库---MySQL数据库(Part2)\\\",\\\"datePublished\\\":\\\"2020-01-03T00:00:00.000Z\\\",\\\"dateModified\\\":\\\"2020-01-03T00:00:00.000Z\\\",\\\"description\\\":\\\"Python操作三大数据库---MySQL数据库(Part2)相关文章\\\",\\\"image\\\":\\\"/static/images/python.jpg\\\",\\\"url\\\":\\\"https://nmwei.github.io/blog/Python/Python操作三大数据库---MySQL数据库(Part2)\\\",\\\"author\\\":[{\\\"@type\\\":\\\"Person\\\",\\\"name\\\":\\\"倪梦威\\\"}]}\"}}],[\"$\",\"section\",null,{\"className\":\"mx-auto max-w-3xl px-4 sm:px-6 xl:max-w-5xl xl:px-0\",\"children\":[[\"$\",\"$L14\",null,{}],[\"$\",\"article\",null,{\"children\":[\"$\",\"div\",null,{\"className\":\"xl:divide-y xl:divide-gray-200 xl:dark:divide-gray-700\",\"children\":[[\"$\",\"header\",null,{\"className\":\"pt-6 xl:pb-6\",\"children\":[\"$\",\"div\",null,{\"className\":\"space-y-1 text-center\",\"children\":[[\"$\",\"dl\",null,{\"className\":\"space-y-10\",\"children\":[\"$\",\"div\",null,{\"children\":[[\"$\",\"dt\",null,{\"className\":\"sr-only\",\"children\":\"Published on\"}],[\"$\",\"dd\",null,{\"className\":\"text-base leading-6 font-medium text-gray-500 dark:text-gray-400\",\"children\":[\"$\",\"time\",null,{\"dateTime\":\"2020-01-03T00:00:00.000Z\",\"children\":\"2020年1月3日星期五\"}]}]]}]}],[\"$\",\"div\",null,{\"children\":[\"$\",\"h1\",null,{\"className\":\"text-3xl leading-9 font-extrabold tracking-tight text-gray-900 sm:text-4xl sm:leading-10 md:text-5xl md:leading-14 dark:text-gray-100\",\"children\":\"Python操作三大数据库---MySQL数据库(Part2)\"}]}]]}]}],[\"$\",\"div\",null,{\"className\":\"grid-rows-[auto_1fr] divide-y divide-gray-200 pb-8 xl:grid xl:grid-cols-4 xl:gap-x-6 xl:divide-y-0 dark:divide-gray-700\",\"children\":[[\"$\",\"dl\",null,{\"className\":\"pt-6 pb-10 xl:border-b xl:border-gray-200 xl:pt-11 xl:dark:border-gray-700\",\"children\":[[\"$\",\"dt\",null,{\"className\":\"sr-only\",\"children\":\"Authors\"}],[\"$\",\"dd\",null,{\"children\":[\"$\",\"ul\",null,{\"className\":\"flex flex-wrap justify-center gap-4 sm:space-x-12 xl:block xl:space-y-8 xl:space-x-0\",\"children\":[[\"$\",\"li\",\"倪梦威\",{\"className\":\"flex items-center space-x-2\",\"children\":[[\"$\",\"$L15\",null,{\"src\":\"/static/images/avatar.png\",\"width\":38,\"height\":38,\"alt\":\"avatar\",\"className\":\"h-10 w-10 rounded-full\"}],[\"$\",\"dl\",null,{\"className\":\"text-sm leading-5 font-medium whitespace-nowrap\",\"children\":[[\"$\",\"dt\",null,{\"className\":\"sr-only\",\"children\":\"Name\"}],[\"$\",\"dd\",null,{\"className\":\"text-gray-900 dark:text-gray-100\",\"children\":\"倪梦威\"}],[\"$\",\"dt\",null,{\"className\":\"sr-only\",\"children\":\"Twitter\"}],[\"$\",\"dd\",null,{\"children\":null}]]}]]}]]}]}]]}],[\"$\",\"div\",null,{\"className\":\"divide-y divide-gray-200 xl:col-span-3 xl:row-span-2 xl:pb-0 dark:divide-gray-700\",\"children\":[[\"$\",\"div\",null,{\"className\":\"prose dark:prose-invert max-w-none pt-10 pb-8\",\"children\":[[\"$\",\"h1\",null,{\"className\":\"content-header\",\"id\":\"1-mysql的基本操作\",\"children\":[[\"$\",\"a\",null,{\"className\":\"break-words\",\"href\":\"#1-mysql的基本操作\",\"aria-hidden\":\"true\",\"tabIndex\":\"-1\",\"children\":[\"$\",\"span\",null,{\"className\":\"content-header-link\",\"children\":[\"$\",\"svg\",null,{\"className\":\"h-5 linkicon w-5\",\"fill\":\"currentColor\",\"viewBox\":\"0 0 20 20\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"children\":[[\"$\",\"path\",null,{\"d\":\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}],[\"$\",\"path\",null,{\"d\":\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"}]]}]}]}],\"1. MySQL的基本操作\"]}],[\"$\",\"h2\",null,{\"className\":\"content-header\",\"id\":\"11-介绍\",\"children\":[[\"$\",\"a\",null,{\"className\":\"break-words\",\"href\":\"#11-介绍\",\"aria-hidden\":\"true\",\"tabIndex\":\"-1\",\"children\":[\"$\",\"span\",null,{\"className\":\"content-header-link\",\"children\":[\"$\",\"svg\",null,{\"className\":\"h-5 linkicon w-5\",\"fill\":\"currentColor\",\"viewBox\":\"0 0 20 20\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"children\":[[\"$\",\"path\",null,{\"d\":\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}],[\"$\",\"path\",null,{\"d\":\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"}]]}]}]}],\"1.1 介绍\"]}],[\"$\",\"ol\",null,{\"children\":[[\"$\",\"li\",null,{\"children\":[\"数据添加 \",[\"$\",\"code\",null,{\"children\":\"INSERT\"}],\"语法、\",[\"$\",\"code\",null,{\"children\":\"INSERT\"}],\"方言语法、\",[\"$\",\"code\",null,{\"children\":\"INSERT\"}],\"子查询、\",[\"$\",\"code\",null,{\"children\":\"IGNORE\"}],\"关键字。\"]}],[\"$\",\"li\",null,{\"children\":[\"数据修改 \",[\"$\",\"code\",null,{\"children\":\"UPDATE\"}],\"语法、\",[\"$\",\"code\",null,{\"children\":\"UPDATE\"}],\"表连接\"]}],[\"$\",\"li\",null,{\"children\":[\"数据删除 \",[\"$\",\"code\",null,{\"children\":\"DELETE\"}],\"语法、\",[\"$\",\"code\",null,{\"children\":\"DELETE\"}],\"表连接\"]}]]}],[\"$\",\"h2\",null,{\"className\":\"content-header\",\"id\":\"12-数据插入操作\",\"children\":[[\"$\",\"a\",null,{\"className\":\"break-words\",\"href\":\"#12-数据插入操作\",\"aria-hidden\":\"true\",\"tabIndex\":\"-1\",\"children\":[\"$\",\"span\",null,{\"className\":\"content-header-link\",\"children\":[\"$\",\"svg\",null,{\"className\":\"h-5 linkicon w-5\",\"fill\":\"currentColor\",\"viewBox\":\"0 0 20 20\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"children\":[[\"$\",\"path\",null,{\"d\":\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}],[\"$\",\"path\",null,{\"d\":\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"}]]}]}]}],\"1.2 数据插入操作\"]}],[\"$\",\"ol\",null,{\"children\":[\"$\",\"li\",null,{\"children\":[[\"$\",\"code\",null,{\"children\":\"INSERT\"}],\"语句 \",[\"$\",\"code\",null,{\"children\":\"INSERT\"}],\"语句可以向数据表写入记录，可以是一条记录，也可以是多条记录。 \",[\"$\",\"code\",null,{\"children\":\"INSERT INTO 表名(字段1,字段2, ...) VALUES(值1,值2,...);\"}],\" \",[\"$\",\"code\",null,{\"children\":\"INSERT INTO 表名(字段1,字段2, ...) VALUES(值1,值2,...), (值1,值2,...);\"}],\" 例如：向部门表插入新的部门\"]}]}],[\"$\",\"$L16\",null,{\"className\":\"language-js\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-js code-highlight\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"INSERT\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"INTO\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"t_dept\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"deptno\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" dname\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" loc\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"VALUES\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"50\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"技术部\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"北京\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"INSERT\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"INTO\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"t_dept\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"deptno\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" dname\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" loc\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"VALUES\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"60\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"后勤部\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"北京\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"70\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"保安部\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"北京\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}]]}]}],[\"$\",\"p\",null,{\"children\":[\"注意：不声明字段名称也可以写入数据，不过会降低写入效率。 2. \",[\"$\",\"code\",null,{\"children\":\"INSERT\"}],\"插入字段可以有子查询，但子查询的结果必须是单行记录，并且子查询返回的字段必须只有一个。 例如：向技术部添加一名员工记录\"]}],[\"$\",\"$L16\",null,{\"className\":\"language-js\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-js code-highlight\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"INSERT\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"INTO\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"t_emp\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"empno\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" ename\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" job\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" mgr\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" hiredate\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" sal\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" comm\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" deptno\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"VALUES\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"8081\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"刘娜\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"SALESMAN\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"8000\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"1988-12-21\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"2000\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"NULL\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"SELECT\"}],\" deptno \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"FROM\"}],\" t_dept  \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"WHERE\"}],\" dname \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"技术部\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}]]}]}],[\"$\",\"ol\",null,{\"start\":\"3\",\"children\":[\"$\",\"li\",null,{\"children\":[[\"$\",\"code\",null,{\"children\":\"INSERT\"}],\"语句方言 方言：只能在\",[\"$\",\"code\",null,{\"children\":\"MySQL\"}],\"数据库上执行的\",[\"$\",\"code\",null,{\"children\":\"SQL\"}],\"语法,不具备通用性。 \",[\"$\",\"code\",null,{\"children\":\"INSERT [INTO] 表名 SET 字段1=值1, 字段2=值2, ...;\"}],\" 其中，\",[\"$\",\"code\",null,{\"children\":\"INTO\"}],\"关键字可以省略。\"]}]}],[\"$\",\"$L16\",null,{\"className\":\"language-js\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-js code-highlight\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"INSERT\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"INTO\"}],\" t_emp \\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"SET\"}],\" empno\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"8002\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" ename\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"Jake\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" job\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"SALESMAN\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" mgr\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"8000\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"hiredate\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"1985-12-21\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"sal\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"2500\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"comm\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"NULL\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" deptno\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"50\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}]]}]}],[\"$\",\"ol\",null,{\"start\":\"4\",\"children\":[\"$\",\"li\",null,{\"children\":[[\"$\",\"code\",null,{\"children\":\"IGNORE\"}],\"关键字 插入多条数据时，如果与现有的记录产生主键冲突或唯一值冲突，写入报错，导致一条记录也写不进去。使用\",[\"$\",\"code\",null,{\"children\":\"IGNORE\"}],\"关键字会让\",[\"$\",\"code\",null,{\"children\":\"INSERT\"}],\"忽略冲突的数据，只插入没有冲突的数据。 \",[\"$\",\"code\",null,{\"children\":\"INSERT [IGNORE] INTO 表名 ...;\"}]]}]}],[\"$\",\"$L16\",null,{\"className\":\"language-js\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-js code-highlight\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"INSERT\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"INTO\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"t_dept\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"deptno\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" dname\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" loc\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"VALUES\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"60\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"A\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"北京\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"80\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"B\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"上海\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"--\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"1062\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"-\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token maybe-class-name\",\"children\":\"Duplicate\"}],\" entry \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'60'\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword control-flow\",\"children\":\"for\"}],\" key \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'PRIMARY'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token property literal-property\",\"children\":\"Time\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"0\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],\"012000s\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"INSERT\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"IGNORE\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"INTO\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"t_dept\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"deptno\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" dname\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" loc\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"VALUES\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"60\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"A\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"北京\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"80\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"B\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"上海\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"--\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token maybe-class-name\",\"children\":\"Affected\"}],\" rows\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"1\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token property literal-property\",\"children\":\"Time\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"0\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],\"036000s\\n\"]}]]}]}],[\"$\",\"h2\",null,{\"className\":\"content-header\",\"id\":\"13-数据更新操作\",\"children\":[[\"$\",\"a\",null,{\"className\":\"break-words\",\"href\":\"#13-数据更新操作\",\"aria-hidden\":\"true\",\"tabIndex\":\"-1\",\"children\":[\"$\",\"span\",null,{\"className\":\"content-header-link\",\"children\":[\"$\",\"svg\",null,{\"className\":\"h-5 linkicon w-5\",\"fill\":\"currentColor\",\"viewBox\":\"0 0 20 20\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"children\":[[\"$\",\"path\",null,{\"d\":\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}],[\"$\",\"path\",null,{\"d\":\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"}]]}]}]}],\"1.3 数据更新操作\"]}],[\"$\",\"ol\",null,{\"children\":[[\"$\",\"li\",null,{\"children\":[[\"$\",\"code\",null,{\"children\":\"UPDATE\"}],\"语句 \",[\"$\",\"code\",null,{\"children\":\"UPDATE [IGNORE] 表名 SET 字段1=值1, 字段2=值2,...\"}],\" \",[\"$\",\"code\",null,{\"children\":\"[WHERE 条件1 ...] [ORDER BY ...] [LIMIT ...];\"}],\" 注意：\",[\"$\",\"code\",null,{\"children\":\"UPDATE\"}],\"中的\",[\"$\",\"code\",null,{\"children\":\"LIMIT\"}],\"子句只能写一个参数\",[\"$\",\"code\",null,{\"children\":\"LIMIT N\"}],\"。不可以写\",[\"$\",\"code\",null,{\"children\":\"LIMIT N M\"}],\"。\"]}],[\"$\",\"li\",null,{\"children\":[\"数据更新练习 (1) 把每个员工的编号和上司的编号\",[\"$\",\"code\",null,{\"children\":\"+1\"}],\",使用\",[\"$\",\"code\",null,{\"children\":\"ORDER BY\"}],\"子句完成\"]}]]}],[\"$\",\"$L16\",null,{\"className\":\"language-js\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-js code-highlight\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"UPDATE\"}],\" t_emp \\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"SET\"}],\" empno\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\"empno\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"+\"}],[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"1\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" mgr\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\"mgr\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"+\"}],[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"1\"}],\" \\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"ORDER\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"BY\"}],\" empno \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"DESC\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}]]}]}],[\"$\",\"p\",null,{\"children\":[\"注意：需要使用\",[\"$\",\"code\",null,{\"children\":\"ORDER BY\"}],\"子句降序，否则在\",[\"$\",\"code\",null,{\"children\":\"+1\"}],\"的时候可能发生主键冲突。 (2) 把月收入前\",[\"$\",\"code\",null,{\"children\":\"3\"}],\"名的员工底薪减\",[\"$\",\"code\",null,{\"children\":\"100\"}],\"元，用\",[\"$\",\"code\",null,{\"children\":\"LIMIT\"}],\"子句完成\"]}],[\"$\",\"$L16\",null,{\"className\":\"language-js\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-js code-highlight\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"UPDATE\"}],\" t_emp \\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"SET\"}],\" sal \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" sal \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"-\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"100\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"ORDER\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"BY\"}],\" sal \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"+\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"IFNULL\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"comm\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"0\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"DESC\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"LIMIT\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"3\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}]]}]}],[\"$\",\"p\",null,{\"children\":[\"(3) 把\",[\"$\",\"code\",null,{\"children\":\"10\"}],\"部门中，工龄超过\",[\"$\",\"code\",null,{\"children\":\"20\"}],\"年的员工，底薪增加\",[\"$\",\"code\",null,{\"children\":\"200\"}],\"。\"]}],[\"$\",\"$L16\",null,{\"className\":\"language-js\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-js code-highlight\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"UPDATE\"}],\" t_emp \\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"SET\"}],\" sal \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" sal \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"+\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"200\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"WHERE\"}],\" deptno \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"10\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"AND\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"DATEDIFF\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"NOW\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"hiredate\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"/\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"365\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003e\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"20\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}]]}]}],[\"$\",\"ol\",null,{\"start\":\"3\",\"children\":[\"$\",\"li\",null,{\"children\":[[\"$\",\"code\",null,{\"children\":\"UPDATE\"}],\"语句的表连接 例如：把\",[\"$\",\"code\",null,{\"children\":\"ALLEN\"}],\"调往\",[\"$\",\"code\",null,{\"children\":\"RESEARCH\"}],\"部门，职务调整为\",[\"$\",\"code\",null,{\"children\":\"ANALYST\"}]]}]}],[\"$\",\"p\",null,{\"children\":\"(1) 相关子查询写法，效率非常低。\"}],[\"$\",\"$L16\",null,{\"className\":\"language-js\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-js code-highlight\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"UPDATE\"}],\" t_emp\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"SET\"}],\" deptno \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"SELECT\"}],\" deptno \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"FROM\"}],\" t_dept \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"WHERE\"}],\" dname \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'RESEARCH'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"job \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'ANALYST'\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"WHERE\"}],\" ename \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'ALLEN'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}]]}]}],[\"$\",\"p\",null,{\"children\":[\"(2) 使用表连接来改造\",[\"$\",\"code\",null,{\"children\":\"UPDATE\"}],\"语句 语法1：\",[\"$\",\"code\",null,{\"children\":\"UPDATE 表1 JOIN 表2 ON 条件 SET 字段1=值1, 字段2=值2, ...;\"}],\" 语法2：\",[\"$\",\"code\",null,{\"children\":\"UPDATE 表1, 表2 WHERE 条件 SET 字段1=值1, 字段2=值2, ...;\"}],\" 表连接的\",[\"$\",\"code\",null,{\"children\":\"UPDATE\"}],\"语句可以修改多张表的记录。\"]}],[\"$\",\"$L16\",null,{\"className\":\"language-js\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-js code-highlight\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"UPDATE\"}],\" t_emp e \\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"JOIN\"}],\" t_dept d\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"SET\"}],\" e\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access\",\"children\":\"deptno\"}],\"  \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" d\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access\",\"children\":\"deptno\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" e\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access\",\"children\":\"job\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'ANALYST'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" d\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access\",\"children\":\"loc\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'北京'\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"WHERE\"}],\" e\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access\",\"children\":\"ename\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'ALLEN'\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"AND\"}],\" d\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access\",\"children\":\"dname\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'RESEARCH'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}]]}]}],[\"$\",\"p\",null,{\"children\":[\"注释：①\",[\"$\",\"code\",null,{\"children\":\"JOIN\"}],\"表连接并没有写\",[\"$\",\"code\",null,{\"children\":\"ON\"}],\"连接条件。②同时修改了两张表的数据。 4. 数据更新和数据删除时不推荐使用子查询的原因 (1) 子查询效率低 (2) 不允许对要更新或删除的数据做子查询 5. 把底薪低于公司平均底薪的员工，带薪增加\",[\"$\",\"code\",null,{\"children\":\"150\"}],\"元\"]}],[\"$\",\"$L16\",null,{\"className\":\"language-js\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-js code-highlight\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"UPDATE\"}],\" t_emp e1 \\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"JOIN\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"SELECT\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"AVG\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"sal\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" avg \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"FROM\"}],\" t_emp\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" s\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"ON\"}],\" e1\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access\",\"children\":\"sal\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003c\"}],\" s\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access\",\"children\":\"avg\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"SET\"}],\" e1\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access\",\"children\":\"sal\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" e1\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access\",\"children\":\"sal\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"+\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"150\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}]]}]}],[\"$\",\"ol\",null,{\"start\":\"6\",\"children\":[\"$\",\"li\",null,{\"children\":[[\"$\",\"code\",null,{\"children\":\"UPDATE\"}],\"语句的表连接既可以是内连接，又可以是外连接 例如：把没有部门的员工，或者\",[\"$\",\"code\",null,{\"children\":\"SALES\"}],\"部门低于\",[\"$\",\"code\",null,{\"children\":\"2000\"}],\"元底薪的员工，都调到\",[\"$\",\"code\",null,{\"children\":\"20\"}],\"部门。\"]}]}],[\"$\",\"$L16\",null,{\"className\":\"language-js\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-js code-highlight\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"UPDATE\"}],\" t_emp e\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"LEFT\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"JOIN\"}],\" t_dept d\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"ON\"}],\" e\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access\",\"children\":\"deptno\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" d\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access\",\"children\":\"deptno\"}],\"   \\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"SET\"}],\" e\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access\",\"children\":\"deptno\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"20\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"WHERE\"}],\" e\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access\",\"children\":\"deptno\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"IS\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"NULL\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"OR\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"d\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access\",\"children\":\"dname\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'SALES'\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"AND\"}],\" e\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access\",\"children\":\"sal\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003c\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"2000\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}]]}]}],[\"$\",\"p\",null,{\"children\":[\"注释：① 判断是否是\",[\"$\",\"code\",null,{\"children\":\"NULL\"}],\"-\",[\"$\",\"code\",null,{\"children\":\" IS NULL\"}],\"。② 如果不使用\",[\"$\",\"code\",null,{\"children\":\"LEFT JOIN\"}],\"，则取不到没有部门的员工。\"]}],[\"$\",\"h2\",null,{\"className\":\"content-header\",\"id\":\"14-数据删除\",\"children\":[[\"$\",\"a\",null,{\"className\":\"break-words\",\"href\":\"#14-数据删除\",\"aria-hidden\":\"true\",\"tabIndex\":\"-1\",\"children\":[\"$\",\"span\",null,{\"className\":\"content-header-link\",\"children\":[\"$\",\"svg\",null,{\"className\":\"h-5 linkicon w-5\",\"fill\":\"currentColor\",\"viewBox\":\"0 0 20 20\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"children\":[[\"$\",\"path\",null,{\"d\":\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}],[\"$\",\"path\",null,{\"d\":\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"}]]}]}]}],\"1.4 数据删除\"]}],[\"$\",\"ol\",null,{\"children\":[[\"$\",\"li\",null,{\"children\":[[\"$\",\"code\",null,{\"children\":\"DELETE\"}],\"语句用于删除记录 \",[\"$\",\"code\",null,{\"children\":\"DELETE [IGNORE] FROM 表名 [WHERE 条件1, 条件2...] [ORDER BY ...] [LIMIT ...];\"}],\" 子句执行顺序：\",[\"$\",\"code\",null,{\"children\":\"FROM \u003e WHERE \u003e ORDER BY \u003e LIMIT \u003e DELETE\"}]]}],[\"$\",\"li\",null,{\"children\":[[\"$\",\"code\",null,{\"children\":\"DELETE\"}],\"语句练习 (1) 删除\",[\"$\",\"code\",null,{\"children\":\"10\"}],\"部门中，工龄超过\",[\"$\",\"code\",null,{\"children\":\"20\"}],\"年的员工记录\"]}]]}],[\"$\",\"$L16\",null,{\"className\":\"language-js\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-js code-highlight\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"DELETE\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"FROM\"}],\" t_emp\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"WHERE\"}],\" deptno \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"10\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"AND\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"DATEDIFF\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"NOW\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"hiredate\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"/\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"365\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003e=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"20\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}]]}]}],[\"$\",\"p\",null,{\"children\":[\"(2) 删除\",[\"$\",\"code\",null,{\"children\":\"20\"}],\"部门中工资最高的员工记录\"]}],[\"$\",\"$L16\",null,{\"className\":\"language-js\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-js code-highlight\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"DELETE\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"FROM\"}],\" t_emp \\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"WHERE\"}],\" deptno \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"20\"}],\" \\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"ORDER\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"BY\"}],\" sal \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"+\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"IFNULL\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"comm\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"0\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"DESC\"}],\" \\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"LIMIT\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"1\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}]]}]}],[\"$\",\"ol\",null,{\"start\":\"3\",\"children\":[[\"$\",\"li\",null,{\"children\":[[\"$\",\"code\",null,{\"children\":\"DELETE\"}],\"语句的表连接 \",[\"$\",\"code\",null,{\"children\":\"WHERE\"}],\"语句中写子查询的效率很低，我们可以使用表连接改造\",[\"$\",\"code\",null,{\"children\":\"DELETE\"}],\"语句。 \",[\"$\",\"code\",null,{\"children\":\"DELETE 表1, ... FROM 表1 JOIN 表2 ON 条件\"}],\" \",[\"$\",\"code\",null,{\"children\":\"[WHERE 条件1, 条件2...] [ORDER BY ...] [LIMIT ...];\"}]]}],[\"$\",\"li\",null,{\"children\":[[\"$\",\"code\",null,{\"children\":\"DELETE\"}],\"语句表连接联系 (1) 删除\",[\"$\",\"code\",null,{\"children\":\"SALES\"}],\"部门和该部门的全体员工记录\"]}]]}],[\"$\",\"$L16\",null,{\"className\":\"language-js\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-js code-highlight\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"DELETE\"}],\" e\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" d \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"FROM\"}],\" t_emp e \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"JOIN\"}],\" t_dept d \\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"ON\"}],\" e\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access\",\"children\":\"deptno\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" d\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access\",\"children\":\"deptno\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"WHERE\"}],\" d\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access\",\"children\":\"dname\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'SALES'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}]]}]}],[\"$\",\"p\",null,{\"children\":\"(2) 删除每个低于部门平均底薪的员工记录\"}],[\"$\",\"$L16\",null,{\"className\":\"language-js\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-js code-highlight\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"DELETE\"}],\" e \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"FROM\"}],\" t_emp e\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"JOIN\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"SELECT\"}],\" deptno\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"AVG\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"sal\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" sal \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"FROM\"}],\" t_emp \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"GROUP\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"BY\"}],\" deptno\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" g\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"ON\"}],\" e\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access\",\"children\":\"deptno\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" g\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access\",\"children\":\"deptno\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"WHERE\"}],\" e\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access\",\"children\":\"sal\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003c\"}],\" g\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access\",\"children\":\"sal\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}]]}]}],[\"$\",\"p\",null,{\"children\":[\"(3) 删除员工\",[\"$\",\"code\",null,{\"children\":\"KING\"}],\"和他直接下属的员工记录，用表连接实现\"]}],[\"$\",\"$L16\",null,{\"className\":\"language-js\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-js code-highlight\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"--\"}],\" 表连接写法\",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"1\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"DELETE\"}],\" e1\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" e2 \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"FROM\"}],\" t_emp e1 \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"JOIN\"}],\" t_emp e2\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"ON\"}],\" e1\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access\",\"children\":\"ename\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'KING'\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"AND\"}],\" e1\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access\",\"children\":\"empno\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" e2\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access\",\"children\":\"mgr\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"--\"}],\"表连接写法\",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"2\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"DELETE\"}],\" e1 \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"FROM\"}],\" t_emp e1\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"JOIN\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"SELECT\"}],\" empno \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"FROM\"}],\" t_emp \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"WHERE\"}],\" ename \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'KING'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" e2\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"ON\"}],\" e1\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access\",\"children\":\"mgr\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" e2\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access\",\"children\":\"empno\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"OR\"}],\" e1\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access\",\"children\":\"ename\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'KING'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}]]}]}],[\"$\",\"ol\",null,{\"start\":\"5\",\"children\":[\"$\",\"li\",null,{\"children\":[[\"$\",\"code\",null,{\"children\":\"DELETE\"}],\"语句的表连接既可以是内连接，又可以是外连接 例如：删除\",[\"$\",\"code\",null,{\"children\":\"SALES\"}],\"部门的员工以及没有部门的员工\"]}]}],[\"$\",\"$L16\",null,{\"className\":\"language-js\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-js code-highlight\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"DELETE\"}],\" e \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"FROM\"}],\" t_emp e \\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"LEFT\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"JOIN\"}],\" t_dept d\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"ON\"}],\" e\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access\",\"children\":\"deptno\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" d\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access\",\"children\":\"deptno\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"WHERE\"}],\" d\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access\",\"children\":\"dname\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'SALES'\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"OR\"}],\" e\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access\",\"children\":\"deptno\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"IS\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"NULL\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}]]}]}],[\"$\",\"ol\",null,{\"start\":\"6\",\"children\":[\"$\",\"li\",null,{\"children\":[\"快速清空数据表中所有记录 \",[\"$\",\"code\",null,{\"children\":\"DELETE\"}],\"语句是在事务机制下删除记录，删除记录之前，先把将要删除的记录保存到日志文件里，然后再删除记录。 \",[\"$\",\"code\",null,{\"children\":\"TRUNCATE\"}],\"语句在事务机制之外删除记录，速度远超\",[\"$\",\"code\",null,{\"children\":\"DELETE\"}],\"语句。 语法：\",[\"$\",\"code\",null,{\"children\":\"TRUNCATE TABLE 表名;\"}]]}]}],[\"$\",\"$L16\",null,{\"className\":\"language-js\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-js code-highlight\",\"children\":[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"TRUNCATE\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"TABLE\"}],\" t_emp\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}]}]}],[\"$\",\"h2\",null,{\"className\":\"content-header\",\"id\":\"15-总结\",\"children\":[[\"$\",\"a\",null,{\"className\":\"break-words\",\"href\":\"#15-总结\",\"aria-hidden\":\"true\",\"tabIndex\":\"-1\",\"children\":[\"$\",\"span\",null,{\"className\":\"content-header-link\",\"children\":[\"$\",\"svg\",null,{\"className\":\"h-5 linkicon w-5\",\"fill\":\"currentColor\",\"viewBox\":\"0 0 20 20\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"children\":[[\"$\",\"path\",null,{\"d\":\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}],[\"$\",\"path\",null,{\"d\":\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"}]]}]}]}],\"1.5 总结\"]}],[\"$\",\"ol\",null,{\"children\":[[\"$\",\"li\",null,{\"children\":[\"技能清单 掌握\",[\"$\",\"code\",null,{\"children\":\"INSERT\"}],\"语法 掌握\",[\"$\",\"code\",null,{\"children\":\"UPDATE\"}],\"语法 掌握\",[\"$\",\"code\",null,{\"children\":\"DELETE\"}],\"语法 掌握数据更新和删除中的表连接语法\"]}],[\"$\",\"li\",null,{\"children\":[\"知识体系 初识数据库：\",[\"$\",\"code\",null,{\"children\":\"MySQL\"}],\"安装与使用 \",[\"$\",\"code\",null,{\"children\":\"DDL\"}],\"阶段：管理数据库与数据表 \",[\"$\",\"code\",null,{\"children\":\"DML\"}],\"阶段：数据的增删改查\"]}]]}],[\"$\",\"h1\",null,{\"className\":\"content-header\",\"id\":\"2-mysql基本函数的使用\",\"children\":[[\"$\",\"a\",null,{\"className\":\"break-words\",\"href\":\"#2-mysql基本函数的使用\",\"aria-hidden\":\"true\",\"tabIndex\":\"-1\",\"children\":[\"$\",\"span\",null,{\"className\":\"content-header-link\",\"children\":[\"$\",\"svg\",null,{\"className\":\"h-5 linkicon w-5\",\"fill\":\"currentColor\",\"viewBox\":\"0 0 20 20\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"children\":[[\"$\",\"path\",null,{\"d\":\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}],[\"$\",\"path\",null,{\"d\":\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"}]]}]}]}],\"2. MySQL基本函数的使用\"]}],[\"$\",\"h2\",null,{\"className\":\"content-header\",\"id\":\"21-介绍\",\"children\":[[\"$\",\"a\",null,{\"className\":\"break-words\",\"href\":\"#21-介绍\",\"aria-hidden\":\"true\",\"tabIndex\":\"-1\",\"children\":[\"$\",\"span\",null,{\"className\":\"content-header-link\",\"children\":[\"$\",\"svg\",null,{\"className\":\"h-5 linkicon w-5\",\"fill\":\"currentColor\",\"viewBox\":\"0 0 20 20\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"children\":[[\"$\",\"path\",null,{\"d\":\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}],[\"$\",\"path\",null,{\"d\":\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"}]]}]}]}],\"2.1 介绍\"]}],[\"$\",\"ol\",null,{\"children\":[\"$\",\"li\",null,{\"children\":[\"学习目标 (1) 数字函数 \",[\"$\",\"code\",null,{\"children\":\"FORMAT\"}],\"、\",[\"$\",\"code\",null,{\"children\":\"ABS\"}],\"、\",[\"$\",\"code\",null,{\"children\":\"MOD\"}],\"、\",[\"$\",\"code\",null,{\"children\":\"CEIL\"}],\"、\",[\"$\",\"code\",null,{\"children\":\"FLOOR\"}],\"、\",[\"$\",\"code\",null,{\"children\":\"ROUND\"}],\"、\",[\"$\",\"code\",null,{\"children\":\"EXP\"}],\"... (2) 字符函数 \",[\"$\",\"code\",null,{\"children\":\"UPPER\"}],\"、\",[\"$\",\"code\",null,{\"children\":\"LOWER\"}],\"、\",[\"$\",\"code\",null,{\"children\":\"CHAR_LRNGTH\"}],\"、\",[\"$\",\"code\",null,{\"children\":\"CONCAT\"}],\"、\",[\"$\",\"code\",null,{\"children\":\"INSTR\"}],\"... (3) 日期函数\",[\"$\",\"code\",null,{\"children\":\"\u0026\"}],\"条件函数 \",[\"$\",\"code\",null,{\"children\":\"NOW\"}],\"、\",[\"$\",\"code\",null,{\"children\":\"DATE_FORMAT\"}],\"、\",[\"$\",\"code\",null,{\"children\":\"DATE_ADD\"}],\"、\",[\"$\",\"code\",null,{\"children\":\"DATEDIFF\"}],\"、\",[\"$\",\"code\",null,{\"children\":\"IF\"}],\"、\",[\"$\",\"code\",null,{\"children\":\"IFNULL\"}],\"...\"]}]}],[\"$\",\"h2\",null,{\"className\":\"content-header\",\"id\":\"22-mysql基本函数\",\"children\":[[\"$\",\"a\",null,{\"className\":\"break-words\",\"href\":\"#22-mysql基本函数\",\"aria-hidden\":\"true\",\"tabIndex\":\"-1\",\"children\":[\"$\",\"span\",null,{\"className\":\"content-header-link\",\"children\":[\"$\",\"svg\",null,{\"className\":\"h-5 linkicon w-5\",\"fill\":\"currentColor\",\"viewBox\":\"0 0 20 20\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"children\":[[\"$\",\"path\",null,{\"d\":\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}],[\"$\",\"path\",null,{\"d\":\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"}]]}]}]}],\"2.2 MySQL基本函数\"]}],[\"$\",\"ol\",null,{\"children\":[[\"$\",\"li\",null,{\"children\":[[\"$\",\"code\",null,{\"children\":\"MySQL\"}],\"的函数 数字函数、字符函数、日期函数、条件函数\"]}],[\"$\",\"li\",null,{\"children\":\"数字函数\"}]]}],[\"$\",\"div\",null,{\"className\":\"w-full overflow-x-auto\",\"children\":[\"$\",\"table\",null,{\"children\":[[\"$\",\"thead\",null,{\"children\":[\"$\",\"tr\",null,{\"children\":[[\"$\",\"th\",null,{\"style\":{\"textAlign\":\"center\"},\"children\":\"函数\"}],[\"$\",\"th\",null,{\"style\":{\"textAlign\":\"center\"},\"children\":\"功能\"}],[\"$\",\"th\",null,{\"style\":{\"textAlign\":\"center\"},\"children\":\"用例\"}]]}]}],[\"$\",\"tbody\",null,{\"children\":[[\"$\",\"tr\",null,{\"children\":[[\"$\",\"td\",null,{\"style\":{\"textAlign\":\"center\"},\"children\":[\"$\",\"code\",null,{\"children\":\"ABS\"}]}],[\"$\",\"td\",null,{\"style\":{\"textAlign\":\"center\"},\"children\":\"绝对值\"}],[\"$\",\"td\",null,{\"style\":{\"textAlign\":\"center\"},\"children\":[\"$\",\"code\",null,{\"children\":\"ABS(-100)\"}]}]]}],[\"$\",\"tr\",null,{\"children\":[[\"$\",\"td\",null,{\"style\":{\"textAlign\":\"center\"},\"children\":[\"$\",\"code\",null,{\"children\":\"ROUND\"}]}],[\"$\",\"td\",null,{\"style\":{\"textAlign\":\"center\"},\"children\":\"四舍五入\"}],[\"$\",\"td\",null,{\"style\":{\"textAlign\":\"center\"},\"children\":[\"$\",\"code\",null,{\"children\":\"ROUND(4.62)\"}]}]]}],[\"$\",\"tr\",null,{\"children\":[[\"$\",\"td\",null,{\"style\":{\"textAlign\":\"center\"},\"children\":[\"$\",\"code\",null,{\"children\":\"FLOOR\"}]}],[\"$\",\"td\",null,{\"style\":{\"textAlign\":\"center\"},\"children\":\"向下取整\"}],[\"$\",\"td\",null,{\"style\":{\"textAlign\":\"center\"},\"children\":[\"$\",\"code\",null,{\"children\":\"FLOOR(9.9)\"}]}]]}],[\"$\",\"tr\",null,{\"children\":[[\"$\",\"td\",null,{\"style\":{\"textAlign\":\"center\"},\"children\":[\"$\",\"code\",null,{\"children\":\"CEIL\"}]}],[\"$\",\"td\",null,{\"style\":{\"textAlign\":\"center\"},\"children\":\"向上取整\"}],[\"$\",\"td\",null,{\"style\":{\"textAlign\":\"center\"},\"children\":[\"$\",\"code\",null,{\"children\":\"CEIL(3.2)\"}]}]]}],[\"$\",\"tr\",null,{\"children\":[[\"$\",\"td\",null,{\"style\":{\"textAlign\":\"center\"},\"children\":[\"$\",\"code\",null,{\"children\":\"POWER\"}]}],[\"$\",\"td\",null,{\"style\":{\"textAlign\":\"center\"},\"children\":\"幂函数\"}],[\"$\",\"td\",null,{\"style\":{\"textAlign\":\"center\"},\"children\":[\"$\",\"code\",null,{\"children\":\"POWER(2,3)\"}]}]]}],[\"$\",\"tr\",null,{\"children\":[[\"$\",\"td\",null,{\"style\":{\"textAlign\":\"center\"},\"children\":[\"$\",\"code\",null,{\"children\":\"LOG\"}]}],[\"$\",\"td\",null,{\"style\":{\"textAlign\":\"center\"},\"children\":\"对数函数\"}],[\"$\",\"td\",null,{\"style\":{\"textAlign\":\"center\"},\"children\":[\"$\",\"code\",null,{\"children\":\"LOG(7, 3)\"}]}]]}],[\"$\",\"tr\",null,{\"children\":[[\"$\",\"td\",null,{\"style\":{\"textAlign\":\"center\"},\"children\":[\"$\",\"code\",null,{\"children\":\"LN\"}]}],[\"$\",\"td\",null,{\"style\":{\"textAlign\":\"center\"},\"children\":[\"求对数函数(以\",[\"$\",\"code\",null,{\"children\":\"e\"}],\"为底数)\"]}],[\"$\",\"td\",null,{\"style\":{\"textAlign\":\"center\"},\"children\":[\"$\",\"code\",null,{\"children\":\"LN(10)\"}]}]]}]]}]]}]}],[\"$\",\"$L16\",null,{\"className\":\"language-js\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-js code-highlight\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"SELECT\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"ABS\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"-\"}],[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"100\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\" # \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"100\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"SELECT\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"ROUND\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"4.6288\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"*\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"100\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"/\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"100\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\" # \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"4.6300\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"SELECT\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"FLOOR\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"9.9\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\" # \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"9\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"SELECT\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"CEIL\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"3.2\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\" # \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"4\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"SELECT\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"POWER\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"2\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"3\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\" # \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"8\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"SELECT\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"LOG\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"7\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"3\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\" # \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"0.5645750340535797\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"SELECT\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"LN\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"10\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\" # \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"2.302585092994046\"}],\"\\n\"]}]]}]}],[\"$\",\"div\",null,{\"className\":\"w-full overflow-x-auto\",\"children\":[\"$\",\"table\",null,{\"children\":[[\"$\",\"thead\",null,{\"children\":[\"$\",\"tr\",null,{\"children\":[[\"$\",\"th\",null,{\"style\":{\"textAlign\":\"center\"},\"children\":\"函数\"}],[\"$\",\"th\",null,{\"style\":{\"textAlign\":\"center\"},\"children\":\"功能\"}],[\"$\",\"th\",null,{\"style\":{\"textAlign\":\"center\"},\"children\":\"用例\"}]]}]}],[\"$\",\"tbody\",null,{\"children\":[[\"$\",\"tr\",null,{\"children\":[[\"$\",\"td\",null,{\"style\":{\"textAlign\":\"center\"},\"children\":[\"$\",\"code\",null,{\"children\":\"SQRT\"}]}],[\"$\",\"td\",null,{\"style\":{\"textAlign\":\"center\"},\"children\":\"开平方\"}],[\"$\",\"td\",null,{\"style\":{\"textAlign\":\"center\"},\"children\":[\"$\",\"code\",null,{\"children\":\"SQRT(9)\"}]}]]}],[\"$\",\"tr\",null,{\"children\":[[\"$\",\"td\",null,{\"style\":{\"textAlign\":\"center\"},\"children\":[\"$\",\"code\",null,{\"children\":\"PI\"}]}],[\"$\",\"td\",null,{\"style\":{\"textAlign\":\"center\"},\"children\":\"圆周率\"}],[\"$\",\"td\",null,{\"style\":{\"textAlign\":\"center\"},\"children\":[\"$\",\"code\",null,{\"children\":\"PI()\"}]}]]}],[\"$\",\"tr\",null,{\"children\":[[\"$\",\"td\",null,{\"style\":{\"textAlign\":\"center\"},\"children\":[\"$\",\"code\",null,{\"children\":\"SIN\"}]}],[\"$\",\"td\",null,{\"style\":{\"textAlign\":\"center\"},\"children\":\"正弦\"}],[\"$\",\"td\",null,{\"style\":{\"textAlign\":\"center\"},\"children\":[\"$\",\"code\",null,{\"children\":\"SIN(1)\"}]}]]}],[\"$\",\"tr\",null,{\"children\":[[\"$\",\"td\",null,{\"style\":{\"textAlign\":\"center\"},\"children\":[\"$\",\"code\",null,{\"children\":\"COS\"}]}],[\"$\",\"td\",null,{\"style\":{\"textAlign\":\"center\"},\"children\":\"余弦\"}],[\"$\",\"td\",null,{\"style\":{\"textAlign\":\"center\"},\"children\":[\"$\",\"code\",null,{\"children\":\"COS(1)\"}]}]]}],[\"$\",\"tr\",null,{\"children\":[[\"$\",\"td\",null,{\"style\":{\"textAlign\":\"center\"},\"children\":[\"$\",\"code\",null,{\"children\":\"TAN\"}]}],[\"$\",\"td\",null,{\"style\":{\"textAlign\":\"center\"},\"children\":\"正切\"}],[\"$\",\"td\",null,{\"style\":{\"textAlign\":\"center\"},\"children\":[\"$\",\"code\",null,{\"children\":\"TAN(1)\"}]}]]}],[\"$\",\"tr\",null,{\"children\":[[\"$\",\"td\",null,{\"style\":{\"textAlign\":\"center\"},\"children\":[\"$\",\"code\",null,{\"children\":\"COT\"}]}],[\"$\",\"td\",null,{\"style\":{\"textAlign\":\"center\"},\"children\":\"余切\"}],[\"$\",\"td\",null,{\"style\":{\"textAlign\":\"center\"},\"children\":[\"$\",\"code\",null,{\"children\":\"COT(1)\"}]}]]}],[\"$\",\"tr\",null,{\"children\":[[\"$\",\"td\",null,{\"style\":{\"textAlign\":\"center\"},\"children\":[\"$\",\"code\",null,{\"children\":\"RADIANS\"}]}],[\"$\",\"td\",null,{\"style\":{\"textAlign\":\"center\"},\"children\":\"角度转换弧度\"}],[\"$\",\"td\",null,{\"style\":{\"textAlign\":\"center\"},\"children\":[\"$\",\"code\",null,{\"children\":\"RADIANS(30)\"}]}]]}],[\"$\",\"tr\",null,{\"children\":[[\"$\",\"td\",null,{\"style\":{\"textAlign\":\"center\"},\"children\":[\"$\",\"code\",null,{\"children\":\"DEGREES\"}]}],[\"$\",\"td\",null,{\"style\":{\"textAlign\":\"center\"},\"children\":\"弧度转换角度\"}],[\"$\",\"td\",null,{\"style\":{\"textAlign\":\"center\"},\"children\":[\"$\",\"code\",null,{\"children\":\"DEGREES(1)\"}]}]]}]]}]]}]}],[\"$\",\"$L16\",null,{\"className\":\"language-js\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-js code-highlight\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"SELECT\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"SQRT\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"9\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\" # \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"3\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"SELECT\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"PI\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\" # \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"3.141593\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"SELECT\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"SIN\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"RADIANS\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"30\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\" # \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"0.49999999999999994\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"SELECT\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"COS\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"RADIANS\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"45\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\" # \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"0.7071067811865476\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"SELECT\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"TAN\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"RADIANS\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"35\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\" # \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"0.7002075382097097\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"SELECT\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"COT\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"RADIANS\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"45\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\" # \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"1.0000000000000002\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"SELECT\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"DEGREES\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"1\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\" # \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"57.29577951308232\"}],\"\\n\"]}]]}]}],[\"$\",\"ol\",null,{\"start\":\"3\",\"children\":[\"$\",\"li\",null,{\"children\":[\"获取系统时间函数 \",[\"$\",\"code\",null,{\"children\":\"NOW()\"}],\"- 获取当前系统日期和时间，格式为\",[\"$\",\"code\",null,{\"children\":\"yyyy-MM-dd hh:mm:ss\"}],\" \",[\"$\",\"code\",null,{\"children\":\"CURDATE()\"}],\"- 获取当前系统日期，格式为\",[\"$\",\"code\",null,{\"children\":\"yyyy-MM-dd\"}],\" \",[\"$\",\"code\",null,{\"children\":\"CURTIME()\"}],\" - 获取当前系统时间，格式为\",[\"$\",\"code\",null,{\"children\":\"hh:mm:ss\"}]]}]}],[\"$\",\"$L16\",null,{\"className\":\"language-js\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-js code-highlight\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"SELECT\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"NOW\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"CURDATE\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"CURTIME\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"2020\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"-\"}],[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"01\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"-\"}],[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"01\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"10\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"59\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"43\"}],\"\\t \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"2020\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"-\"}],[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"01\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"-\"}],[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"01\"}],\" \\t\",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"10\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"59\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"43\"}],\"\\n\"]}]]}]}],[\"$\",\"ol\",null,{\"start\":\"4\",\"children\":[\"$\",\"li\",null,{\"children\":[\"日期格式化函数 \",[\"$\",\"code\",null,{\"children\":\"DATE_FORMAT()\"}],\" - 用于格式化日期\"]}]}],[\"$\",\"div\",null,{\"className\":\"w-full overflow-x-auto\",\"children\":[\"$\",\"table\",null,{\"children\":[[\"$\",\"thead\",null,{\"children\":[\"$\",\"tr\",null,{\"children\":[[\"$\",\"th\",null,{\"style\":{\"textAlign\":\"center\"},\"children\":\"占位符\"}],[\"$\",\"th\",null,{\"style\":{\"textAlign\":\"center\"},\"children\":\"作用\"}],[\"$\",\"th\",null,{\"style\":{\"textAlign\":\"center\"},\"children\":\"占位符\"}],[\"$\",\"th\",null,{\"style\":{\"textAlign\":\"center\"},\"children\":\"作用\"}]]}]}],[\"$\",\"tbody\",null,{\"children\":[[\"$\",\"tr\",null,{\"children\":[[\"$\",\"td\",null,{\"style\":{\"textAlign\":\"center\"},\"children\":[\"$\",\"code\",null,{\"children\":\"%Y\"}]}],[\"$\",\"td\",null,{\"style\":{\"textAlign\":\"center\"},\"children\":\"年份\"}],[\"$\",\"td\",null,{\"style\":{\"textAlign\":\"center\"},\"children\":[\"$\",\"code\",null,{\"children\":\"%m\"}]}],[\"$\",\"td\",null,{\"style\":{\"textAlign\":\"center\"},\"children\":\"月份\"}]]}],[\"$\",\"tr\",null,{\"children\":[[\"$\",\"td\",null,{\"style\":{\"textAlign\":\"center\"},\"children\":[\"$\",\"code\",null,{\"children\":\"%d\"}]}],[\"$\",\"td\",null,{\"style\":{\"textAlign\":\"center\"},\"children\":\"日期\"}],[\"$\",\"td\",null,{\"style\":{\"textAlign\":\"center\"},\"children\":[\"$\",\"code\",null,{\"children\":\"%w\"}]}],[\"$\",\"td\",null,{\"style\":{\"textAlign\":\"center\"},\"children\":\"星期(数字）\"}]]}],[\"$\",\"tr\",null,{\"children\":[[\"$\",\"td\",null,{\"style\":{\"textAlign\":\"center\"},\"children\":[\"$\",\"code\",null,{\"children\":\"%W\"}]}],[\"$\",\"td\",null,{\"style\":{\"textAlign\":\"center\"},\"children\":\"星期(名称）\"}],[\"$\",\"td\",null,{\"style\":{\"textAlign\":\"center\"},\"children\":[\"$\",\"code\",null,{\"children\":\"%j\"}]}],[\"$\",\"td\",null,{\"style\":{\"textAlign\":\"center\"},\"children\":\"本年第几天\"}]]}],[\"$\",\"tr\",null,{\"children\":[[\"$\",\"td\",null,{\"style\":{\"textAlign\":\"center\"},\"children\":[\"$\",\"code\",null,{\"children\":\"%U\"}]}],[\"$\",\"td\",null,{\"style\":{\"textAlign\":\"center\"},\"children\":\"本年第几周\"}],[\"$\",\"td\",null,{\"style\":{\"textAlign\":\"center\"},\"children\":[\"$\",\"code\",null,{\"children\":\"%H\"}]}],[\"$\",\"td\",null,{\"style\":{\"textAlign\":\"center\"},\"children\":[\"小时(\",[\"$\",\"code\",null,{\"children\":\"24\"}],\")\"]}]]}],[\"$\",\"tr\",null,{\"children\":[[\"$\",\"td\",null,{\"style\":{\"textAlign\":\"center\"},\"children\":[\"$\",\"code\",null,{\"children\":\"%h\"}]}],[\"$\",\"td\",null,{\"style\":{\"textAlign\":\"center\"},\"children\":[\"小时(\",[\"$\",\"code\",null,{\"children\":\"12\"}],\")\"]}],[\"$\",\"td\",null,{\"style\":{\"textAlign\":\"center\"},\"children\":[\"$\",\"code\",null,{\"children\":\"%i\"}]}],[\"$\",\"td\",null,{\"style\":{\"textAlign\":\"center\"},\"children\":\"分钟\"}]]}],[\"$\",\"tr\",null,{\"children\":[[\"$\",\"td\",null,{\"style\":{\"textAlign\":\"center\"},\"children\":[\"$\",\"code\",null,{\"children\":\"%s\"}]}],[\"$\",\"td\",null,{\"style\":{\"textAlign\":\"center\"},\"children\":\"秒\"}],[\"$\",\"td\",null,{\"style\":{\"textAlign\":\"center\"},\"children\":[\"$\",\"code\",null,{\"children\":\"%r\"}]}],[\"$\",\"td\",null,{\"style\":{\"textAlign\":\"center\"},\"children\":[\"时间(\",[\"$\",\"code\",null,{\"children\":\"24\"}],\")\"]}]]}],[\"$\",\"tr\",null,{\"children\":[[\"$\",\"td\",null,{\"style\":{\"textAlign\":\"center\"},\"children\":[\"$\",\"code\",null,{\"children\":\"%T\"}]}],[\"$\",\"td\",null,{\"style\":{\"textAlign\":\"center\"},\"children\":[\"时间(\",[\"$\",\"code\",null,{\"children\":\"12)\"}]]}],[\"$\",\"td\",null,{\"style\":{\"textAlign\":\"center\"}}],[\"$\",\"td\",null,{\"style\":{\"textAlign\":\"center\"}}]]}]]}]]}]}],[\"$\",\"$L16\",null,{\"className\":\"language-js\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-js code-highlight\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"--\"}],\" 查询明天你的生日是星期几。\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"SELECT\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"DATE_FORMAT\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'2020-04-05'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'%w - %W'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" #\",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"0\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"-\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token maybe-class-name\",\"children\":\"Sunday\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"--\"}],\" 查询\",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"1981\"}],\"年上半年入职的员工有多少人\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"SELECT\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"COUNT\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"*\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"FROM\"}],\" t_emp\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"WHERE\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"DATE_FORMAT\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"hiredate\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"%Y\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"1981\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"AND\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"DATE_FORMAT\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"hiredate\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"%m\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003c=\"}],[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"6\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\" # \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"5\"}],\"\\n\"]}]]}]}],[\"$\",\"p\",null,{\"children\":[\"注释：数据库中支持的最小的时间单位是秒，而不是毫秒。 5. 日期偏移计算 \",[\"$\",\"code\",null,{\"children\":\"DATE_ADD()\"}],\" - 可以实现日期偏移计算。 格式：\",[\"$\",\"code\",null,{\"children\":\"DATE_ADD(日期, INTERVAL 偏移量 时间单位)\"}]]}],[\"$\",\"$L16\",null,{\"className\":\"language-js\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-js code-highlight\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"SELECT\"}],\" \\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"NOW\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"DATE_ADD\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"NOW\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"INTERVAL\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"15\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"DAY\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" d1\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"DATE_ADD\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"NOW\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"INTERVAL\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"-\"}],[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"300\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"MINUTE\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" d2\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"DATE_ADD\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"DATE_ADD\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"NOW\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"INTERVAL\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"-\"}],[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"2\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"MONTH\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"INTERVAL\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"-\"}],[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"3\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"DAY\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" d3\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"# \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"2020\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"-\"}],[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"01\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"-\"}],[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"01\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"11\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"31\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"28\"}],\"\\t\",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"2020\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"-\"}],[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"01\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"-\"}],[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"16\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"11\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"31\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"28\"}],\"\\t\",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"2020\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"-\"}],[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"01\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"-\"}],[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"01\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"06\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"31\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"28\"}],\"\\t\",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"2019\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"-\"}],[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"10\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"-\"}],[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"29\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"11\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"31\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"28\"}],\"\\n\"]}]]}]}],[\"$\",\"p\",null,{\"children\":[\"注释：在\",[\"$\",\"code\",null,{\"children\":\"MySQL\"}],\"数据库中，两个日期不能直接加减，日期也不能与数字加减。 6. 日期差值 \",[\"$\",\"code\",null,{\"children\":\"DATEDIFF()\"}],\" - 计算两个日期之间相差的天数。\"]}],[\"$\",\"$L16\",null,{\"className\":\"language-js\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-js code-highlight\",\"children\":[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"SELECT\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"DATEDIFF\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"NOW\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"DATE_ADD\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"NOW\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"INTERVAL\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"-\"}],[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"1\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"MONTH\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\" # \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"31\"}],\"\\n\"]}]}]}],[\"$\",\"ol\",null,{\"start\":\"7\",\"children\":[\"$\",\"li\",null,{\"children\":\"字符函数\"}]}],[\"$\",\"div\",null,{\"className\":\"w-full overflow-x-auto\",\"children\":[\"$\",\"table\",null,{\"children\":[[\"$\",\"thead\",null,{\"children\":[\"$\",\"tr\",null,{\"children\":[[\"$\",\"th\",null,{\"style\":{\"textAlign\":\"center\"},\"children\":\"函数\"}],[\"$\",\"th\",null,{\"style\":{\"textAlign\":\"center\"},\"children\":\"功能\"}],[\"$\",\"th\",null,{\"style\":{\"textAlign\":\"center\"},\"children\":\"用例\"}]]}]}],[\"$\",\"tbody\",null,{\"children\":[[\"$\",\"tr\",null,{\"children\":[[\"$\",\"td\",null,{\"style\":{\"textAlign\":\"center\"},\"children\":[\"$\",\"code\",null,{\"children\":\"LOWER\"}]}],[\"$\",\"td\",null,{\"style\":{\"textAlign\":\"center\"},\"children\":\"转换为小写\"}],[\"$\",\"td\",null,{\"style\":{\"textAlign\":\"center\"},\"children\":[\"$\",\"code\",null,{\"children\":\"LOWER(ename)\"}]}]]}],[\"$\",\"tr\",null,{\"children\":[[\"$\",\"td\",null,{\"style\":{\"textAlign\":\"center\"},\"children\":[\"$\",\"code\",null,{\"children\":\"UPPER\"}]}],[\"$\",\"td\",null,{\"style\":{\"textAlign\":\"center\"},\"children\":\"转换为大写\"}],[\"$\",\"td\",null,{\"style\":{\"textAlign\":\"center\"},\"children\":[\"$\",\"code\",null,{\"children\":\"UPPER(ename)\"}]}]]}],[\"$\",\"tr\",null,{\"children\":[[\"$\",\"td\",null,{\"style\":{\"textAlign\":\"center\"},\"children\":[\"$\",\"code\",null,{\"children\":\"LENGTH\"}]}],[\"$\",\"td\",null,{\"style\":{\"textAlign\":\"center\"},\"children\":\"字符数量\"}],[\"$\",\"td\",null,{\"style\":{\"textAlign\":\"center\"},\"children\":[\"$\",\"code\",null,{\"children\":\"LENGTH(ename)\"}]}]]}],[\"$\",\"tr\",null,{\"children\":[[\"$\",\"td\",null,{\"style\":{\"textAlign\":\"center\"},\"children\":[\"$\",\"code\",null,{\"children\":\"CONCAT\"}]}],[\"$\",\"td\",null,{\"style\":{\"textAlign\":\"center\"},\"children\":\"连接字符串\"}],[\"$\",\"td\",null,{\"style\":{\"textAlign\":\"center\"},\"children\":[\"$\",\"code\",null,{\"children\":\"CONCAT(sal, \\\"$\\\")\"}]}]]}],[\"$\",\"tr\",null,{\"children\":[[\"$\",\"td\",null,{\"style\":{\"textAlign\":\"center\"},\"children\":[\"$\",\"code\",null,{\"children\":\"INSTR\"}]}],[\"$\",\"td\",null,{\"style\":{\"textAlign\":\"center\"},\"children\":\"字符出现的位置\"}],[\"$\",\"td\",null,{\"style\":{\"textAlign\":\"center\"},\"children\":[\"$\",\"code\",null,{\"children\":\"INSTR(ename, \\\"A\\\")\"}]}]]}],[\"$\",\"tr\",null,{\"children\":[[\"$\",\"td\",null,{\"style\":{\"textAlign\":\"center\"},\"children\":[\"$\",\"code\",null,{\"children\":\"INSERT\"}]}],[\"$\",\"td\",null,{\"style\":{\"textAlign\":\"center\"},\"children\":\"插入/替换字符串\"}],[\"$\",\"td\",null,{\"style\":{\"textAlign\":\"center\"},\"children\":[\"$\",\"code\",null,{\"children\":\"INSERT(\\\"你好\\\", 1, 0, \\\"先生\\\")\"}]}]]}],[\"$\",\"tr\",null,{\"children\":[[\"$\",\"td\",null,{\"style\":{\"textAlign\":\"center\"},\"children\":[\"$\",\"code\",null,{\"children\":\"REPLACE\"}]}],[\"$\",\"td\",null,{\"style\":{\"textAlign\":\"center\"},\"children\":\"替换字符\"}],[\"$\",\"td\",null,{\"style\":{\"textAlign\":\"center\"},\"children\":[\"$\",\"code\",null,{\"children\":\"REPLACE(\\\"你好先生\\\", \\\"先生\\\", \\\"女士\\\")\"}]}]]}]]}]]}]}],[\"$\",\"$L16\",null,{\"className\":\"language-js\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-js code-highlight\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"SELECT\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"LOWER\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"ename\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"UPPER\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"ename\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"LENGTH\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"ename\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"CONCAT\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"sal\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'$'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"INSTR\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"ename\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'A'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"FROM\"}],\" t_emp\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"--\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator spread\",\"children\":\"...\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"--\"}],\" allen\\t\",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"ALLEN\"}],\"\\t\",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"5\"}],\"\\t\",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"1600\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],\"00$\\t\",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"1\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"SELECT\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"INSERT\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'你好'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"1\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"0\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'先生'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\" # 先生你好\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"SELECT\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"INSERT\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'你好'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"1\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"1\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'先生'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\" # 先生好\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"SELECT\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"REPLACE\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'你好先生'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'先生'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'女士'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\" # 你好女士\\n\"]}]]}]}],[\"$\",\"div\",null,{\"className\":\"w-full overflow-x-auto\",\"children\":[\"$\",\"table\",null,{\"children\":[[\"$\",\"thead\",null,{\"children\":[\"$\",\"tr\",null,{\"children\":[[\"$\",\"th\",null,{\"style\":{\"textAlign\":\"center\"},\"children\":\"函数\"}],[\"$\",\"th\",null,{\"style\":{\"textAlign\":\"center\"},\"children\":\"功能\"}],[\"$\",\"th\",null,{\"style\":{\"textAlign\":\"center\"},\"children\":\"用例\"}]]}]}],[\"$\",\"tbody\",null,{\"children\":[[\"$\",\"tr\",null,{\"children\":[[\"$\",\"td\",null,{\"style\":{\"textAlign\":\"center\"},\"children\":[\"$\",\"code\",null,{\"children\":\"SUNSTR\"}]}],[\"$\",\"td\",null,{\"style\":{\"textAlign\":\"center\"},\"children\":\"截取字符串\"}],[\"$\",\"td\",null,{\"style\":{\"textAlign\":\"center\"},\"children\":[\"$\",\"code\",null,{\"children\":\"SUNSTR('你好世界', 3, 4)\"}]}]]}],[\"$\",\"tr\",null,{\"children\":[[\"$\",\"td\",null,{\"style\":{\"textAlign\":\"center\"},\"children\":[\"$\",\"code\",null,{\"children\":\"SUNSTRING\"}]}],[\"$\",\"td\",null,{\"style\":{\"textAlign\":\"center\"},\"children\":\"截取字符串\"}],[\"$\",\"td\",null,{\"style\":{\"textAlign\":\"center\"},\"children\":[\"$\",\"code\",null,{\"children\":\"SUNSTRING('你好世界', 3, 2)\"}]}]]}],[\"$\",\"tr\",null,{\"children\":[[\"$\",\"td\",null,{\"style\":{\"textAlign\":\"center\"},\"children\":[\"$\",\"code\",null,{\"children\":\"LPAD\"}]}],[\"$\",\"td\",null,{\"style\":{\"textAlign\":\"center\"},\"children\":\"左侧填充字符\"}],[\"$\",\"td\",null,{\"style\":{\"textAlign\":\"center\"},\"children\":[\"$\",\"code\",null,{\"children\":\"LPAD('Hello', 10, '*')\"}]}]]}],[\"$\",\"tr\",null,{\"children\":[[\"$\",\"td\",null,{\"style\":{\"textAlign\":\"center\"},\"children\":[\"$\",\"code\",null,{\"children\":\"RPAD\"}]}],[\"$\",\"td\",null,{\"style\":{\"textAlign\":\"center\"},\"children\":\"右侧填充字符\"}],[\"$\",\"td\",null,{\"style\":{\"textAlign\":\"center\"},\"children\":[\"$\",\"code\",null,{\"children\":\"RPAD('Hello', 10, '*')\"}]}]]}],[\"$\",\"tr\",null,{\"children\":[[\"$\",\"td\",null,{\"style\":{\"textAlign\":\"center\"},\"children\":[\"$\",\"code\",null,{\"children\":\"TRIM\"}]}],[\"$\",\"td\",null,{\"style\":{\"textAlign\":\"center\"},\"children\":\"去除首尾空格\"}],[\"$\",\"td\",null,{\"style\":{\"textAlign\":\"center\"},\"children\":[\"$\",\"code\",null,{\"children\":\"TRIM(' 你好先生 ')\"}]}]]}]]}]]}]}],[\"$\",\"$L16\",null,{\"className\":\"language-js\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-js code-highlight\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"SELECT\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"SUBSTR\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'你还世界'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"3\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"4\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\" # 世界\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"SELECT\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"SUBSTRING\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'你好世界'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"3\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"2\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\" # 世界\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"SELECT\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"LPAD\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"SUBSTRING\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'12345678901'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"8\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"4\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"11\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'*'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\" # \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"**\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"**\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"**\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"*\"}],[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"8901\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"SELECT\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"RPAD\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"SUBSTRING\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'李晓娜'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"1\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"1\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"LENGTH\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'李晓娜'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"/\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"3\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'*'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\" # 李\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"**\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"SELECT\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"TRIM\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'    Hello World!  '\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" #\",[\"$\",\"span\",null,{\"className\":\"token maybe-class-name\",\"children\":\"Hello\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token maybe-class-name\",\"children\":\"World\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"!\"}],\"\\n\"]}]]}]}],[\"$\",\"ol\",null,{\"start\":\"8\",\"children\":[\"$\",\"li\",null,{\"children\":[\"条件函数 \",[\"$\",\"code\",null,{\"children\":\"SQL\"}],\"语句中可以利用条件函数来实现编程语言里的条件判断。 \",[\"$\",\"code\",null,{\"children\":\"IFNULL(表达式, 值)\"}],\" \",[\"$\",\"code\",null,{\"children\":\"IF(表达式, 值1, 值2)\"}],\" 例如：中秋节公司员工发放礼品，\",[\"$\",\"code\",null,{\"children\":\"SALES\"}],\"部门发放\",[\"$\",\"code\",null,{\"children\":\"礼品A\"}],\", 其余部门发放\",[\"$\",\"code\",null,{\"children\":\"礼品B\"}],\", 打印每个员工获得的礼品。\"]}]}],[\"$\",\"$L16\",null,{\"className\":\"language-js\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-js code-highlight\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"SELECT\"}],\" e\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access\",\"children\":\"ename\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" d\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access\",\"children\":\"dname\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"  \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"IF\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"d\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access\",\"children\":\"dname\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'SALES'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'礼品A'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'礼品B'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"FROM\"}],\" t_emp e \\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"JOIN\"}],\" t_dept d \\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"ON\"}],\" e\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access\",\"children\":\"deptno\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" d\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access\",\"children\":\"deptno\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}]]}]}],[\"$\",\"ol\",null,{\"start\":\"9\",\"children\":[\"$\",\"li\",null,{\"children\":[\"复杂条件判断 公司年庆决定组织员工集体旅游，每个部门旅游目的地不同。\",[\"$\",\"code\",null,{\"children\":\"SALES\"}],\"部门去\",[\"$\",\"code\",null,{\"children\":\"P1\"}],\"地点，\",[\"$\",\"code\",null,{\"children\":\"ACCOUNTING\"}],\"部门去\",[\"$\",\"code\",null,{\"children\":\"P2\"}],\"地点，\",[\"$\",\"code\",null,{\"children\":\"RESEARCH\"}],\"部门去\",[\"$\",\"code\",null,{\"children\":\"P3\"}],\"地点，查询每名员工的旅行地点。\"]}]}],[\"$\",\"$L16\",null,{\"className\":\"language-js\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-js code-highlight\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"SELECT\"}],\" \\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"e\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access\",\"children\":\"ename\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" d\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access\",\"children\":\"dname\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"CASE\"}],\" d\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access\",\"children\":\"dname\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"\\t\",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"WHEN\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'SALES'\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"THEN\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'P1'\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"\\t\",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"WHEN\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'ACCOUNTING'\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"THEN\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'P2'\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"\\t\",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"WHEN\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'RESEARCH'\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"THEN\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'P3'\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"END\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"AS\"}],\" place\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"FROM\"}],\" t_emp e\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"JOIN\"}],\" t_dept d\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"ON\"}],\" e\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access\",\"children\":\"deptno\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" d\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access\",\"children\":\"deptno\"}],\"\\n\"]}]]}]}],[\"$\",\"ol\",null,{\"start\":\"10\",\"children\":[\"$\",\"li\",null,{\"children\":[\"薪资调整方案 (1) \",[\"$\",\"code\",null,{\"children\":\"SALES\"}],\"部门中工龄超过\",[\"$\",\"code\",null,{\"children\":\"20\"}],\"年，涨\",[\"$\",\"code\",null,{\"children\":\"10%\"}],\"。 (2) \",[\"$\",\"code\",null,{\"children\":\"SALES\"}],\"部门中工龄不满\",[\"$\",\"code\",null,{\"children\":\"20\"}],\"年，涨\",[\"$\",\"code\",null,{\"children\":\"5%\"}],\"。 (3) \",[\"$\",\"code\",null,{\"children\":\"ACCOUNTING\"}],\"部门，涨\",[\"$\",\"code\",null,{\"children\":\"300\"}],\"。 (4) \",[\"$\",\"code\",null,{\"children\":\"RESEARCH\"}],\"部门里低于部门平均底薪，涨\",[\"$\",\"code\",null,{\"children\":\"200\"}],\"。 (5) 没有部门的员工，涨\",[\"$\",\"code\",null,{\"children\":\"100\"}],\"。\"]}]}],[\"$\",\"$L16\",null,{\"className\":\"language-js\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-js code-highlight\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"UPDATE\"}],\" t_emp e \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"LEFT\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"JOIN\"}],\" t_dept d \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"ON\"}],\" e\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access\",\"children\":\"deptno\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" d\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access\",\"children\":\"deptno\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"LEFT\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"JOIN\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"SELECT\"}],\" deptno\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"AVG\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"sal\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" avg \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"FROM\"}],\" t_emp \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"GROUP\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"BY\"}],\" deptno\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" g\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"ON\"}],\" e\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access\",\"children\":\"deptno\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" g\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access\",\"children\":\"deptno\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"SET\"}],\" e\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access\",\"children\":\"sal\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"\\t\",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"CASE\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"\\t  \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"WHEN\"}],\" d\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access\",\"children\":\"dname\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'SALES'\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"AND\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"DATEDIFF\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"NOW\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"e\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access\",\"children\":\"hiredate\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"/\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"365\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003e=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"20\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"THEN\"}],\" e\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access\",\"children\":\"sal\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"*\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"1.1\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"\\t\\t\",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"WHEN\"}],\" d\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access\",\"children\":\"dname\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'SALES'\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"AND\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"DATEDIFF\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"NOW\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"e\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access\",\"children\":\"hiredate\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"/\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"365\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003c\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"20\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"THEN\"}],\" e\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access\",\"children\":\"sal\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"*\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"1.05\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"\\t\\t\",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"WHEN\"}],\" d\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access\",\"children\":\"dname\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'ACCOUNTING'\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"THEN\"}],\" e\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access\",\"children\":\"sal\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"+\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"300\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"\\t\\t\",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"WHEN\"}],\" d\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access\",\"children\":\"dname\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'RESEARCH'\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"AND\"}],\" e\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access\",\"children\":\"sal\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003c\"}],\" g\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access\",\"children\":\"avg\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"THEN\"}],\" e\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access\",\"children\":\"sal\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"+\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"200\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"\\t\\t\",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"WHEN\"}],\" e\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access\",\"children\":\"deptno\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"IS\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"NULL\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"THEN\"}],\" e\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access\",\"children\":\"sal\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"+\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"100\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"\\t\\t\",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"ELSE\"}],\" e\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access\",\"children\":\"sal\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"\\t\",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"END\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}]]}]}],[\"$\",\"h2\",null,{\"className\":\"content-header\",\"id\":\"23-总结\",\"children\":[[\"$\",\"a\",null,{\"className\":\"break-words\",\"href\":\"#23-总结\",\"aria-hidden\":\"true\",\"tabIndex\":\"-1\",\"children\":[\"$\",\"span\",null,{\"className\":\"content-header-link\",\"children\":[\"$\",\"svg\",null,{\"className\":\"h-5 linkicon w-5\",\"fill\":\"currentColor\",\"viewBox\":\"0 0 20 20\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"children\":[[\"$\",\"path\",null,{\"d\":\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}],[\"$\",\"path\",null,{\"d\":\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"}]]}]}]}],\"2.3 总结\"]}],[\"$\",\"ol\",null,{\"children\":[\"$\",\"li\",null,{\"children\":\"技能清单 熟练运用数字函数。 熟练运用字符函数。 熟练运用日期函数。 熟练运用条件函数。\"}]}],[\"$\",\"h1\",null,{\"className\":\"content-header\",\"id\":\"3-mysql的综合应用\",\"children\":[[\"$\",\"a\",null,{\"className\":\"break-words\",\"href\":\"#3-mysql的综合应用\",\"aria-hidden\":\"true\",\"tabIndex\":\"-1\",\"children\":[\"$\",\"span\",null,{\"className\":\"content-header-link\",\"children\":[\"$\",\"svg\",null,{\"className\":\"h-5 linkicon w-5\",\"fill\":\"currentColor\",\"viewBox\":\"0 0 20 20\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"children\":[[\"$\",\"path\",null,{\"d\":\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}],[\"$\",\"path\",null,{\"d\":\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"}]]}]}]}],\"3. MySQL的综合应用\"]}],[\"$\",\"h2\",null,{\"className\":\"content-header\",\"id\":\"31-介绍\",\"children\":[[\"$\",\"a\",null,{\"className\":\"break-words\",\"href\":\"#31-介绍\",\"aria-hidden\":\"true\",\"tabIndex\":\"-1\",\"children\":[\"$\",\"span\",null,{\"className\":\"content-header-link\",\"children\":[\"$\",\"svg\",null,{\"className\":\"h-5 linkicon w-5\",\"fill\":\"currentColor\",\"viewBox\":\"0 0 20 20\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"children\":[[\"$\",\"path\",null,{\"d\":\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}],[\"$\",\"path\",null,{\"d\":\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"}]]}]}]}],\"3.1 介绍\"]}],[\"$\",\"ol\",null,{\"children\":[[\"$\",\"li\",null,{\"children\":[\"数据库事务机制 \",[\"$\",\"code\",null,{\"children\":\"undo\"}],\"和\",[\"$\",\"code\",null,{\"children\":\"redo\"}],\"日志、开启事务、提交事务、回滚事务\"]}],[\"$\",\"li\",null,{\"children\":[\"数据的导出和导入 \",[\"$\",\"code\",null,{\"children\":\"SQL\"}],\"文件的导入和导出、\",[\"$\",\"code\",null,{\"children\":\"TXT\"}],\"文档的导入与导出\"]}],[\"$\",\"li\",null,{\"children\":\"综合案例：设计数据表 设计新闻管理系统的数据表。\"}]]}],[\"$\",\"h2\",null,{\"className\":\"content-header\",\"id\":\"32-mysql数据库的事务机制\",\"children\":[[\"$\",\"a\",null,{\"className\":\"break-words\",\"href\":\"#32-mysql数据库的事务机制\",\"aria-hidden\":\"true\",\"tabIndex\":\"-1\",\"children\":[\"$\",\"span\",null,{\"className\":\"content-header-link\",\"children\":[\"$\",\"svg\",null,{\"className\":\"h-5 linkicon w-5\",\"fill\":\"currentColor\",\"viewBox\":\"0 0 20 20\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"children\":[[\"$\",\"path\",null,{\"d\":\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}],[\"$\",\"path\",null,{\"d\":\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"}]]}]}]}],\"3.2 MySQL数据库的事务机制\"]}],[\"$\",\"ol\",null,{\"children\":[[\"$\",\"li\",null,{\"children\":[\"事务概念 \",[\"$\",\"code\",null,{\"children\":\"SQL\"}],\"语句直接操作数据文件是很危险的。 \",[\"$\",\"code\",null,{\"children\":\"MySQL\"}],\"有\",[\"$\",\"code\",null,{\"children\":\"5\"}],\"种日志，其中\",[\"$\",\"code\",null,{\"children\":\"redo\"}],\"日志和\",[\"$\",\"code\",null,{\"children\":\"undo\"}],\"地址与事务有关。 \",[\"$\",\"img\",null,{\"alt\":\"image.png\",\"src\":\"https://upload-images.jianshu.io/upload_images/4989175-753684dc3be87f3f.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/860\"}]]}],[\"$\",\"li\",null,{\"children\":[\"事务机制(\",[\"$\",\"code\",null,{\"children\":\"Transaction\"}],\") \",[\"$\",\"code\",null,{\"children\":\"RDBMS\"}],\"(关系数据库) = \",[\"$\",\"code\",null,{\"children\":\"SQL\"}],\"语句 + 事务(\",[\"$\",\"code\",null,{\"children\":\"ACID\"}],\") 事务是一个或者多个\",[\"$\",\"code\",null,{\"children\":\"SQL\"}],\"语句组成的整体，要么全部执行成功，要么全部执行失败。\"]}],[\"$\",\"li\",null,{\"children\":[\"管理事务 默认情况下，\",[\"$\",\"code\",null,{\"children\":\"MySQL\"}],\"执行每条\",[\"$\",\"code\",null,{\"children\":\"SQL\"}],\"语句都会自动开启和提交事务。 我们可以手动管理事务，让多条\",[\"$\",\"code\",null,{\"children\":\"SQL\"}],\"语句纳入到一个事务之中。\"]}]]}],[\"$\",\"$L16\",null,{\"className\":\"language-js\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-js code-highlight\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"START\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"TRANSACTION\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"SQL\"}],\"语句\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"[\"}],[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"COMMIT\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"|\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"ROLLBACK\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"]\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}]]}]}],[\"$\",\"$L16\",null,{\"className\":\"language-js\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-js code-highlight\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"START\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"TRANSACTION\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"DELETE\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"FROM\"}],\" t_emp\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"DELETE\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"FROM\"}],\" t_dept\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"SELECT\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"COUNT\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"*\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"FROM\"}],\" t_emp\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\" # \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"0\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"SELECT\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"COUNT\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"*\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"FROM\"}],\" t_dept\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\" # \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"0\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"COMMIT\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"--\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"ROLLBACK\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}]]}]}],[\"$\",\"p\",null,{\"children\":[\"注意：\",[\"$\",\"code\",null,{\"children\":\"COMMIT\"}],\"语句执行之前虽然查到的数据集合数目为\",[\"$\",\"code\",null,{\"children\":\"0\"}],\"。但此时是在\",[\"$\",\"code\",null,{\"children\":\"redo\"}],\"文件中查到的结果，真实数据库里数据还没有被删除，直到执行\",[\"$\",\"code\",null,{\"children\":\"COMMIT\"}],\"语句。 4. 事务的\",[\"$\",\"code\",null,{\"children\":\"ACID\"}],\"属性 (1) 原子性 一个事务中的所有操作要么全部完成，要么全部失败。事务执行后，不允许停留在中间某个状态。 (2) 一致性 不管在任何给定的时间、并发事务有多少，事务必须保证运行结果的一致性。 (3) 隔离性 隔离性要求事务不受其他并发事务的影响，如同在给定的时间内，该事务是数据库唯一运行的事务。 例如：默认情况下，\",[\"$\",\"code\",null,{\"children\":\"A\"}],\"事务只能看到日志中该事务的相关数据。 (4) 持久性 事务一旦提交，结果便是永久性的。即便发生宕机，仍然可以依靠事务日志完成数据的持久化。 5. 事务的四个隔离级别\"]}],[\"$\",\"div\",null,{\"className\":\"w-full overflow-x-auto\",\"children\":[\"$\",\"table\",null,{\"children\":[[\"$\",\"thead\",null,{\"children\":[\"$\",\"tr\",null,{\"children\":[[\"$\",\"th\",null,{\"style\":{\"textAlign\":\"center\"},\"children\":\"序号\"}],[\"$\",\"th\",null,{\"style\":{\"textAlign\":\"center\"},\"children\":\"隔离级别\"}],[\"$\",\"th\",null,{\"style\":{\"textAlign\":\"center\"},\"children\":\"功能\"}]]}]}],[\"$\",\"tbody\",null,{\"children\":[[\"$\",\"tr\",null,{\"children\":[[\"$\",\"td\",null,{\"style\":{\"textAlign\":\"center\"},\"children\":[\"$\",\"code\",null,{\"children\":\"1\"}]}],[\"$\",\"td\",null,{\"style\":{\"textAlign\":\"center\"},\"children\":[\"$\",\"code\",null,{\"children\":\"read uncommitted\"}]}],[\"$\",\"td\",null,{\"style\":{\"textAlign\":\"center\"},\"children\":\"读取未提交数据\"}]]}],[\"$\",\"tr\",null,{\"children\":[[\"$\",\"td\",null,{\"style\":{\"textAlign\":\"center\"},\"children\":[\"$\",\"code\",null,{\"children\":\"2\"}]}],[\"$\",\"td\",null,{\"style\":{\"textAlign\":\"center\"},\"children\":[\"$\",\"code\",null,{\"children\":\"read committed\"}]}],[\"$\",\"td\",null,{\"style\":{\"textAlign\":\"center\"},\"children\":\"读取已提交数据\"}]]}],[\"$\",\"tr\",null,{\"children\":[[\"$\",\"td\",null,{\"style\":{\"textAlign\":\"center\"},\"children\":[\"$\",\"code\",null,{\"children\":\"3\"}]}],[\"$\",\"td\",null,{\"style\":{\"textAlign\":\"center\"},\"children\":[\"$\",\"code\",null,{\"children\":\"repeatable read\"}]}],[\"$\",\"td\",null,{\"style\":{\"textAlign\":\"center\"},\"children\":\"重复读取\"}]]}],[\"$\",\"tr\",null,{\"children\":[[\"$\",\"td\",null,{\"style\":{\"textAlign\":\"center\"},\"children\":[\"$\",\"code\",null,{\"children\":\"4\"}]}],[\"$\",\"td\",null,{\"style\":{\"textAlign\":\"center\"},\"children\":[\"$\",\"code\",null,{\"children\":\"serializable\"}]}],[\"$\",\"td\",null,{\"style\":{\"textAlign\":\"center\"},\"children\":\"序列化\"}]]}],[\"$\",\"tr\",null,{\"children\":[[\"$\",\"td\",null,{\"style\":{\"textAlign\":\"center\"},\"children\":[\"注释：默认隔离级别为\",[\"$\",\"code\",null,{\"children\":\"repeatable read\"}],\"。\"]}],[\"$\",\"td\",null,{\"style\":{\"textAlign\":\"center\"}}],[\"$\",\"td\",null,{\"style\":{\"textAlign\":\"center\"}}]]}]]}]]}]}],[\"$\",\"ol\",null,{\"start\":\"6\",\"children\":[\"$\",\"li\",null,{\"children\":[\"买票事务案例 \",[\"$\",\"img\",null,{\"alt\":\"image.png\",\"src\":\"https://upload-images.jianshu.io/upload_images/4989175-b0a6fffa9d30c05b.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\"}]]}]}],[\"$\",\"$L16\",null,{\"className\":\"language-js\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-js code-highlight\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"--\"}],\" 查询面板\",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"1\"}],\" \\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"START\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"TRANSACTION\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"UPDATE\"}],\" t_emp \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"SET\"}],\" sal \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"1\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}]]}]}],[\"$\",\"$L16\",null,{\"className\":\"language-js\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-js code-highlight\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"--\"}],\" 查询面板\",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"2\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"SET\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"SESSION\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"TRANSACTION\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"ISOLATION\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"LEVEL\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"READ\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"UNCOMMITTED\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"--\"}],\" 设置当前会话事务隔离级别：允许读取其他事务未提交数据。\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"START\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"TRANSACTION\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"SELECT\"}],\" empno\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" ename\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" sal \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"FROM\"}],\" t_emp\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"COMMIT\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"--\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"7369\"}],\"\\t\",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"SMITH\"}],\"\\t\",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"1.00\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"--\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"7499\"}],\"\\t\",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"ALLEN\"}],\"\\t\",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"1.00\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"--\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"7521\"}],\"\\t\",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"WARD\"}],\"\\t\",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"1.00\"}],\"\\n\"]}]]}]}],[\"$\",\"p\",null,{\"children\":[\"注释：①一个查询面板就是一个\",[\"$\",\"code\",null,{\"children\":\"SESSION\"}],\"会话。②\",[\"$\",\"code\",null,{\"children\":\"isolation\"}],\"隔离。 7. 转账事务案例 \",[\"$\",\"img\",null,{\"alt\":\"image.png\",\"src\":\"https://upload-images.jianshu.io/upload_images/4989175-e19ad55a43b756b6.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\"}]]}],[\"$\",\"$L16\",null,{\"className\":\"language-js\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-js code-highlight\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"--\"}],\" 查询面板\",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"1\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"START\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"TRANSACTION\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"UPDATE\"}],\" t_emp \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"SET\"}],\" sal \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"1\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}]]}]}],[\"$\",\"$L16\",null,{\"className\":\"language-js\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-js code-highlight\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"--\"}],\" 查询面板\",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"2\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"SET\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"SESSION\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"TRANSACTION\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"ISOLATION\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"LEVEL\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"READ\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"COMMITTED\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"--\"}],\" 设置当前会话事务隔离级别：允许读取其他事务已提交数据\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"START\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"TRANSACTION\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"SELECT\"}],\" empno\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" ename\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" sal \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"FROM\"}],\" t_emp\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"COMMIT\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"--\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"7369\"}],\"\\t\",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"SMITH\"}],\"\\t\",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"800.00\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"--\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"7499\"}],\"\\t\",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"ALLEN\"}],\"\\t\",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"1600.00\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"--\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"7521\"}],\"\\t\",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"WARD\"}],\"\\t\",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"1250.00\"}],\"\\n\"]}]]}]}],[\"$\",\"ol\",null,{\"start\":\"8\",\"children\":[\"$\",\"li\",null,{\"children\":[\"购物案例 \",[\"$\",\"img\",null,{\"alt\":\"image.png\",\"src\":\"https://upload-images.jianshu.io/upload_images/4989175-b5baafa4f89b2616.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\"}],\" \",[\"$\",\"code\",null,{\"children\":\"REPEATABLE READ\"}],\"代表事务在执行中反复读取数据，得到的结果是一致的，不受其他事务的影响。\"]}]}],[\"$\",\"$L16\",null,{\"className\":\"language-js\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-js code-highlight\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"--\"}],\" 查询面板\",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"1\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"START\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"TRANSACTION\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"UPDATE\"}],\" t_emp \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"SET\"}],\" sal \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"1\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"COMMIT\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}]]}]}],[\"$\",\"$L16\",null,{\"className\":\"language-js\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-js code-highlight\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"--\"}],\"查询面板\",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"2\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"SET\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"SESSION\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"TRANSACTION\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"ISOLATION\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"LEVEL\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"REPEATABLE\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"READ\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"START\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"TRANSACTION\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"SELECT\"}],\" empno\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" ename\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" sal \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"FROM\"}],\" t_emp\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"COMMIT\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}]]}]}],[\"$\",\"p\",null,{\"children\":[\"注意：事务执行\",[\"$\",\"code\",null,{\"children\":\"SELECT\"}],\"语句之后，数据才会保存到\",[\"$\",\"code\",null,{\"children\":\"undo\"}],\"日志，之后的查询结果才不受其他事务对数据的修改影响。 9. 事务的序列化 由于事务并发执行所带来的的各种问题，前三种隔离级别只适用于某些业务场景中。序列化隔离，让事务逐一执行，就不会产生上述问题了。 该隔离级别牺牲了事务的并发性，很少使用。\"]}],[\"$\",\"$L16\",null,{\"className\":\"language-js\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-js code-highlight\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"--\"}],\" 查询面板\",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"1\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"START\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"TRANSACTION\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"UPDATE\"}],\" t_emp \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"SET\"}],\" sal \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"1\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"COMMIT\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}]]}]}],[\"$\",\"$L16\",null,{\"className\":\"language-js\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-js code-highlight\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"--\"}],\"查询面板\",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"2\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"SET\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"SESSION\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"TRANSACTION\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"ISOLATION\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"LEVEL\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"SERIALIZABLE\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"START\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"TRANSACTION\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"SELECT\"}],\" empno\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" ename\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" sal \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"FROM\"}],\" t_emp\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"COMMIT\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}]]}]}],[\"$\",\"h2\",null,{\"className\":\"content-header\",\"id\":\"33-数据的持久化\",\"children\":[[\"$\",\"a\",null,{\"className\":\"break-words\",\"href\":\"#33-数据的持久化\",\"aria-hidden\":\"true\",\"tabIndex\":\"-1\",\"children\":[\"$\",\"span\",null,{\"className\":\"content-header-link\",\"children\":[\"$\",\"svg\",null,{\"className\":\"h-5 linkicon w-5\",\"fill\":\"currentColor\",\"viewBox\":\"0 0 20 20\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"children\":[[\"$\",\"path\",null,{\"d\":\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}],[\"$\",\"path\",null,{\"d\":\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"}]]}]}]}],\"3.3 数据的持久化\"]}],[\"$\",\"ol\",null,{\"children\":[[\"$\",\"li\",null,{\"children\":\"数据导出与备份的区别 数据导出：导出的只是数据文件。 数据备份：备份的是数据文件、日志文件、索引文件等。\"}],[\"$\",\"li\",null,{\"children\":[\"数据导出分类 \",[\"$\",\"code\",null,{\"children\":\"SQL\"}],\"文件、文本文件\"]}],[\"$\",\"li\",null,{\"children\":[\"导出\",[\"$\",\"code\",null,{\"children\":\"SQL\"}],\"文件\"]}]]}],[\"$\",\"p\",null,{\"children\":[\"(1) 命令行语法 \",[\"$\",\"code\",null,{\"children\":\"mysqldump -uroot -p [no-data] 逻辑库 \u003e 路径\"}]]}],[\"$\",\"$L16\",null,{\"className\":\"language-js\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-js code-highlight\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"➜  \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"~\"}],\" mysqldump \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"-\"}],\"uroot \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"-\"}],\"p demo \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003e\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"/\"}],[\"$\",\"span\",null,{\"className\":\"token maybe-class-name\",\"children\":\"Users\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"/\"}],\"nimengwei\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"/\"}],\"downloads\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"/\"}],\"demo\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access\",\"children\":\"sql\"}],\" \\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token maybe-class-name\",\"children\":\"Enter\"}],\" password\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"➜  \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"~\"}],\" \\n\"]}]]}]}],[\"$\",\"p\",null,{\"children\":[\"(2) 图形化界面 \",[\"$\",\"img\",null,{\"alt\":\"image.png\",\"src\":\"https://upload-images.jianshu.io/upload_images/4989175-4645b632821214ac.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\"}]]}],[\"$\",\"p\",null,{\"children\":[\"注释：当数据导出为\",[\"$\",\"code\",null,{\"children\":\"SQL\"}],\"文件时，\",[\"$\",\"code\",null,{\"children\":\"MySQL\"}],\"会生成可以创建这些数据的\",[\"$\",\"code\",null,{\"children\":\"SQL\"}],\"语句，效率低。 4. 导入\",[\"$\",\"code\",null,{\"children\":\"SQL\"}],\"文件\"]}],[\"$\",\"p\",null,{\"children\":[\"(1) 命令行语法 \",[\"$\",\"code\",null,{\"children\":\"USE demo;\"}],\" \",[\"$\",\"code\",null,{\"children\":\"SOURCE demo.sql;\"}]]}],[\"$\",\"$L16\",null,{\"className\":\"language-js\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-js code-highlight\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"➜  \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"~\"}],\" cd \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"/\"}],[\"$\",\"span\",null,{\"className\":\"token maybe-class-name\",\"children\":\"Users\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"/\"}],\"nimengwei\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"/\"}],[\"$\",\"span\",null,{\"className\":\"token maybe-class-name\",\"children\":\"Downloads\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"/\"}],\"sql_file \\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"➜  sql_file mysql \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"-\"}],\"uroot \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"-\"}],\"p\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token maybe-class-name\",\"children\":\"Enter\"}],\" password\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"mysql\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003e\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"USE\"}],\" demo\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token maybe-class-name\",\"children\":\"Database\"}],\" changed\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"mysql\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003e\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"SOURCE\"}],\" demo\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access\",\"children\":\"sql\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token maybe-class-name\",\"children\":\"Query\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"OK\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"0\"}],\" rows \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"affected\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"0.00\"}],\" sec\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"mysql\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003e\"}],\" \\n\"]}]]}]}],[\"$\",\"p\",null,{\"children\":[\"(2) 图形化界面 \",[\"$\",\"img\",null,{\"alt\":\"image.png\",\"src\":\"https://upload-images.jianshu.io/upload_images/4989175-6371649fa676fabc.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\"}],\" 5. 图形化界面导出为文本文件\"]}],[\"$\",\"p\",null,{\"children\":\"(1) 导出数据结构\"}],[\"$\",\"p\",null,{\"children\":[[\"$\",\"img\",null,{\"alt\":\"image.png\",\"src\":\"https://upload-images.jianshu.io/upload_images/4989175-a400da4f3965d1c8.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\"}],\" (2) 导出向导(数据)\"]}],[\"$\",\"p\",null,{\"children\":[\"$\",\"img\",null,{\"alt\":\"image.png\",\"src\":\"https://upload-images.jianshu.io/upload_images/4989175-290f6f10e2f9cafd.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\"}]}],[\"$\",\"p\",null,{\"children\":[\"注释：当数据导出为文本文件时，由于文本文件中没有\",[\"$\",\"code\",null,{\"children\":\"SQL\"}],\"语句，\",[\"$\",\"code\",null,{\"children\":\"MySQL\"}],\"导出时不执行词法分析和语法优化，效率高。 6. 图形化界面导入文本文件\"]}],[\"$\",\"p\",null,{\"children\":[\"(1) 导入数据结构 \",[\"$\",\"img\",null,{\"alt\":\"image.png\",\"src\":\"https://upload-images.jianshu.io/upload_images/4989175-2539f4cc806c34e8.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\"}],\" (2) 导入向导(数据) \",[\"$\",\"img\",null,{\"alt\":\"导入向导\",\"src\":\"https://upload-images.jianshu.io/upload_images/4989175-973f4246d804e618.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\"}],\" \",[\"$\",\"img\",null,{\"alt\":\"设置数据起始行数\",\"src\":\"https://upload-images.jianshu.io/upload_images/4989175-5c80246c7cb0be6d.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\"}],\" \",[\"$\",\"img\",null,{\"alt\":\"映射字段\",\"src\":\"https://upload-images.jianshu.io/upload_images/4989175-2b326f7942d1196e.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\"}]]}],[\"$\",\"h2\",null,{\"className\":\"content-header\",\"id\":\"34-综合案例新闻管理系统数据库设计\",\"children\":[[\"$\",\"a\",null,{\"className\":\"break-words\",\"href\":\"#34-综合案例新闻管理系统数据库设计\",\"aria-hidden\":\"true\",\"tabIndex\":\"-1\",\"children\":[\"$\",\"span\",null,{\"className\":\"content-header-link\",\"children\":[\"$\",\"svg\",null,{\"className\":\"h-5 linkicon w-5\",\"fill\":\"currentColor\",\"viewBox\":\"0 0 20 20\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"children\":[[\"$\",\"path\",null,{\"d\":\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}],[\"$\",\"path\",null,{\"d\":\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"}]]}]}]}],\"3.4 综合案例：新闻管理系统数据库设计\"]}],[\"$\",\"ol\",null,{\"children\":[[\"$\",\"li\",null,{\"children\":[\"新闻管理系统成员 \",[\"$\",\"img\",null,{\"alt\":\"image.png\",\"src\":\"https://upload-images.jianshu.io/upload_images/4989175-2882388e470201b7.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\"}]]}],[\"$\",\"li\",null,{\"children\":[\"新闻有哪些属性 \",[\"$\",\"img\",null,{\"alt\":\"image.png\",\"src\":\"https://upload-images.jianshu.io/upload_images/4989175-6db246b11160e6e2.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\"}]]}],[\"$\",\"li\",null,{\"children\":[\"数据库\",[\"$\",\"code\",null,{\"children\":\"ER\"}],\"图设计 \",[\"$\",\"img\",null,{\"alt\":\"image.png\",\"src\":\"https://upload-images.jianshu.io/upload_images/4989175-5da8c1803d804712.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\"}]]}],[\"$\",\"li\",null,{\"children\":[\"数据加密 (1) 数据加密 分类：对称加密、非对称加密 (2) 对称加密 加密和解密使用同一个秘钥。 分类：\",[\"$\",\"code\",null,{\"children\":\"DES\"}],\"加密(已淘汰)、\",[\"$\",\"code\",null,{\"children\":\"AES\"}],\"加密 (3) 非对称加密 加密和解密使用不同的秘钥。 公钥可以解密私钥加密的数据，私钥可以解密公钥加密的数据。 分类：\",[\"$\",\"code\",null,{\"children\":\"RSA\"}],\"加密、\",[\"$\",\"code\",null,{\"children\":\"DSA\"}],\"加密、\",[\"$\",\"code\",null,{\"children\":\"ECC\"}],\"加密\"]}],[\"$\",\"li\",null,{\"children\":[[\"$\",\"code\",null,{\"children\":\"AES\"}],\"加密函数 \",[\"$\",\"code\",null,{\"children\":\"MySQL\"}],\"提供了\",[\"$\",\"code\",null,{\"children\":\"AES\"}],\"加密和解密的函数。 \",[\"$\",\"code\",null,{\"children\":\"AES_ENCRYPT(原始数据, 秘钥字符串);\"}],\" \",[\"$\",\"code\",null,{\"children\":\"AES\"}],\"解密要使用与加密相同的秘钥，才能解密出原始数据。 \",[\"$\",\"code\",null,{\"children\":\"AES_DECRYPT(加密结果, 秘钥字符串);\"}]]}]]}],[\"$\",\"$L16\",null,{\"className\":\"language-js\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-js code-highlight\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"SELECT\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"AES_ENCRYPT\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'你好世界'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'ABC123456'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"# è\",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"Z\"}],\"\\u0010\",[\"$\",\"span\",null,{\"className\":\"token maybe-class-name\",\"children\":\"KaB§\"}],[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"7\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"^\"}],[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"S\"}],\"À\",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"T\"}],\"\\\\­\",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"H\"}],\"î 乱码了，可转化为\",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"16\"}],\"进制解决乱码\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"SELECT\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"HEX\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"AES_ENCRYPT\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'你好世界'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'ABC123456'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\" \\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"# hex为\",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"2\"}],\"二进制转\",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"16\"}],\"进制\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"# \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"E85A104B6142A7375E53C0545CAD48EE\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"SELECT\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"AES_DECRYPT\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"UNHEX\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'E85A104B6142A7375E53C0545CAD48EE'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'ABC123456'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"# unhex为\",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"16\"}],\"进制转\",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"2\"}],\"进制\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"# 你好世界\\n\"}]]}]}],[\"$\",\"ol\",null,{\"start\":\"6\",\"children\":[\"$\",\"li\",null,{\"children\":\"数据库实现\"}]}],[\"$\",\"p\",null,{\"children\":\"(1) 创建数据库\"}],[\"$\",\"$L16\",null,{\"className\":\"language-js\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-js code-highlight\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"# 创建vega数据库\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"CREATE\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"DATABASE\"}],\" vega\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"# 切换数据库\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"USE\"}],\" vega\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}]]}]}],[\"$\",\"p\",null,{\"children\":[\"(2) \",[\"$\",\"code\",null,{\"children\":\"t_type\"}],\"文章类型表 数据表中数据量不大时，可以不添加索引。例如：\",[\"$\",\"code\",null,{\"children\":\"t_type\"}],\"文章类型表，\",[\"$\",\"code\",null,{\"children\":\"t_role\"}],\"角色类型表。\"]}],[\"$\",\"$L16\",null,{\"className\":\"language-js\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-js code-highlight\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"# 创建文章类型表\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"CREATE\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"TABLE\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"t_type\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"\\tid \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"INT\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"UNSIGNED\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"PRIMARY\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"KEY\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"AUTO_INCREMENT\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"\\ttype \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"VARCHAR\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"20\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"NOT\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"NULL\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"UNIQUE\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"# 文章类型表插入数据\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"INSERT\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"INTO\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"t_type\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"type\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"VALUES\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"要闻\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"体育\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"科技\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"娱乐\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"历史\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}]]}]}],[\"$\",\"p\",null,{\"children\":[\"(3) \",[\"$\",\"code\",null,{\"children\":\"t_role\"}],\"角色类型表\"]}],[\"$\",\"$L16\",null,{\"className\":\"language-js\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-js code-highlight\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"# 创建角色类型表\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"CREATE\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"TABLE\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"t_role\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"\\tid \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"INT\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"UNSIGNED\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"PRIMARY\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"KEY\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"AUTO_INCREMENT\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"\\trole \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"VARCHAR\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"20\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"NOT\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"NULL\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"UNIQUE\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"# 角色类型表插入数据\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"INSERT\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"INTO\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"t_role\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"role\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"VALUES\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"管理员\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"新闻编辑\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}]]}]}],[\"$\",\"p\",null,{\"children\":[\"(4) \",[\"$\",\"code\",null,{\"children\":\"t_user\"}],\"用户表 数据表中数据量很大，并且经常使用某些字段查找数据，则应该对这些字段创建索引。例如：\",[\"$\",\"code\",null,{\"children\":\"t_user\"}],\"表中的\",[\"$\",\"code\",null,{\"children\":\"username\"}],\"。\"]}],[\"$\",\"$L16\",null,{\"className\":\"language-js\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-js code-highlight\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"# 创建用户表\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"CREATE\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"TABLE\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"t_user\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"\\tid \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"INT\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"UNSIGNED\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"PRIMARY\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"KEY\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"AUTO_INCREMENT\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"\\tusername \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"VARCHAR\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"20\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"NOT\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"NULL\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"UNIQUE\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"\\tpassword \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"VARCHAR\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"500\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"NOT\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"NULL\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"\\temail \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"VARCHAR\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"100\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"NOT\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"NULL\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"\\trole_id \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"INT\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"UNSIGNED\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"NOT\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"NULL\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"\\t\",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"INDEX\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"username\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"# 用户表插入数据\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"INSERT\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"IGNORE\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"INTO\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"t_user\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"username\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" password\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" email\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" role_id\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"VALUES\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'admin'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"HEX\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"AES_ENCRYPT\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'123456'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'HelloWord'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'admin@163.com'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"1\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'scott'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"HEX\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"AES_ENCRYPT\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'123456'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'HelloWord'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'scott@163.com'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"2\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}]]}]}],[\"$\",\"p\",null,{\"children\":[\"(5) \",[\"$\",\"code\",null,{\"children\":\"t_news\"}],\"新闻表 新闻内容数据的特点为：数据量大、安全级别低，适合存储在\",[\"$\",\"code\",null,{\"children\":\"mongodb\"}],\"数据库中。通过\",[\"$\",\"code\",null,{\"children\":\"content_id\"}],\"查找。\"]}],[\"$\",\"$L16\",null,{\"className\":\"language-js\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-js code-highlight\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"# 创建新闻表\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"CREATE\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"TABLE\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"t_news\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"\\tid \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"INT\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"UNSIGNED\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"PRIMARY\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"KEY\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"AUTO_INCREMENT\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"\\ttitle \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"VARCHAR\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"40\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"NOT\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"NULL\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"\\teditor_id \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"INT\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"UNSIGNED\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"NOT\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"NULL\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"\\ttype_id \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"INT\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"UNSIGNED\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"NOT\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"NULL\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"\\tcontent_id \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"VARCHAR\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"24\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"NOT\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"NULL\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"\\tis_top \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"TINYINT\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"UNSIGNED\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"NOT\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"NULL\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"\\tcreate_time \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"TIMESTAMP\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"NOT\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"NULL\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"DEFAULT\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"CURRENT_TIMESTAMP\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"\\tupdate_time \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"TIMESTAMP\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"NOT\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"NULL\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"DEFAULT\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"CURRENT_TIMESTAMP\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"\\tstate \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"ENUM\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'草稿'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'待审批'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'已审批'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'隐藏'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"NOT\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"NULL\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"\\t\",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"INDEX\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"editor_id\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"\\t\",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"INDEX\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"type_id\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"\\t\",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"INDEX\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"state\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"\\t\",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"INDEX\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"is_top\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"\\t\",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"INDEX\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"create_time\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}]]}]}],[\"$\",\"h2\",null,{\"className\":\"content-header\",\"id\":\"35-总结\",\"children\":[[\"$\",\"a\",null,{\"className\":\"break-words\",\"href\":\"#35-总结\",\"aria-hidden\":\"true\",\"tabIndex\":\"-1\",\"children\":[\"$\",\"span\",null,{\"className\":\"content-header-link\",\"children\":[\"$\",\"svg\",null,{\"className\":\"h-5 linkicon w-5\",\"fill\":\"currentColor\",\"viewBox\":\"0 0 20 20\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"children\":[[\"$\",\"path\",null,{\"d\":\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}],[\"$\",\"path\",null,{\"d\":\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"}]]}]}]}],\"3.5 总结\"]}],[\"$\",\"ol\",null,{\"children\":[\"$\",\"li\",null,{\"children\":\"技能清单 学习了事务机制的原理和特性。 掌握了事务的管理。 掌握了数据导出与导入的操作。 完成了新闻管理系统数据表的设计。\"}]}],[\"$\",\"h1\",null,{\"className\":\"content-header\",\"id\":\"4-mysql与python交互\",\"children\":[[\"$\",\"a\",null,{\"className\":\"break-words\",\"href\":\"#4-mysql与python交互\",\"aria-hidden\":\"true\",\"tabIndex\":\"-1\",\"children\":[\"$\",\"span\",null,{\"className\":\"content-header-link\",\"children\":[\"$\",\"svg\",null,{\"className\":\"h-5 linkicon w-5\",\"fill\":\"currentColor\",\"viewBox\":\"0 0 20 20\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"children\":[[\"$\",\"path\",null,{\"d\":\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}],[\"$\",\"path\",null,{\"d\":\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"}]]}]}]}],\"4. MySQL与Python交互\"]}],[\"$\",\"h2\",null,{\"className\":\"content-header\",\"id\":\"41-介绍\",\"children\":[[\"$\",\"a\",null,{\"className\":\"break-words\",\"href\":\"#41-介绍\",\"aria-hidden\":\"true\",\"tabIndex\":\"-1\",\"children\":[\"$\",\"span\",null,{\"className\":\"content-header-link\",\"children\":[\"$\",\"svg\",null,{\"className\":\"h-5 linkicon w-5\",\"fill\":\"currentColor\",\"viewBox\":\"0 0 20 20\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"children\":[[\"$\",\"path\",null,{\"d\":\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}],[\"$\",\"path\",null,{\"d\":\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"}]]}]}]}],\"4.1 介绍\"]}],[\"$\",\"ol\",null,{\"children\":[[\"$\",\"li\",null,{\"children\":[[\"$\",\"code\",null,{\"children\":\"MySQL Connector\"}],\"模块 数据库连接池、预编译\",[\"$\",\"code\",null,{\"children\":\"SQL\"}],\"、\",[\"$\",\"code\",null,{\"children\":\"CRUD\"}],\"操作、事务管理、异常处理\"]}],[\"$\",\"li\",null,{\"children\":\"新闻管理系统 新闻管理、用户管理、系统登录、数据分页等\"}]]}],[\"$\",\"h2\",null,{\"className\":\"content-header\",\"id\":\"42-mysql与python的交互\",\"children\":[[\"$\",\"a\",null,{\"className\":\"break-words\",\"href\":\"#42-mysql与python的交互\",\"aria-hidden\":\"true\",\"tabIndex\":\"-1\",\"children\":[\"$\",\"span\",null,{\"className\":\"content-header-link\",\"children\":[\"$\",\"svg\",null,{\"className\":\"h-5 linkicon w-5\",\"fill\":\"currentColor\",\"viewBox\":\"0 0 20 20\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"children\":[[\"$\",\"path\",null,{\"d\":\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}],[\"$\",\"path\",null,{\"d\":\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"}]]}]}]}],\"4.2 MySQL与Python的交互\"]}],[\"$\",\"ol\",null,{\"children\":[\"$\",\"li\",null,{\"children\":[[\"$\",\"code\",null,{\"children\":\"MySQL Connector\"}],\"模块 \",[\"$\",\"code\",null,{\"children\":\"MySQL Connector\"}],\"是\",[\"$\",\"code\",null,{\"children\":\"MySQL\"}],\"官方的驱动模块，兼容性特别好。\"]}]}],[\"$\",\"$L16\",null,{\"className\":\"language-js\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-js code-highlight\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"➜  \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"~\"}],\" pip3 install mysql\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"-\"}],\"connector\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token operator spread\",\"children\":\"...\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token maybe-class-name\",\"children\":\"Successfully\"}],\" installed mysql\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"-\"}],\"connector\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"-\"}],[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"2.2\"}],[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\".9\"}],\"\\n\"]}]]}]}],[\"$\",\"ol\",null,{\"start\":\"2\",\"children\":[\"$\",\"li\",null,{\"children\":\"创建连接\"}]}],[\"$\",\"p\",null,{\"children\":\"(1) 语法一\"}],[\"$\",\"$L16\",null,{\"className\":\"language-js\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-js code-highlight\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword module\",\"children\":\"import\"}],\" mysql\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access\",\"children\":\"connector\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"con \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" mysql\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access\",\"children\":\"connector\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access function method\",\"children\":\"connect\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    host\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"localhost\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    port\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"3306\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    user\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"root\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    password\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"299***\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    database\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"demo\\\"\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"con\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access function method\",\"children\":\"close\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\"\\n\"]}]]}]}],[\"$\",\"p\",null,{\"children\":\"(2) 语法二\"}],[\"$\",\"$L16\",null,{\"className\":\"language-js\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-js code-highlight\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword module\",\"children\":\"import\"}],\" mysql\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access\",\"children\":\"connector\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"config \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token property string-property\",\"children\":\"\\\"host\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"localhost\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token property string-property\",\"children\":\"\\\"port\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"3306\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token property string-property\",\"children\":\"\\\"user\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"root\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token property string-property\",\"children\":\"\\\"password\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"299***\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token property string-property\",\"children\":\"\\\"database\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"demo\\\"\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"con \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" mysql\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access\",\"children\":\"connector\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access function method\",\"children\":\"connect\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"**\"}],\"config\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"con\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access function method\",\"children\":\"close\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\"\\n\"]}]]}]}],[\"$\",\"ol\",null,{\"start\":\"3\",\"children\":[\"$\",\"li\",null,{\"children\":[\"游标(\",[\"$\",\"code\",null,{\"children\":\"Cursor\"}],\") \",[\"$\",\"code\",null,{\"children\":\"MySQL Connector\"}],\"里的游标用来执行\",[\"$\",\"code\",null,{\"children\":\"SQL\"}],\"语句，查询的结果集也会保存在游标中。\"]}]}],[\"$\",\"$L16\",null,{\"className\":\"language-js\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-js code-highlight\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"cursor \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" con\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access function method\",\"children\":\"cursor\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"cursor\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access function method\",\"children\":\"execute\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"sql语句\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\"\\n\"]}]]}]}],[\"$\",\"$L16\",null,{\"className\":\"language-js\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-js code-highlight\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword module\",\"children\":\"import\"}],\" mysql\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access\",\"children\":\"connector\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"con \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" mysql\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access\",\"children\":\"connector\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access function method\",\"children\":\"connect\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    host\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"localhost\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    port\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"3306\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    user\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"root\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    password\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"299***\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    database\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"demo\\\"\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"cursor \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" con\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access function method\",\"children\":\"cursor\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"sql \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"SELECT empno, ename, hiredate FROM t_emp;\\\"\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"cursor\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access function method\",\"children\":\"execute\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"sql\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword control-flow\",\"children\":\"for\"}],\" item \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"in\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token property literal-property\",\"children\":\"cursor\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"print\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"item\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"[\"}],[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"0\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"]\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" item\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"[\"}],[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"1\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"]\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" item\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"[\"}],[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"2\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"]\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"# \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"7369\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"SMITH\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"1980\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"-\"}],[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"12\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"-\"}],[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"17\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"# \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"7499\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"ALLEN\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"1981\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"-\"}],[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"02\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"-\"}],[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"20\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"# \",[\"$\",\"span\",null,{\"className\":\"token operator spread\",\"children\":\"...\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"con\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access function method\",\"children\":\"close\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\"\\n\"]}]]}]}],[\"$\",\"ol\",null,{\"start\":\"4\",\"children\":[\"$\",\"li\",null,{\"children\":[[\"$\",\"code\",null,{\"children\":\"SQL\"}],\"注入攻击\"]}]}],[\"$\",\"$L16\",null,{\"className\":\"language-js\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-js code-highlight\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword module\",\"children\":\"import\"}],\" mysql\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access\",\"children\":\"connector\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"config \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token property string-property\",\"children\":\"\\\"host\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"localhost\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token property string-property\",\"children\":\"\\\"port\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"3306\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token property string-property\",\"children\":\"\\\"user\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"root\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token property string-property\",\"children\":\"\\\"password\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"299***\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token property string-property\",\"children\":\"\\\"database\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"vega\\\"\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"# 连接数据库\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"con \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" mysql\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access\",\"children\":\"connector\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access function method\",\"children\":\"connect\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"**\"}],\"config\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"# 获取游标\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"cursor \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" con\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access function method\",\"children\":\"cursor\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"username \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"1 OR 1=1\\\"\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"password \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"1 OR 1=1\\\"\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"sql \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"SELECT COUNT(*) FROM t_user WHERE username=%s\\\"\"}],\" \\\\\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\" AND AES_DECRYPT(UNHEX(password), 'HelloWord')=%s;\\\"\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"cursor\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access function method\",\"children\":\"execute\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"sql\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"%\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"username\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" password\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"print\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"cursor\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access function method\",\"children\":\"fetchone\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"[\"}],[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"0\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"]\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\"  # \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"2\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"# 关闭数据库连接\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"con\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access function method\",\"children\":\"close\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\"\\n\"]}]]}]}],[\"$\",\"p\",null,{\"children\":[\"注意：密码必须是字符串格式。 5. \",[\"$\",\"code\",null,{\"children\":\"SQL\"}],\"注入攻击的危害 由于\",[\"$\",\"code\",null,{\"children\":\"SQL\"}],\"语句是解释型语言，所以在拼接\",[\"$\",\"code\",null,{\"children\":\"SQL\"}],\"语句的时候，容易被注入恶意的\",[\"$\",\"code\",null,{\"children\":\"SQL\"}],\"语句。\"]}],[\"$\",\"$L16\",null,{\"className\":\"language-js\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-js code-highlight\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"id \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"1 OR 1=1\\\"\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"sql \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"DELETE FROM t_news WHERE id={}\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access function method\",\"children\":\"format\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"id\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\"\\n\"]}]]}]}],[\"$\",\"ol\",null,{\"start\":\"6\",\"children\":[[\"$\",\"li\",null,{\"children\":[[\"$\",\"code\",null,{\"children\":\"SQL\"}],\"预编译机制 (1) \",[\"$\",\"code\",null,{\"children\":\"SQL\"}],\"预编译机制 预编译\",[\"$\",\"code\",null,{\"children\":\"SQL\"}],\"就是数据库提前把\",[\"$\",\"code\",null,{\"children\":\"SQL\"}],\"语句编译成二进制，这样反复执行同一条\",[\"$\",\"code\",null,{\"children\":\"SQL\"}],\"语句的效率就会提升。 (2) 抵御注入攻击 \",[\"$\",\"code\",null,{\"children\":\"SQL\"}],\"语句编译的过程中，关键字已经被解析过了，所以向编译后的\",[\"$\",\"code\",null,{\"children\":\"SQL\"}],\"语句传入参数，参数都被当做字符串处理，数据库不会解析其中注入的\",[\"$\",\"code\",null,{\"children\":\"SQL\"}],\"语句。 注释：预编译机制既可以提升\",[\"$\",\"code\",null,{\"children\":\"SQL\"}],\"语句的执行效率，又可以抵御注入攻击。\"]}],[\"$\",\"li\",null,{\"children\":\"抵御注入攻击\"}]]}],[\"$\",\"$L16\",null,{\"className\":\"language-js\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-js code-highlight\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword module\",\"children\":\"import\"}],\" mysql\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access\",\"children\":\"connector\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"config \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token property string-property\",\"children\":\"\\\"host\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"localhost\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token property string-property\",\"children\":\"\\\"port\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"3306\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token property string-property\",\"children\":\"\\\"user\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"root\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token property string-property\",\"children\":\"\\\"password\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"299***\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token property string-property\",\"children\":\"\\\"database\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"vega\\\"\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"# 连接数据库\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"con \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" mysql\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access\",\"children\":\"connector\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access function method\",\"children\":\"connect\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"**\"}],\"config\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"# 获取游标\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"cursor \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" con\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access function method\",\"children\":\"cursor\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"username \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"1 OR 1=1\\\"\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"password \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"1 OR 1=1\\\"\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"sql \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"SELECT COUNT(*) FROM t_user WHERE username=%s\\\"\"}],\" \\\\\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\" AND AES_DECRYPT(UNHEX(password), 'HelloWord')=%s;\\\"\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"cursor\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access function method\",\"children\":\"execute\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"sql\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"username\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" password\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"print\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"cursor\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access function method\",\"children\":\"fetchone\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"[\"}],[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"0\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"]\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\"  # \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"0\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"# 关闭数据库连接\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"con\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access function method\",\"children\":\"close\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\"\\n\"]}]]}]}],[\"$\",\"p\",null,{\"children\":[\"注意：\",[\"$\",\"code\",null,{\"children\":\"execute\"}],\"的第二个参数为元组或数组，例如: \",[\"$\",\"code\",null,{\"children\":\"[a]\"}],\"、\",[\"$\",\"code\",null,{\"children\":\"(a,)\"}],\"。 8. 事务控制\"]}],[\"$\",\"$L16\",null,{\"className\":\"language-js\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-js code-highlight\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"con\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access function method\",\"children\":\"start_transaction\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"[\"}],\"事务隔离机制\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"]\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"con\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access function method\",\"children\":\"commit\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"con\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access function method\",\"children\":\"rollback\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\"\\n\"]}]]}]}],[\"$\",\"ol\",null,{\"start\":\"9\",\"children\":[\"$\",\"li\",null,{\"children\":\"异常处理\"}]}],[\"$\",\"p\",null,{\"children\":\"(1) 语法\"}],[\"$\",\"$L16\",null,{\"className\":\"language-js\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-js code-highlight\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword control-flow\",\"children\":\"try\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    con \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" mysql\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access\",\"children\":\"connector\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access function method\",\"children\":\"connect\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token operator spread\",\"children\":\"...\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"[\"}],\" con\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access function method\",\"children\":\"start_transaction\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"]\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token operator spread\",\"children\":\"...\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    con\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access function method\",\"children\":\"commit\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"except \",[\"$\",\"span\",null,{\"className\":\"token maybe-class-name\",\"children\":\"Exception\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword module\",\"children\":\"as\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token property literal-property\",\"children\":\"e\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"[\"}],\" con\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access function method\",\"children\":\"rollback\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"]\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"print\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"e\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword control-flow\",\"children\":\"finally\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token keyword control-flow\",\"children\":\"if\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"con\\\"\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"in\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"dir\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"        con\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access function method\",\"children\":\"close\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\"\\n\"]}]]}]}],[\"$\",\"p\",null,{\"children\":\"(2) 示例\"}],[\"$\",\"$L16\",null,{\"className\":\"language-js\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-js code-highlight\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword module\",\"children\":\"import\"}],\" mysql\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access\",\"children\":\"connector\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword control-flow\",\"children\":\"try\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    con \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" mysql\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access\",\"children\":\"connector\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access function method\",\"children\":\"connect\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"        host\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'localhost'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"        port\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"3306\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"        user\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'root'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"        password\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'299***'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"        database\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'demo'\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    con\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access function method\",\"children\":\"start_transaction\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    cursor \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" con\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access function method\",\"children\":\"cursor\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    sql \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"INSERT INTO t_emp(empno,ename,job,mgr,hiredate,sal,comm,deptno) \\\"\"}],\" \\\\\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"          \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"VALUES(%s, %s, %s, %s, %s, %s, %s, %s);\\\"\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    cursor\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access function method\",\"children\":\"execute\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"sql\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"9600\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'赵娜'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'SALESMAN'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token maybe-class-name\",\"children\":\"None\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'1998-09-08'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"2000\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token maybe-class-name\",\"children\":\"None\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"10\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    con\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access function method\",\"children\":\"commit\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"except \",[\"$\",\"span\",null,{\"className\":\"token maybe-class-name\",\"children\":\"Exception\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword module\",\"children\":\"as\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token property literal-property\",\"children\":\"e\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token keyword control-flow\",\"children\":\"if\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'con'\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"in\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"dir\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"        con\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access function method\",\"children\":\"rollback\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"print\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"e\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword control-flow\",\"children\":\"finally\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token keyword control-flow\",\"children\":\"if\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'con'\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"in\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"dir\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"        con\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access function method\",\"children\":\"close\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\"\\n\"]}]]}]}],[\"$\",\"ol\",null,{\"start\":\"10\",\"children\":[\"$\",\"li\",null,{\"children\":[\"数据库连接池技术 数据库连接是一种关键的、有限的、昂贵的资源，在并发执行的应用程序中体现的尤为突出。\",[\"$\",\"code\",null,{\"children\":\"TCP\"}],\"连接需要三次握手，四次挥手，然后数据库还要验证用户信息。 数据库连接池(\",[\"$\",\"code\",null,{\"children\":\"ConnectionPool\"}],\")预先创建出一些数据库连接，然后缓存起来，避免了程序语言反复创建和销毁连接的昂贵代价。\"]}]}],[\"$\",\"$L16\",null,{\"className\":\"language-js\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-js code-highlight\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword module\",\"children\":\"import\"}],\" mysql\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access\",\"children\":\"connector\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access\",\"children\":\"pooling\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"config \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token property string-property\",\"children\":\"'host'\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'localhost'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token property string-property\",\"children\":\"'port'\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'3306'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token property string-property\",\"children\":\"'user'\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'root'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token property string-property\",\"children\":\"'password'\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'299***'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token property string-property\",\"children\":\"'database'\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'demo'\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword control-flow\",\"children\":\"try\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    pool \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" mysql\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access\",\"children\":\"connector\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access\",\"children\":\"pooling\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access function method\",\"children\":[\"$\",\"span\",null,{\"className\":\"token maybe-class-name\",\"children\":\"MySQLConnectionPool\"}]}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"        \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"**\"}],\"config\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"        pool_size\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"10\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    con \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" pool\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access function method\",\"children\":\"get_connection\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    con\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access function method\",\"children\":\"start_transaction\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    cursor \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" con\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access function method\",\"children\":\"cursor\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    sql \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"UPDATE t_emp SET sal=sal+%s WHERE deptno=%s;\\\"\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    cursor\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access function method\",\"children\":\"execute\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"sql\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"200\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"20\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    con\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access function method\",\"children\":\"commit\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"except \",[\"$\",\"span\",null,{\"className\":\"token maybe-class-name\",\"children\":\"Exception\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword module\",\"children\":\"as\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token property literal-property\",\"children\":\"e\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token keyword control-flow\",\"children\":\"if\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"con\\\"\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"in\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"dir\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"        con\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access function method\",\"children\":\"rollback\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"print\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"e\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword control-flow\",\"children\":\"finally\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token keyword control-flow\",\"children\":\"if\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"con\\\"\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"in\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"dir\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"        con\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access function method\",\"children\":\"close\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\"\\n\"]}]]}]}],[\"$\",\"p\",null,{\"children\":[\"注意：使用数据库连接池(\",[\"$\",\"code\",null,{\"children\":\"ConnectionPool\"}],\")也需要关闭(\",[\"$\",\"code\",null,{\"children\":\"close\"}],\")。 11. 删除数据\"]}],[\"$\",\"p\",null,{\"children\":[\"(1) \",[\"$\",\"code\",null,{\"children\":\"DELETE\"}],\"语句删除记录\"]}],[\"$\",\"$L16\",null,{\"className\":\"language-js\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-js code-highlight\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword module\",\"children\":\"import\"}],\" mysql\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access\",\"children\":\"connector\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access\",\"children\":\"pooling\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"config \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token property string-property\",\"children\":\"'host'\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'localhost'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token property string-property\",\"children\":\"'port'\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"3306\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token property string-property\",\"children\":\"'user'\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'root'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token property string-property\",\"children\":\"'password'\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'299***'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token property string-property\",\"children\":\"'database'\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'demo'\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword control-flow\",\"children\":\"try\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    pool \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" mysql\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access\",\"children\":\"connector\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access\",\"children\":\"pooling\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access function method\",\"children\":[\"$\",\"span\",null,{\"className\":\"token maybe-class-name\",\"children\":\"MySQLConnectionPool\"}]}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"        \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"**\"}],\"config\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"        pool_size\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"10\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    con \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" pool\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access function method\",\"children\":\"get_connection\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    con\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access function method\",\"children\":\"start_transaction\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    cursor \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" con\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access function method\",\"children\":\"cursor\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    sql \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"DELETE e, d FROM t_emp e JOIN t_dept d ON e.deptno=d.deptno \\\"\"}],\" \\\\\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"          \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"WHERE d.deptno=20;\\\"\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    cursor\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access function method\",\"children\":\"execute\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"sql\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    con\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access function method\",\"children\":\"commit\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"except \",[\"$\",\"span\",null,{\"className\":\"token maybe-class-name\",\"children\":\"Exception\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword module\",\"children\":\"as\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token property literal-property\",\"children\":\"e\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token keyword control-flow\",\"children\":\"if\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'con'\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"in\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"dir\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"        con\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access function method\",\"children\":\"rollback\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"print\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"e\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword control-flow\",\"children\":\"finally\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token keyword control-flow\",\"children\":\"if\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"con\\\"\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"in\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"dir\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"        con\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access function method\",\"children\":\"close\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\"\\n\"]}]]}]}],[\"$\",\"p\",null,{\"children\":[\"(2) \",[\"$\",\"code\",null,{\"children\":\"TRUNCATE\"}],\"语句快速删除记录 \",[\"$\",\"code\",null,{\"children\":\"TRUNCATE\"}],\"语句是在事务机制之外删除记录。\"]}],[\"$\",\"$L16\",null,{\"className\":\"language-js\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-js code-highlight\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword module\",\"children\":\"import\"}],\" mysql\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access\",\"children\":\"connector\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access\",\"children\":\"pooling\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"config \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token property string-property\",\"children\":\"'host'\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'localhost'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token property string-property\",\"children\":\"'port'\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"3306\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token property string-property\",\"children\":\"'user'\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'root'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token property string-property\",\"children\":\"'password'\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'299***'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token property string-property\",\"children\":\"'database'\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'demo'\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword control-flow\",\"children\":\"try\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    pool \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" mysql\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access\",\"children\":\"connector\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access\",\"children\":\"pooling\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access function method\",\"children\":[\"$\",\"span\",null,{\"className\":\"token maybe-class-name\",\"children\":\"MySQLConnectionPool\"}]}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"        \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"**\"}],\"config\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"        pool_size\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"10\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    con \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" pool\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access function method\",\"children\":\"get_connection\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    cursor \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" con\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access function method\",\"children\":\"cursor\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    sql \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"TRUNCATE TABLE t_emp\\\"\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    cursor\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access function method\",\"children\":\"execute\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"sql\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"except \",[\"$\",\"span\",null,{\"className\":\"token maybe-class-name\",\"children\":\"Exception\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword module\",\"children\":\"as\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token property literal-property\",\"children\":\"e\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"print\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"e\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\"\\n\"]}]]}]}],[\"$\",\"ol\",null,{\"start\":\"12\",\"children\":[\"$\",\"li\",null,{\"children\":[\"循环执行\",[\"$\",\"code\",null,{\"children\":\"SQL\"}],\"语句\"]}]}],[\"$\",\"p\",null,{\"children\":[\"(1) \",[\"$\",\"code\",null,{\"children\":\"for\"}],\"循环执行\",[\"$\",\"code\",null,{\"children\":\"execute()\"}],\"函数\"]}],[\"$\",\"$L16\",null,{\"className\":\"language-js\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-js code-highlight\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword module\",\"children\":\"import\"}],\" mysql\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access\",\"children\":\"connector\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access\",\"children\":\"pooling\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"config \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token property string-property\",\"children\":\"'host'\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'localhost'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token property string-property\",\"children\":\"'port'\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"3306\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token property string-property\",\"children\":\"'user'\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'root'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token property string-property\",\"children\":\"'password'\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'299***'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token property string-property\",\"children\":\"'database'\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'demo'\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword control-flow\",\"children\":\"try\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    pool \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" mysql\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access\",\"children\":\"connector\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access\",\"children\":\"pooling\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access function method\",\"children\":[\"$\",\"span\",null,{\"className\":\"token maybe-class-name\",\"children\":\"MySQLConnectionPool\"}]}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"        \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"**\"}],\"config\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"        pool_size\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"10\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    con \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" pool\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access function method\",\"children\":\"get_connection\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    con\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access function method\",\"children\":\"start_transaction\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    cursor \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" con\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access function method\",\"children\":\"cursor\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    sql \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"INSERT INTO t_dept(deptno, dname, loc) VALUES (%s, %s, %s);\\\"\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    data \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"[\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"[\"}],[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"50\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'部门1'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'北京'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"]\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"[\"}],[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"60\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'部门2'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'上海'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"]\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"]\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token keyword control-flow\",\"children\":\"for\"}],\" item \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"in\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token property literal-property\",\"children\":\"data\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"        cursor\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access function method\",\"children\":\"execute\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"sql\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" item\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    con\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access function method\",\"children\":\"commit\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"except \",[\"$\",\"span\",null,{\"className\":\"token maybe-class-name\",\"children\":\"Exception\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword module\",\"children\":\"as\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token property literal-property\",\"children\":\"e\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token keyword control-flow\",\"children\":\"if\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'con'\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"in\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"dir\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"        con\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access function method\",\"children\":\"rollback\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"print\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"e\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword control-flow\",\"children\":\"finally\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token keyword control-flow\",\"children\":\"if\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"con\\\"\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"in\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"dir\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"        con\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access function method\",\"children\":\"close\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\"\\n\"]}]]}]}],[\"$\",\"p\",null,{\"children\":[\"(2) 游标(\",[\"$\",\"code\",null,{\"children\":\"cursor\"}],\")对象中的\",[\"$\",\"code\",null,{\"children\":\"executemany()\"}],\"函数可以反复执行一条\",[\"$\",\"code\",null,{\"children\":\"SQL\"}],\"语句。\"]}],[\"$\",\"$L16\",null,{\"className\":\"language-js\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-js code-highlight\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword module\",\"children\":\"import\"}],\" mysql\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access\",\"children\":\"connector\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access\",\"children\":\"pooling\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"config \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token property string-property\",\"children\":\"'host'\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'localhost'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token property string-property\",\"children\":\"'port'\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"3306\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token property string-property\",\"children\":\"'user'\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'root'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token property string-property\",\"children\":\"'password'\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'299***'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token property string-property\",\"children\":\"'database'\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'demo'\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword control-flow\",\"children\":\"try\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    pool \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" mysql\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access\",\"children\":\"connector\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access\",\"children\":\"pooling\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access function method\",\"children\":[\"$\",\"span\",null,{\"className\":\"token maybe-class-name\",\"children\":\"MySQLConnectionPool\"}]}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"        \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"**\"}],\"config\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"        pool_size\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"10\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    con \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" pool\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access function method\",\"children\":\"get_connection\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    con\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access function method\",\"children\":\"start_transaction\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    cursor \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" con\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access function method\",\"children\":\"cursor\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    sql \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"INSERT INTO t_dept(deptno, dname, loc) VALUES (%s, %s, %s);\\\"\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    data \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"[\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"[\"}],[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"70\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'部门1'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'北京'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"]\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"[\"}],[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"80\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'部门2'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'上海'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"]\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"]\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    cursor\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access function method\",\"children\":\"executemany\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"sql\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" data\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    con\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access function method\",\"children\":\"commit\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"except \",[\"$\",\"span\",null,{\"className\":\"token maybe-class-name\",\"children\":\"Exception\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword module\",\"children\":\"as\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token property literal-property\",\"children\":\"e\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token keyword control-flow\",\"children\":\"if\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'con'\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"in\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"dir\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"        con\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access function method\",\"children\":\"rollback\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"print\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"e\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword control-flow\",\"children\":\"finally\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token keyword control-flow\",\"children\":\"if\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"con\\\"\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"in\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"dir\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"        con\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access function method\",\"children\":\"close\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\"\\n\"]}]]}]}],[\"$\",\"ol\",null,{\"start\":\"13\",\"children\":[\"$\",\"li\",null,{\"children\":[\"使用\",[\"$\",\"code\",null,{\"children\":\"INSERT\"}],\"语句，把部门平均底薪超过公司平均底薪这样的部门里的员工信息导入到\",[\"$\",\"code\",null,{\"children\":\"t_emp_new\"}],\"表里，并且让这些员工隶属于\",[\"$\",\"code\",null,{\"children\":\"sales\"}],\"部门。 编程语言中，数据库查询结果可以通过变量保存，比直接通过\",[\"$\",\"code\",null,{\"children\":\"SQL\"}],\"语句操作数据库的写法简单。\"]}]}],[\"$\",\"$L16\",null,{\"className\":\"language-js\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-js code-highlight\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword module\",\"children\":\"import\"}],\" mysql\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access\",\"children\":\"connector\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access\",\"children\":\"pooling\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"config \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token property string-property\",\"children\":\"'host'\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'localhost'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token property string-property\",\"children\":\"'port'\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'3306'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token property string-property\",\"children\":\"'user'\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'root'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token property string-property\",\"children\":\"'password'\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'299***'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token property string-property\",\"children\":\"'database'\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'demo'\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword control-flow\",\"children\":\"try\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    pool \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" mysql\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access\",\"children\":\"connector\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access\",\"children\":\"pooling\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access function method\",\"children\":[\"$\",\"span\",null,{\"className\":\"token maybe-class-name\",\"children\":\"MySQLConnectionPool\"}]}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"        \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"**\"}],\"config\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"        pool_size\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"10\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    con \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" pool\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access function method\",\"children\":\"get_connection\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    con\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access function method\",\"children\":\"start_transaction\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    cursor \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" con\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access function method\",\"children\":\"cursor\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"    # 创建数据表\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    sql \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"CREATE TABLE t_emp_new LIKE t_emp;\\\"\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    cursor\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access function method\",\"children\":\"execute\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"sql\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"    # 公司平均底薪\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    sql \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"SELECT AVG(sal) as avg FROM t_emp;\\\"\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    cursor\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access function method\",\"children\":\"execute\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"sql\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    avg \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" cursor\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access function method\",\"children\":\"fetchone\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"[\"}],[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"0\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"]\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    # \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"print\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"avg\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" # \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"2073.214286\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"    # 部门底薪超过公司平均底薪的部门\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    sql \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"SELECT deptno FROM t_emp GROUP BY deptno HAVING AVG(sal) \u003e= %s;\\\"\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    cursor\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access function method\",\"children\":\"execute\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"sql\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"avg\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    deptnos \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" cursor\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access function method\",\"children\":\"fetchall\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    # \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"print\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"deptnos\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" # \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"[\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"10\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"20\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"]\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"    # 符合条件的部门员工导入到新表\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    deptnos_str \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'('\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token keyword control-flow\",\"children\":\"for\"}],\" index \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"in\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"range\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"len\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"deptnos\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"        \",[\"$\",\"span\",null,{\"className\":\"token keyword control-flow\",\"children\":\"if\"}],\" index \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"==\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"len\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"deptnos\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"-\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"1\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"            deptnos_str \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"+=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"str\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"deptnos\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"[\"}],\"index\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"]\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"[\"}],[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"0\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"]\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"        \",[\"$\",\"span\",null,{\"className\":\"token keyword control-flow\",\"children\":\"else\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"            deptnos_str \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"+=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"str\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"deptnos\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"[\"}],\"index\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"]\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"[\"}],[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"0\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"]\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"+\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"','\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    deptnos_str \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"+=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"')'\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    sql \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"INSERT INTO t_emp_new (SELECT * FROM t_emp WHERE deptno IN {});\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access function method\",\"children\":\"format\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"deptnos_str\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    cursor\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access function method\",\"children\":\"execute\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"sql\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    sql \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"DELETE FROM t_emp WHERE deptno IN {};\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access function method\",\"children\":\"format\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"deptnos_str\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    cursor\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access function method\",\"children\":\"execute\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"sql\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"    # 将t_emp_new表的员工部门修改为sales部门\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    sql \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"SELECT deptno FROM t_dept WHERE dname=%s;\\\"\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    cursor\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access function method\",\"children\":\"execute\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"sql\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"[\"}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'SALES'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"]\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    new_emptno \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" cursor\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access function method\",\"children\":\"fetchone\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"[\"}],[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"0\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"]\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"print\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"new_emptno\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    sql \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"UPDATE t_emp_new SET deptno=%s\\\"\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    cursor\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access function method\",\"children\":\"execute\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"sql\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"[\"}],\"new_emptno\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"]\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    con\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access function method\",\"children\":\"commit\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"except \",[\"$\",\"span\",null,{\"className\":\"token maybe-class-name\",\"children\":\"Exception\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword module\",\"children\":\"as\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token property literal-property\",\"children\":\"e\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token keyword control-flow\",\"children\":\"if\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'con'\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"in\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"dir\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"        con\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access function method\",\"children\":\"rollback\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"print\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"e\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword control-flow\",\"children\":\"finally\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token keyword control-flow\",\"children\":\"if\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"con\\\"\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"in\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"dir\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"        con\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access function method\",\"children\":\"close\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\"\\n\"]}]]}]}],[\"$\",\"p\",null,{\"children\":[\"注意：① \",[\"$\",\"code\",null,{\"children\":\"'CREATE TABLE t_emp_new LIKE t_emp;'\"}],\"表示使用\",[\"$\",\"code\",null,{\"children\":\"t_emp\"}],\"表的结构创建\",[\"$\",\"code\",null,{\"children\":\"t_emp_new\"}],\"表。② \",[\"$\",\"code\",null,{\"children\":\"CREATE TABLE\"}],\"语句为\",[\"$\",\"code\",null,{\"children\":\"DDL\"}],\"语句，不受事务控制。③ 由于不知道符合条件的部门个数，因此该案例只能使用字符串拼接，不能使用字符串格式化。 ④ \",[\"$\",\"code\",null,{\"children\":\"INSERT INTO t_emp_new 查询出的表结果;\"}],\"语法可以将查询出的数据表集合插入到\",[\"$\",\"code\",null,{\"children\":\"t_emp_new\"}],\"表中。 14. 编写一个\",[\"$\",\"code\",null,{\"children\":\"INSERT\"}],\"语句，向部门表插入两条记录，每条记录都在部门原有最大主键值的基础上加\",[\"$\",\"code\",null,{\"children\":\"10\"}],\"。\"]}],[\"$\",\"p\",null,{\"children\":[\"(1) 不支持边插入，边查询本表数据 例如：\",[\"$\",\"code\",null,{\"children\":\"INSERT INTO 表名(字段1,字段2, ...) VALUES(值1,值2,...);\"}]]}],[\"$\",\"$L16\",null,{\"className\":\"language-js\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-js code-highlight\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"INSERT\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"INTO\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"t_dept\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"deptno\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" dname\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" loc\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"VALUES\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"SELECT\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"MAX\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"deotno\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"FROM\"}],\" t_dept\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"+\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"10\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"A部门\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"南京\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"# 报错 \",[\"$\",\"span\",null,{\"className\":\"token maybe-class-name\",\"children\":\"Unknown\"}],\" column \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'deotno'\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"in\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'field list'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token property literal-property\",\"children\":\"Time\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"0\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],\"014000s\\n\"]}]]}]}],[\"$\",\"p\",null,{\"children\":[\"(2) 可以先查询出数据表，再写入 例如：\",[\"$\",\"code\",null,{\"children\":\"INSERT INTO 表名 数据集;\"}]]}],[\"$\",\"$L16\",null,{\"className\":\"language-js\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-js code-highlight\",\"children\":[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"INSERT\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"INTO\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"t_dept\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"SELECT\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"MAX\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"deptno\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"+\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"10\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"A部门\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"南京\\\"\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"FROM\"}],\" t_dept\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}]}]}],[\"$\",\"$L16\",null,{\"className\":\"language-js\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-js code-highlight\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"INSERT\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"INTO\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"t_dept\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"SELECT\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"MAX\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"deptno\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"+\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"10\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"A部门\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"南京\\\"\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"FROM\"}],\" t_dept\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"UNION\"}],\" \\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"SELECT\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"MAX\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"deptno\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"+\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"20\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"B部门\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"上海\\\"\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"FROM\"}],\" t_dept\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}]]}]}],[\"$\",\"p\",null,{\"children\":[\"(3) \",[\"$\",\"code\",null,{\"children\":\"Python\"}],\"语言实现\"]}],[\"$\",\"$L16\",null,{\"className\":\"language-js\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-js code-highlight\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword module\",\"children\":\"import\"}],\" mysql\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access\",\"children\":\"connector\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access\",\"children\":\"pooling\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"config \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token property string-property\",\"children\":\"'host'\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'localhost'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token property string-property\",\"children\":\"'port'\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"3306\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token property string-property\",\"children\":\"'user'\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'root'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token property string-property\",\"children\":\"'password'\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'299***'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token property string-property\",\"children\":\"'database'\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'demo'\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword control-flow\",\"children\":\"try\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    pool \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" mysql\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access\",\"children\":\"connector\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access\",\"children\":\"pooling\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access function method\",\"children\":[\"$\",\"span\",null,{\"className\":\"token maybe-class-name\",\"children\":\"MySQLConnectionPool\"}]}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"        \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"**\"}],\"config\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"        pool_size\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"10\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    con \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" pool\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access function method\",\"children\":\"get_connection\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    con\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access function method\",\"children\":\"start_transaction\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    cursor \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" con\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access function method\",\"children\":\"cursor\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    sql \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"INSERT INTO t_dept \\\"\"}],\" \\\\\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"          \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"(SELECT MAX(deptno) + 10, %s, %s FROM t_dept) \\\"\"}],\" \\\\\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"          \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"UNION \\\"\"}],\" \\\\\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"          \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"(SELECT MAX(deptno) + 20, %s, %s FROM t_dept);\\\"\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    cursor\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access function method\",\"children\":\"execute\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"sql\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'A部门'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'北京'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'B部门'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'上海'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    con\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access function method\",\"children\":\"commit\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"except \",[\"$\",\"span\",null,{\"className\":\"token maybe-class-name\",\"children\":\"Exception\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword module\",\"children\":\"as\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token property literal-property\",\"children\":\"e\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token keyword control-flow\",\"children\":\"if\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'con'\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"in\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"dir\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"        con\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access function method\",\"children\":\"rollback\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"print\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"e\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword control-flow\",\"children\":\"finally\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token keyword control-flow\",\"children\":\"if\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"con\\\"\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"in\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"dir\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"        con\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access function method\",\"children\":\"close\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\"\\n\"]}]]}]}],[\"$\",\"h2\",null,{\"className\":\"content-header\",\"id\":\"43-总结\",\"children\":[[\"$\",\"a\",null,{\"className\":\"break-words\",\"href\":\"#43-总结\",\"aria-hidden\":\"true\",\"tabIndex\":\"-1\",\"children\":[\"$\",\"span\",null,{\"className\":\"content-header-link\",\"children\":[\"$\",\"svg\",null,{\"className\":\"h-5 linkicon w-5\",\"fill\":\"currentColor\",\"viewBox\":\"0 0 20 20\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"children\":[[\"$\",\"path\",null,{\"d\":\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}],[\"$\",\"path\",null,{\"d\":\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"}]]}]}]}],\"4.3 总结\"]}],[\"$\",\"ol\",null,{\"children\":[\"$\",\"li\",null,{\"children\":[\"技能清单 掌握了数据库连接池技术 掌握了\",[\"$\",\"code\",null,{\"children\":\"Python\"}],\"程序的\",[\"$\",\"code\",null,{\"children\":\"CRUD\"}],\"操作 掌握了用预编译\",[\"$\",\"code\",null,{\"children\":\"SQL\"}],\"抵御\",[\"$\",\"code\",null,{\"children\":\"SQL\"}],\"注入攻击\"]}]}],[\"$\",\"h1\",null,{\"className\":\"content-header\",\"id\":\"5-开发新闻管理系统\",\"children\":[[\"$\",\"a\",null,{\"className\":\"break-words\",\"href\":\"#5-开发新闻管理系统\",\"aria-hidden\":\"true\",\"tabIndex\":\"-1\",\"children\":[\"$\",\"span\",null,{\"className\":\"content-header-link\",\"children\":[\"$\",\"svg\",null,{\"className\":\"h-5 linkicon w-5\",\"fill\":\"currentColor\",\"viewBox\":\"0 0 20 20\",\"xmlns\":\"http://www.w3.org/2000/svg\",\"children\":[[\"$\",\"path\",null,{\"d\":\"M12.232 4.232a2.5 2.5 0 0 1 3.536 3.536l-1.225 1.224a.75.75 0 0 0 1.061 1.06l1.224-1.224a4 4 0 0 0-5.656-5.656l-3 3a4 4 0 0 0 .225 5.865.75.75 0 0 0 .977-1.138 2.5 2.5 0 0 1-.142-3.667l3-3Z\"}],[\"$\",\"path\",null,{\"d\":\"M11.603 7.963a.75.75 0 0 0-.977 1.138 2.5 2.5 0 0 1 .142 3.667l-3 3a2.5 2.5 0 0 1-3.536-3.536l1.225-1.224a.75.75 0 0 0-1.061-1.06l-1.224 1.224a4 4 0 1 0 5.656 5.656l3-3a4 4 0 0 0-.225-5.865Z\"}]]}]}]}],\"5. 开发新闻管理系统\"]}],[\"$\",\"ol\",null,{\"children\":[\"$\",\"li\",null,{\"children\":[\"第三方模块 (1) 升级\",[\"$\",\"code\",null,{\"children\":\"pip\"}],\" \",[\"$\",\"code\",null,{\"children\":\"➜ ~ python3 -m pip install --upgrade pip\"}],\" (2) 安装\",[\"$\",\"code\",null,{\"children\":\"colorama\"}],\" \",[\"$\",\"code\",null,{\"children\":\"➜ ~ pip3 install colorama\"}],\" 向控制台输出彩色文字\"]}]}],[\"$\",\"$L16\",null,{\"className\":\"language-js\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-js code-highlight\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword module\",\"children\":\"from\"}],\" colorama \",[\"$\",\"span\",null,{\"className\":\"token keyword module\",\"children\":\"import\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token maybe-class-name\",\"children\":\"Back\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token maybe-class-name\",\"children\":\"Fore\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token maybe-class-name\",\"children\":\"Style\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"print\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token maybe-class-name\",\"children\":\"Fore\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"LIGHTBLUE_EX\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'HelloWord'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\"  # 设置字体颜色\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"print\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'HelloWord'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"print\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token maybe-class-name\",\"children\":\"Back\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"LIGHTRED_EX\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'HelloWord'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\"  # 设置背景色\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"print\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'HelloWord'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"print\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token maybe-class-name\",\"children\":\"Style\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"RESET_ALL\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'HelloWord'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\"  # 重置样式\\n\"]}]]}]}],[\"$\",\"ol\",null,{\"start\":\"2\",\"children\":[\"$\",\"li\",null,{\"children\":\"项目介绍\"}]}],[\"$\",\"p\",null,{\"children\":[\"(1) 新建项目 \",[\"$\",\"img\",null,{\"alt\":\"image.png\",\"src\":\"https://upload-images.jianshu.io/upload_images/4989175-da315e2e69c22f49.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\"}],\" (2) 项目结构 \",[\"$\",\"code\",null,{\"children\":\"vega\"}],\" - \",[\"$\",\"code\",null,{\"children\":\"db\"}],\"、\",[\"$\",\"code\",null,{\"children\":\"service\"}],\"、\",[\"$\",\"code\",null,{\"children\":\"app.py\"}],\" (3) 管理员身份操作流程图 \",[\"$\",\"img\",null,{\"alt\":\"流程图\",\"src\":\"https://upload-images.jianshu.io/upload_images/4989175-3cea58d301d04e54.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240\"}],\" 3. 代码地址 \",[\"$\",\"a\",null,{\"className\":\"break-words\",\"target\":\"_blank\",\"rel\":\"noopener noreferrer\",\"href\":\"https://github.com/nmwei/database-vega\",\"children\":\"https://github.com/nmwei/database-vega\"}],\" 4. 代码示例(部分) (1) \",[\"$\",\"code\",null,{\"children\":\"mysql_db\"}],\"提供数据库连接池\"]}],[\"$\",\"$L16\",null,{\"className\":\"language-js\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-js code-highlight\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword module\",\"children\":\"import\"}],\" mysql\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access\",\"children\":\"connector\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access\",\"children\":\"pooling\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"__config \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token property string-property\",\"children\":\"'host'\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'localhost'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token property string-property\",\"children\":\"'port'\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"3306\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token property string-property\",\"children\":\"'user'\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'root'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token property string-property\",\"children\":\"'password'\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'299792'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token property string-property\",\"children\":\"'database'\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'vega'\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword control-flow\",\"children\":\"try\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    pool \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" mysql\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access\",\"children\":\"connector\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access\",\"children\":\"pooling\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access function method\",\"children\":[\"$\",\"span\",null,{\"className\":\"token maybe-class-name\",\"children\":\"MySQLConnectionPool\"}]}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"        \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"**\"}],\"__config\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"        pool_size\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"10\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"except \",[\"$\",\"span\",null,{\"className\":\"token maybe-class-name\",\"children\":\"Exception\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword module\",\"children\":\"as\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token property literal-property\",\"children\":\"e\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"print\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"e\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\"\\n\"]}]]}]}],[\"$\",\"p\",null,{\"children\":[\"(2) \",[\"$\",\"code\",null,{\"children\":\"dao\"}],\"文件用来操作数据库，以\",[\"$\",\"code\",null,{\"children\":\"user_dao.py\"}],\"为例。\"]}],[\"$\",\"$L16\",null,{\"className\":\"language-js\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-js code-highlight\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword module\",\"children\":\"from\"}],\" db\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access\",\"children\":\"mysql_db\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword module\",\"children\":\"import\"}],\" pool\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"class\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":\"UserDao\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"    # 验证用户登录\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    def \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"login\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"self\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" username\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" password\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"        \",[\"$\",\"span\",null,{\"className\":\"token keyword control-flow\",\"children\":\"try\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"            con \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" pool\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access function method\",\"children\":\"get_connection\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"            cursor \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" con\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access function method\",\"children\":\"cursor\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"            sql \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"SELECT COUNT(*) FROM t_user WHERE username=%s AND \\\"\"}],\" \\\\\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"                \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"AES_DECRYPT(UNHEX(password), 'HelloWord')=%s;\\\"\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"            cursor\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access function method\",\"children\":\"execute\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"sql\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"username\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" password\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"            count \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" cursor\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access function method\",\"children\":\"fetchone\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"[\"}],[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"0\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"]\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"            # \",[\"$\",\"span\",null,{\"className\":\"token maybe-class-name\",\"children\":\"Python中的三元运算符\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"            \",[\"$\",\"span\",null,{\"className\":\"token keyword control-flow\",\"children\":\"return\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token maybe-class-name\",\"children\":\"True\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword control-flow\",\"children\":\"if\"}],\" count \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"==\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"1\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword control-flow\",\"children\":\"else\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token maybe-class-name\",\"children\":\"False\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"        except \",[\"$\",\"span\",null,{\"className\":\"token maybe-class-name\",\"children\":\"Exception\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword module\",\"children\":\"as\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token property literal-property\",\"children\":\"e\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"            \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"print\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"e\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"        \",[\"$\",\"span\",null,{\"className\":\"token keyword control-flow\",\"children\":\"finally\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"            \",[\"$\",\"span\",null,{\"className\":\"token keyword control-flow\",\"children\":\"if\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"con\\\"\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"in\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"dir\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"                con\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access function method\",\"children\":\"close\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token operator spread\",\"children\":\"...\"}],\"\\n\"]}]]}]}],[\"$\",\"p\",null,{\"children\":[\"(3) \",[\"$\",\"code\",null,{\"children\":\"service\"}],\"文件用来调用\",[\"$\",\"code\",null,{\"children\":\"dao\"}],\"函数，并处理业务逻辑。以\",[\"$\",\"code\",null,{\"children\":\"user_service.py\"}],\"为例。\"]}],[\"$\",\"$L16\",null,{\"className\":\"language-js\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-js code-highlight\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword module\",\"children\":\"from\"}],\" db\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access\",\"children\":\"user_dao\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword module\",\"children\":\"import\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token maybe-class-name\",\"children\":\"UserDao\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"class\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":\"UserService\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    __user_dao \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":[\"$\",\"span\",null,{\"className\":\"token maybe-class-name\",\"children\":\"UserDao\"}]}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"    # 验证用户登录\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    def \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"login\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"self\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" username\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" password\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"        \",[\"$\",\"span\",null,{\"className\":\"token keyword control-flow\",\"children\":\"return\"}],\" self\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access\",\"children\":\"__user_dao\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access function method\",\"children\":\"login\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"username\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" password\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token operator spread\",\"children\":\"...\"}],\"\\n\"]}]]}]}],[\"$\",\"p\",null,{\"children\":[\"(4) \",[\"$\",\"code\",null,{\"children\":\"app.py\"}],\"程序入口\"]}],[\"$\",\"$L16\",null,{\"className\":\"language-js\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-js code-highlight\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword module\",\"children\":\"from\"}],\" colorama \",[\"$\",\"span\",null,{\"className\":\"token keyword module\",\"children\":\"import\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token maybe-class-name\",\"children\":\"Fore\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token maybe-class-name\",\"children\":\"Style\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword module\",\"children\":\"from\"}],\" getpass \",[\"$\",\"span\",null,{\"className\":\"token keyword module\",\"children\":\"import\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token imports\",\"children\":\"getpass\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword module\",\"children\":\"from\"}],\" service\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access\",\"children\":\"user_service\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword module\",\"children\":\"import\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token imports\",\"children\":[\"$\",\"span\",null,{\"className\":\"token maybe-class-name\",\"children\":\"UserService\"}]}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword module\",\"children\":\"from\"}],\" service\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access\",\"children\":\"news_service\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword module\",\"children\":\"import\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token imports\",\"children\":[\"$\",\"span\",null,{\"className\":\"token maybe-class-name\",\"children\":\"NewsService\"}]}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword module\",\"children\":\"from\"}],\" service\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access\",\"children\":\"role_service\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword module\",\"children\":\"import\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token maybe-class-name\",\"children\":\"RoleService\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword module\",\"children\":\"import\"}],\" os\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword module\",\"children\":\"import\"}],\" sys\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword module\",\"children\":\"import\"}],\" time\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"__user_service \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":[\"$\",\"span\",null,{\"className\":\"token maybe-class-name\",\"children\":\"UserService\"}]}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"__news_service \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":[\"$\",\"span\",null,{\"className\":\"token maybe-class-name\",\"children\":\"NewsService\"}]}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"__role_service \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":[\"$\",\"span\",null,{\"className\":\"token maybe-class-name\",\"children\":\"RoleService\"}]}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword control-flow\",\"children\":\"while\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token property literal-property\",\"children\":\"True\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\"  # 轮询操作\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    os\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access function method\",\"children\":\"system\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'clear'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\"  # 如果是\",[\"$\",\"span\",null,{\"className\":\"token dom variable\",\"children\":\"window\"}],\"系统，使用cls\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"print\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token maybe-class-name\",\"children\":\"Fore\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"LIGHTBLUE_EX\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'\\\\n\\\\t================='\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"print\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token maybe-class-name\",\"children\":\"Fore\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"LIGHTBLUE_EX\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'\\\\n\\\\t欢迎使用新闻管理系统'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"print\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token maybe-class-name\",\"children\":\"Fore\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"LIGHTBLUE_EX\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'\\\\n\\\\t================='\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"print\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token maybe-class-name\",\"children\":\"Fore\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"LIGHTGREEN_EX\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'\\\\n\\\\t1. 登录系统'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"print\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token maybe-class-name\",\"children\":\"Fore\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"LIGHTGREEN_EX\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'\\\\n\\\\t2. 退出系统'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"print\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token maybe-class-name\",\"children\":\"Style\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"RESET_ALL\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\"  # 重置样式\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    opt \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"input\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"\\\\n\\\\t请输入操作编号: \\\"\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token keyword control-flow\",\"children\":\"if\"}],\" opt \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"==\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'1'\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"        username \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"input\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'\\\\n\\\\t用户名: '\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"        password \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"getpass\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'\\\\n\\\\t密码: '\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\"  # 使输密码过程不可见\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"        result \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" __user_service\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access function method\",\"children\":\"login\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"username\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" password\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"        # 登录成功\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token operator spread\",\"children\":\"...\"}],\"\\n\"]}]]}]}],[\"$\",\"p\",null,{\"children\":[\"注意：①\",[\"$\",\"code\",null,{\"children\":\"Python\"}],\"中的三元运算符：\",[\"$\",\"code\",null,{\"children\":\"True if count == 1 else False\"}],\"。②数据库中管理员用户名密码为：\",[\"$\",\"code\",null,{\"children\":\"admin\"}],\" \",[\"$\",\"code\",null,{\"children\":\"123456\"}],\"。\"]}]]}],[\"$\",\"div\",null,{\"className\":\"pt-6 pb-6 text-sm text-gray-700 dark:text-gray-300\",\"children\":[[\"$\",\"a\",null,{\"className\":\"break-words\",\"target\":\"_blank\",\"rel\":\"nofollow\",\"href\":\"https://mobile.twitter.com/search?q=https%3A%2F%2Fnmwei.github.io%2Fblog%2FPython%2FPython%E6%93%8D%E4%BD%9C%E4%B8%89%E5%A4%A7%E6%95%B0%E6%8D%AE%E5%BA%93---MySQL%E6%95%B0%E6%8D%AE%E5%BA%93(Part2)\",\"children\":\"Discuss on Twitter\"}],\" • \",[\"$\",\"a\",null,{\"className\":\"break-words\",\"target\":\"_blank\",\"rel\":\"noopener noreferrer\",\"href\":\"https://github.com/nmwei/nmwei.github.io/blob/main/data/blog/Python/Python操作三大数据库---MySQL数据库(Part2).mdx\",\"children\":\"View on GitHub\"}]]}],[\"$\",\"div\",null,{\"className\":\"pt-6 pb-6 text-center text-gray-700 dark:text-gray-300\",\"id\":\"comment\",\"children\":[\"$\",\"$L17\",null,{\"slug\":\"Python/Python操作三大数据库---MySQL数据库(Part2)\"}]}]]}],[\"$\",\"footer\",null,{\"children\":[[\"$\",\"div\",null,{\"className\":\"divide-gray-200 text-sm leading-5 font-medium xl:col-start-1 xl:row-start-2 xl:divide-y dark:divide-gray-700\",\"children\":[[\"$\",\"div\",null,{\"className\":\"py-4 xl:py-8\",\"children\":[[\"$\",\"h2\",null,{\"className\":\"text-xs tracking-wide text-gray-500 uppercase dark:text-gray-400\",\"children\":\"Tags\"}],[\"$\",\"div\",null,{\"className\":\"flex flex-wrap\",\"children\":[[\"$\",\"$L5\",\"Python\",{\"href\":\"/tags/python\",\"className\":\"text-primary-500 hover:text-primary-600 dark:hover:text-primary-400 mr-3 text-sm font-medium\",\"children\":\"Python\"}],[\"$\",\"$L5\",\"后端\",{\"href\":\"/tags/后端\",\"className\":\"text-primary-500 hover:text-primary-600 dark:hover:text-primary-400 mr-3 text-sm font-medium\",\"children\":\"后端\"}]]}]]}],[\"$\",\"div\",null,{\"className\":\"flex justify-between py-4 xl:block xl:space-y-8 xl:py-8\",\"children\":[[\"$\",\"div\",null,{\"children\":[[\"$\",\"h2\",null,{\"className\":\"text-xs tracking-wide text-gray-500 uppercase dark:text-gray-400\",\"children\":\"Previous Article\"}],[\"$\",\"div\",null,{\"className\":\"text-primary-500 hover:text-primary-600 dark:hover:text-primary-400\",\"children\":[\"$\",\"$L5\",null,{\"className\":\"break-words\",\"href\":\"/blog/Python/Python基础入门---内存管理与多线程\",\"children\":\"Python基础入门---内存管理与多线程\"}]}]]}],[\"$\",\"div\",null,{\"children\":[[\"$\",\"h2\",null,{\"className\":\"text-xs tracking-wide text-gray-500 uppercase dark:text-gray-400\",\"children\":\"Next Article\"}],[\"$\",\"div\",null,{\"className\":\"text-primary-500 hover:text-primary-600 dark:hover:text-primary-400\",\"children\":[\"$\",\"$L5\",null,{\"className\":\"break-words\",\"href\":\"/blog/Python/Python操作三大数据库---MySQL数据库(Part1)\",\"children\":\"Python操作三大数据库---MySQL数据库(Part1)\"}]}]]}]]}]]}],[\"$\",\"div\",null,{\"className\":\"pt-4 xl:pt-8\",\"children\":[\"$\",\"$L5\",null,{\"className\":\"text-primary-500 hover:text-primary-600 dark:hover:text-primary-400\",\"href\":\"/blog\",\"aria-label\":\"Back to the blog\",\"children\":\"← Back to the blog\"}]}]]}]]}]]}]}]]}]]\n"])</script><script>self.__next_f.push([1,"10:[[\"$\",\"meta\",\"0\",{\"charSet\":\"utf-8\"}],[\"$\",\"meta\",\"1\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}]]\nd:null\n"])</script><script>self.__next_f.push([1,"e:null\n"])</script><script>self.__next_f.push([1,"12:[[\"$\",\"title\",\"0\",{\"children\":\"Python操作三大数据库---MySQL数据库(Part2) | 我的博客\"}],[\"$\",\"meta\",\"1\",{\"name\":\"description\",\"content\":\"Python操作三大数据库---MySQL数据库(Part2)相关文章\"}],[\"$\",\"meta\",\"2\",{\"name\":\"robots\",\"content\":\"index, follow\"}],[\"$\",\"meta\",\"3\",{\"name\":\"googlebot\",\"content\":\"index, follow, max-video-preview:-1, max-image-preview:large, max-snippet:-1\"}],[\"$\",\"link\",\"4\",{\"rel\":\"canonical\",\"href\":\"https://nmwei.github.io/blog/Python/Python%E6%93%8D%E4%BD%9C%E4%B8%89%E5%A4%A7%E6%95%B0%E6%8D%AE%E5%BA%93---MySQL%E6%95%B0%E6%8D%AE%E5%BA%93(Part2)\"}],[\"$\",\"link\",\"5\",{\"rel\":\"alternate\",\"type\":\"application/rss+xml\",\"href\":\"https://nmwei.github.io/feed.xml\"}],[\"$\",\"meta\",\"6\",{\"property\":\"og:title\",\"content\":\"Python操作三大数据库---MySQL数据库(Part2)\"}],[\"$\",\"meta\",\"7\",{\"property\":\"og:description\",\"content\":\"Python操作三大数据库---MySQL数据库(Part2)相关文章\"}],[\"$\",\"meta\",\"8\",{\"property\":\"og:url\",\"content\":\"https://nmwei.github.io/blog/Python/Python%E6%93%8D%E4%BD%9C%E4%B8%89%E5%A4%A7%E6%95%B0%E6%8D%AE%E5%BA%93---MySQL%E6%95%B0%E6%8D%AE%E5%BA%93(Part2)\"}],[\"$\",\"meta\",\"9\",{\"property\":\"og:site_name\",\"content\":\"我的博客\"}],[\"$\",\"meta\",\"10\",{\"property\":\"og:locale\",\"content\":\"en_US\"}],[\"$\",\"meta\",\"11\",{\"property\":\"og:image\",\"content\":\"https://nmwei.github.io/static/images/python.jpg\"}],[\"$\",\"meta\",\"12\",{\"property\":\"og:type\",\"content\":\"article\"}],[\"$\",\"meta\",\"13\",{\"property\":\"article:published_time\",\"content\":\"2020-01-03T00:00:00.000Z\"}],[\"$\",\"meta\",\"14\",{\"property\":\"article:modified_time\",\"content\":\"2020-01-03T00:00:00.000Z\"}],[\"$\",\"meta\",\"15\",{\"property\":\"article:author\",\"content\":\"倪梦威\"}],[\"$\",\"meta\",\"16\",{\"name\":\"twitter:card\",\"content\":\"summary_large_image\"}],[\"$\",\"meta\",\"17\",{\"name\":\"twitter:title\",\"content\":\"Python操作三大数据库---MySQL数据库(Part2)\"}],[\"$\",\"meta\",\"18\",{\"name\":\"twitter:description\",\"content\":\"Python操作三大数据库---MySQL数据库(Part2)相关文章\"}],[\"$\",\"meta\",\"19\",{\"name\":\"twitter:image\",\"content\":\"https://nmwei.github.io/static/images/python.jpg\"}]]\n"])</script></body></html>